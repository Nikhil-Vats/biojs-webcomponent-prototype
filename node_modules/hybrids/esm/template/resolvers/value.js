function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

import { dataMap, removeTemplate } from '../utils'; // eslint-disable-next-line import/no-cycle

import resolveArray from './array';
export default function resolveValue(host, target, value) {
  var type = Array.isArray(value) ? 'array' : _typeof(value);
  var data = dataMap.get(target, {});

  if (data.type !== type) {
    removeTemplate(target);
    data = dataMap.set(target, {
      type: type
    });

    if (target.textContent !== '') {
      target.textContent = '';
    }
  }

  switch (type) {
    case 'function':
      value(host, target);
      break;

    case 'array':
      resolveArray(host, target, value);
      break;

    default:
      target.textContent = type === 'number' || value ? value : '';
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvdmFsdWUuanMiXSwibmFtZXMiOlsiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwicmVzb2x2ZUFycmF5IiwicmVzb2x2ZVZhbHVlIiwiaG9zdCIsInRhcmdldCIsInZhbHVlIiwidHlwZSIsIkFycmF5IiwiaXNBcnJheSIsImRhdGEiLCJnZXQiLCJzZXQiLCJ0ZXh0Q29udGVudCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxPQUFULEVBQWtCQyxjQUFsQixRQUF3QyxVQUF4QyxDLENBQ0E7O0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixTQUF6QjtBQUVBLGVBQWUsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxLQUFwQyxFQUEyQztBQUN4RCxNQUFNQyxJQUFJLEdBQUdDLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxLQUFkLElBQXVCLE9BQXZCLFdBQXdDQSxLQUF4QyxDQUFiO0FBQ0EsTUFBSUksSUFBSSxHQUFHVixPQUFPLENBQUNXLEdBQVIsQ0FBWU4sTUFBWixFQUFvQixFQUFwQixDQUFYOztBQUVBLE1BQUlLLElBQUksQ0FBQ0gsSUFBTCxLQUFjQSxJQUFsQixFQUF3QjtBQUN0Qk4sSUFBQUEsY0FBYyxDQUFDSSxNQUFELENBQWQ7QUFDQUssSUFBQUEsSUFBSSxHQUFHVixPQUFPLENBQUNZLEdBQVIsQ0FBWVAsTUFBWixFQUFvQjtBQUFFRSxNQUFBQSxJQUFJLEVBQUpBO0FBQUYsS0FBcEIsQ0FBUDs7QUFFQSxRQUFJRixNQUFNLENBQUNRLFdBQVAsS0FBdUIsRUFBM0IsRUFBK0I7QUFDN0JSLE1BQUFBLE1BQU0sQ0FBQ1EsV0FBUCxHQUFxQixFQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsVUFBUU4sSUFBUjtBQUNFLFNBQUssVUFBTDtBQUNFRCxNQUFBQSxLQUFLLENBQUNGLElBQUQsRUFBT0MsTUFBUCxDQUFMO0FBQ0E7O0FBQ0YsU0FBSyxPQUFMO0FBQ0VILE1BQUFBLFlBQVksQ0FBQ0UsSUFBRCxFQUFPQyxNQUFQLEVBQWVDLEtBQWYsQ0FBWjtBQUNBOztBQUNGO0FBQ0VELE1BQUFBLE1BQU0sQ0FBQ1EsV0FBUCxHQUFxQk4sSUFBSSxLQUFLLFFBQVQsSUFBcUJELEtBQXJCLEdBQTZCQSxLQUE3QixHQUFxQyxFQUExRDtBQVJKO0FBVUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRhTWFwLCByZW1vdmVUZW1wbGF0ZSB9IGZyb20gJy4uL3V0aWxzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmltcG9ydCByZXNvbHZlQXJyYXkgZnJvbSAnLi9hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVWYWx1ZShob3N0LCB0YXJnZXQsIHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/ICdhcnJheScgOiB0eXBlb2YgdmFsdWU7XG4gIGxldCBkYXRhID0gZGF0YU1hcC5nZXQodGFyZ2V0LCB7fSk7XG5cbiAgaWYgKGRhdGEudHlwZSAhPT0gdHlwZSkge1xuICAgIHJlbW92ZVRlbXBsYXRlKHRhcmdldCk7XG4gICAgZGF0YSA9IGRhdGFNYXAuc2V0KHRhcmdldCwgeyB0eXBlIH0pO1xuXG4gICAgaWYgKHRhcmdldC50ZXh0Q29udGVudCAhPT0gJycpIHtcbiAgICAgIHRhcmdldC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHZhbHVlKGhvc3QsIHRhcmdldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXNvbHZlQXJyYXkoaG9zdCwgdGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gdHlwZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgPyB2YWx1ZSA6ICcnO1xuICB9XG59XG4iXX0=