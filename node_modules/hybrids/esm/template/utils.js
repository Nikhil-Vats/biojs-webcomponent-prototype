var map = new WeakMap();
export var dataMap = {
  get: function get(key, defaultValue) {
    if (map.has(key)) {
      return map.get(key);
    }

    if (defaultValue !== undefined) {
      map.set(key, defaultValue);
    }

    return defaultValue;
  },
  set: function set(key, value) {
    map.set(key, value);
    return value;
  }
};
export function getTemplateEnd(node) {
  var data; // eslint-disable-next-line no-cond-assign

  while (node && (data = dataMap.get(node)) && data.endNode) {
    node = data.endNode;
  }

  return node;
}
export function removeTemplate(target) {
  var data = dataMap.get(target);
  var startNode = data.startNode;

  if (startNode) {
    var endNode = getTemplateEnd(data.endNode);
    var node = startNode;
    var lastNextSibling = endNode.nextSibling;

    while (node) {
      var nextSibling = node.nextSibling;
      node.parentNode.removeChild(node);
      node = nextSibling !== lastNextSibling && nextSibling;
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS91dGlscy5qcyJdLCJuYW1lcyI6WyJtYXAiLCJXZWFrTWFwIiwiZGF0YU1hcCIsImdldCIsImtleSIsImRlZmF1bHRWYWx1ZSIsImhhcyIsInVuZGVmaW5lZCIsInNldCIsInZhbHVlIiwiZ2V0VGVtcGxhdGVFbmQiLCJub2RlIiwiZGF0YSIsImVuZE5vZGUiLCJyZW1vdmVUZW1wbGF0ZSIsInRhcmdldCIsInN0YXJ0Tm9kZSIsImxhc3ROZXh0U2libGluZyIsIm5leHRTaWJsaW5nIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxHQUFHLEdBQUcsSUFBSUMsT0FBSixFQUFaO0FBQ0EsT0FBTyxJQUFNQyxPQUFPLEdBQUc7QUFDckJDLEVBQUFBLEdBRHFCLGVBQ2pCQyxHQURpQixFQUNaQyxZQURZLEVBQ0U7QUFDckIsUUFBSUwsR0FBRyxDQUFDTSxHQUFKLENBQVFGLEdBQVIsQ0FBSixFQUFrQjtBQUNoQixhQUFPSixHQUFHLENBQUNHLEdBQUosQ0FBUUMsR0FBUixDQUFQO0FBQ0Q7O0FBRUQsUUFBSUMsWUFBWSxLQUFLRSxTQUFyQixFQUFnQztBQUM5QlAsTUFBQUEsR0FBRyxDQUFDUSxHQUFKLENBQVFKLEdBQVIsRUFBYUMsWUFBYjtBQUNEOztBQUVELFdBQU9BLFlBQVA7QUFDRCxHQVhvQjtBQVlyQkcsRUFBQUEsR0FacUIsZUFZakJKLEdBWmlCLEVBWVpLLEtBWlksRUFZTDtBQUNkVCxJQUFBQSxHQUFHLENBQUNRLEdBQUosQ0FBUUosR0FBUixFQUFhSyxLQUFiO0FBQ0EsV0FBT0EsS0FBUDtBQUNEO0FBZm9CLENBQWhCO0FBa0JQLE9BQU8sU0FBU0MsY0FBVCxDQUF3QkMsSUFBeEIsRUFBOEI7QUFDbkMsTUFBSUMsSUFBSixDQURtQyxDQUVuQzs7QUFDQSxTQUFPRCxJQUFJLEtBQUtDLElBQUksR0FBR1YsT0FBTyxDQUFDQyxHQUFSLENBQVlRLElBQVosQ0FBWixDQUFKLElBQXNDQyxJQUFJLENBQUNDLE9BQWxELEVBQTJEO0FBQ3pERixJQUFBQSxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsT0FBWjtBQUNEOztBQUVELFNBQU9GLElBQVA7QUFDRDtBQUVELE9BQU8sU0FBU0csY0FBVCxDQUF3QkMsTUFBeEIsRUFBZ0M7QUFDckMsTUFBTUgsSUFBSSxHQUFHVixPQUFPLENBQUNDLEdBQVIsQ0FBWVksTUFBWixDQUFiO0FBQ0EsTUFBTUMsU0FBUyxHQUFHSixJQUFJLENBQUNJLFNBQXZCOztBQUVBLE1BQUlBLFNBQUosRUFBZTtBQUNiLFFBQU1ILE9BQU8sR0FBR0gsY0FBYyxDQUFDRSxJQUFJLENBQUNDLE9BQU4sQ0FBOUI7QUFFQSxRQUFJRixJQUFJLEdBQUdLLFNBQVg7QUFDQSxRQUFNQyxlQUFlLEdBQUdKLE9BQU8sQ0FBQ0ssV0FBaEM7O0FBRUEsV0FBT1AsSUFBUCxFQUFhO0FBQ1gsVUFBTU8sV0FBVyxHQUFHUCxJQUFJLENBQUNPLFdBQXpCO0FBQ0FQLE1BQUFBLElBQUksQ0FBQ1EsVUFBTCxDQUFnQkMsV0FBaEIsQ0FBNEJULElBQTVCO0FBQ0FBLE1BQUFBLElBQUksR0FBR08sV0FBVyxLQUFLRCxlQUFoQixJQUFtQ0MsV0FBMUM7QUFDRDtBQUNGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXAgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IGRhdGFNYXAgPSB7XG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChtYXAuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBtYXAuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXAuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9LFxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIG1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBsYXRlRW5kKG5vZGUpIHtcbiAgbGV0IGRhdGE7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuICB3aGlsZSAobm9kZSAmJiAoZGF0YSA9IGRhdGFNYXAuZ2V0KG5vZGUpKSAmJiBkYXRhLmVuZE5vZGUpIHtcbiAgICBub2RlID0gZGF0YS5lbmROb2RlO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVUZW1wbGF0ZSh0YXJnZXQpIHtcbiAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCk7XG4gIGNvbnN0IHN0YXJ0Tm9kZSA9IGRhdGEuc3RhcnROb2RlO1xuXG4gIGlmIChzdGFydE5vZGUpIHtcbiAgICBjb25zdCBlbmROb2RlID0gZ2V0VGVtcGxhdGVFbmQoZGF0YS5lbmROb2RlKTtcblxuICAgIGxldCBub2RlID0gc3RhcnROb2RlO1xuICAgIGNvbnN0IGxhc3ROZXh0U2libGluZyA9IGVuZE5vZGUubmV4dFNpYmxpbmc7XG5cbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgY29uc3QgbmV4dFNpYmxpbmcgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nICE9PSBsYXN0TmV4dFNpYmxpbmcgJiYgbmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG4iXX0=