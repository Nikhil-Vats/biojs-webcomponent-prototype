!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=44)}([function(e,t,n){var r=n(32)("wks"),i=n(18),o=n(1).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),i=n(29);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),i=n(5),o=n(13),a=n(18)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,n){var r=n(3),i=n(48),o=n(49),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={addClass:function(e,t){n.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(t,"")},hasClass:function(e,t){return e.className.split(" ").indexOf(t)>=0}};e.exports=n},function(e,t,n){var r=n(1),i=n(2),o=n(5),a=n(8),s=n(9),l=function(e,t,n){var u,c,d,h,f=e&l.F,p=e&l.G,v=e&l.S,g=e&l.P,m=e&l.B,y=p?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),w=b.prototype||(b.prototype={});for(u in p&&(n=t),n)d=((c=!f&&y&&void 0!==y[u])?y:n)[u],h=m&&c?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,u,d,e&l.U),b[u]!=d&&o(b,u,h),g&&w[u]!=d&&(w[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(6),i=n(1).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(21),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=!1},function(e,t,n){var r=n(10),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(30),i=n(19);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(32)("keys"),i=n(18);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(12).f,i=n(13),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){(function(e,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=i._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=a.push,c=a.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,p=Object.keys,v=Object.create,g=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};t.nodeType?i._=m:(!n.nodeType&&n.exports&&(t=n.exports=m),t._=m),m.VERSION="1.9.1";var y,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return m.iteratee!==y?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?b(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=y=function(e,t){return w(e,t,1/0)};var x=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},E=function(e){if(!m.isObject(e))return{};if(v)return v(e);g.prototype=e;var t=new g;return g.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},C=function(e,t){return null!=e&&h.call(e,t)},_=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},T=Math.pow(2,53)-1,N=S("length"),k=function(e){var t=N(e);return"number"==typeof t&&t>=0&&t<=T};m.each=m.forEach=function(e,t,n){var r,i;if(t=b(t,n),k(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){t=w(t,n);for(var r=!k(e)&&m.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var D=function(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!k(t)&&m.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;r=n(r,t[l],l,t)}return r}(t,b(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=D(1),m.reduceRight=m.foldr=D(-1),m.find=m.detect=function(e,t,n){var r=(k(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=w(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(w(t)),n)},m.every=m.all=function(e,t,n){t=w(t,n);for(var r=!k(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,n){t=w(t,n);for(var r=!k(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return k(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=x(function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=_(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=k(e)?e:m.values(e)).length;s<l;s++)null!=(r=e[s])&&r>o&&(o=r);else t=w(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},m.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=k(e)?e:m.values(e)).length;s<l;s++)null!=(r=e[s])&&r<o&&(o=r);else t=w(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return k(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=k(e)?m.clone(e):m.values(e),i=N(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=m.random(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=w(t,n),m.pluck(m.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=w(r,i),m.each(n,function(t,i){var a=r(t,i,n);e(o,t,a)}),o}};m.groupBy=M(function(e,t,n){C(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=M(function(e,t,n){e[n]=t}),m.countBy=M(function(e,t,n){C(e,n)?e[n]++:e[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?c.call(e):m.isString(e)?e.match(P):k(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:k(e)?e.length:m.keys(e).length},m.partition=M(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var O=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,a=N(e);o<a;o++){var s=e[o];if(k(s)&&(m.isArray(s)||m.isArguments(s)))if(t)for(var l=0,u=s.length;l<u;)r[i++]=s[l++];else O(s,t,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(e,t){return O(e,t,!1)},m.without=x(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=N(e);a<s;a++){var l=e[a],u=n?n(l,a,e):l;t&&!n?(a&&o===u||i.push(l),o=u):n?m.contains(o,u)||(o.push(u),i.push(l)):m.contains(i,l)||i.push(l)}return i},m.union=x(function(e){return m.uniq(O(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=N(e);r<i;r++){var o=e[r];if(!m.contains(t,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},m.difference=x(function(e,t){return t=O(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,N).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=x(m.unzip),m.object=function(e,t){for(var n={},r=0,i=N(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var A=function(e){return function(t,n,r){n=w(n,r);for(var i=N(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=A(1),m.findLastIndex=A(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=w(n,r,1))(t),o=0,a=N(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var L=function(e,t,n){return function(r,i,o){var a=0,s=N(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(c.call(r,a,s),m.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}};m.indexOf=L(1,m.findIndex,m.sortedIndex),m.lastIndexOf=L(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(c.call(e,r,r+=t));return n};var B=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=E(e.prototype),a=e.apply(o,i);return m.isObject(a)?a:o};m.bind=x(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=x(function(i){return B(e,r,t,this,n.concat(i))});return r}),m.partial=x(function(e,t){var n=m.partial.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return B(e,r,this,this,a)};return r}),m.partial.placeholder=m,m.bindAll=x(function(e,t){var n=(t=O(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}}),m.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return C(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=x(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:m.now(),r=null,a=e.apply(i,o),r||(i=o=null)},u=function(){var u=m.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},m.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=x(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=m.delay(o,t,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=x;var I=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,t){var n=j.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||s,o="constructor";for(C(e,o)&&!m.contains(t,o)&&t.push(o);n--;)(o=j[n])in e&&e[o]!==i[o]&&!m.contains(t,o)&&t.push(o)};m.keys=function(e){if(!m.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)C(e,n)&&t.push(n);return I&&R(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&R(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=w(t,n);for(var r=m.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(e,t,n){t=w(t,n);for(var r,i=m.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var z,V,q=function(e,t,n){return t in n};m.pick=x(function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=m.allKeys(e)):(r=q,t=O(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n}),m.omit=x(function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(O(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)}),m.defaults=F(m.allKeys,!0),m.create=function(e,t){var n=E(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},z=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&V(e,t,n,r)},V=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!z(e[u],t[u],n,r))return!1}else{var c,h=m.keys(e);if(u=h.length,m.keys(t).length!==u)return!1;for(;u--;)if(c=h[u],!C(t,c)||!z(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return z(e,t)},m.isEmpty=function(e){return null==e||(k(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=f||function(e){return"[object Array]"===d.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return C(e,"callee")});var H=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return C(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!h.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return i._=o,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return _(t,e)}:S(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?_(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Y=m.invert(X),W=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=W(X),m.unescape=W(Y),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=m.isFunction(o)?o.call(e):o}return e};var G=0;m.uniqueId=function(e){var t=++G+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+U[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(Z,$),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,m)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Q(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}}),m.each(["concat","join","slice"],function(e){var t=a[e];m.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return m}.apply(t,[]))||(n.exports=r)}()}).call(this,n(4),n(90)(e))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(19);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(2),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(22)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(0)("unscopables"),i=Array.prototype;null==i[r]&&n(5)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r=n(22),i=n(16),o=n(8),a=n(5),s=n(11),l=n(58),u=n(26),c=n(64),d=n(0)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,p,v,g,m){l(n,t,p);var y,b,w,x=function(e){if(!h&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S="values"==v,C=!1,_=e.prototype,T=_[d]||_["@@iterator"]||v&&_[v],N=T||x(v),k=v?S?x("entries"):N:void 0,D="Array"==t&&_.entries||T;if(D&&(w=c(D.call(new e)))!==Object.prototype&&w.next&&(u(w,E,!0),r||"function"==typeof w[d]||a(w,d,f)),S&&T&&"values"!==T.name&&(C=!0,N=function(){return T.call(this)}),r&&!m||!h&&!C&&_[d]||a(_,d,N),s[t]=N,s[E]=f,v)if(y={values:S?N:x("values"),keys:g?N:x("keys"),entries:k},m)for(b in y)b in _||o(_,b,y[b]);else i(i.P+i.F*(h||C),t,y);return y}},function(e,t,n){var r=n(61),i=n(36);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r,i,o,a=n(9),s=n(75),l=n(37),u=n(17),c=n(1),d=c.process,h=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete m[e]},"process"==n(10)(d)?r=function(e){d.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:f}},function(e,t,n){"use strict";var r=n(14);function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";(function(t){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n(93)),o=r(n(94));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d="undefined"==typeof window?null:window,h=d?d.navigator:null,f=(d&&d.document,a("")),p=a({}),v=a(function(){}),g="undefined"==typeof HTMLElement?"undefined":a(HTMLElement),m=function(e){return e&&e.instanceString&&b(e.instanceString)?e.instanceString():null},y=function(e){return null!=e&&a(e)==f},b=function(e){return null!=e&&a(e)===v},w=function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},x=function(e){return null!=e&&a(e)===p&&!w(e)&&e.constructor===Object},E=function(e){return null!=e&&a(e)===a(1)&&!isNaN(e)},S=function(e){return"undefined"===g?void 0:null!=e&&e instanceof HTMLElement},C=function(e){return _(e)||T(e)},_=function(e){return"collection"===m(e)&&e._private.single},T=function(e){return"collection"===m(e)&&!e._private.single},N=function(e){return"core"===m(e)},k=function(e){return"stylesheet"===m(e)},D=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},M=function(e){return function(e){return null!=e&&a(e)===p}(e)&&b(e.then)},P=function(){return h&&h.userAgent.match(/msie|trident|edge/i)},O=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,i=arguments,o=t.apply(this,i),a=n.cache;return(r=a[o])||(r=a[o]=e.apply(this,i)),r};return n.cache={},n},A=O(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),L=O(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),B=O(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),I=function(e){return D(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},j="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",R=function(e,t){return e<t?-1:e>t?1:0},F=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];e[a]=r[a]}}return e},z=function(e){return(w(e)?e:null)||function(e){return V[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r;return 4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),r=parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),r=parseInt(e[5]+e[6],16)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(e)||function(e){var t,n,r,i,o,a,s,l;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)a=s=l=Math.round(255*i);else{var d=i<.5?i*(1+r):i+r-i*r,h=2*i-d;a=Math.round(255*u(h,d,n+1/3)),s=Math.round(255*u(h,d,n)),l=Math.round(255*u(h,d,n-1/3))}t=[a,s,l,o]}return t}(e)},V={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},q=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(x(o))throw Error("Tried to set map with object key");i<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},H=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(x(o))throw Error("Tried to get map with object key");if(null==(t=t[o]))return t}return t},X=d?d.performance:null,Y=X&&X.now?function(){return X.now()}:function(){return Date.now()},W=function(){if(d){if(d.requestAnimationFrame)return function(e){d.requestAnimationFrame(e)};if(d.mozRequestAnimationFrame)return function(e){d.mozRequestAnimationFrame(e)};if(d.webkitRequestAnimationFrame)return function(e){d.webkitRequestAnimationFrame(e)};if(d.msRequestAnimationFrame)return function(e){d.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Y())},1e3/60)}}(),G=function(e){return W(e)},K=Y,U=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(t=e.next()).done;)n=33*n^t.value;return n>>>0},Z=function(e){return(33*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381)^e)>>>0},$=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return U({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)},Q=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return U({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},J=function(){return ee(arguments)},ee=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?Q(r):Q(r,t)}return t},te=null!=console.warn,ne=null!=console.trace,re=Number.MAX_SAFE_INTEGER||9007199254740991,ie=function(){return!0},oe=function(){return!1},ae=function(){return 0},se=function(){},le=function(e){throw new Error(e)},ue=function(e){te?console.warn(e):(console.log(e),ne&&console.trace())},ce=function(e){return null==e?e:w(e)?e.slice():x(e)?function(e){return F({},e)}(e):e},de=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},he={},fe=function(){return he},pe=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var o=t[i],a=null==n?void 0:n[o];r[o]=void 0===a?e[o]:a}return r}},ve=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},ge=function(e){e.splice(0,e.length)},me=function(e,t,n){return n&&(t=B(n,t)),e[t]},ye=function(e,t,n,r){n&&(t=B(n,t)),e[t]=r},be="undefined"!=typeof Map?Map:function(){function e(){s(this,e),this._obj={}}return u(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),we=function(){function e(t){if(s(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return u(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),xe="undefined"!==("undefined"==typeof Set?"undefined":a(Set))?Set:we,Ee=function(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&N(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new xe,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var o=t.renderedPosition,a=e.pan(),s=e.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];w(t.classes)?l=t.classes:y(t.classes)&&(l=t.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var d=l[u];d&&""!==d&&i.classes.add(d)}var h=t.style||t.css;h&&(ue("Setting a `style` bypass at element creation is deprecated"),e.style().applyBypass(this,h)),this.createEmitter(),(void 0===n||n)&&this.restore()}else le("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else le("An element must have a core reference and parameters set")},Se=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;x(t)&&!C(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||b(n)?r:n,n=b(n)?n:function(){};for(var o,a=this._private.cy,s=t=y(t)?this.filter(t):t,l=[],u=[],c={},d={},h={},f=0,p=this.byGroup(),v=p.nodes,g=p.edges,m=0;m<s.length;m++){var w=s[m],E=w.id();w.isNode()&&(l.unshift(w),e.bfs&&(h[E]=!0,u.push(w)),d[E]=0)}var S=function(){var t=e.bfs?l.shift():l.pop(),i=t.id();if(e.dfs){if(h[i])return"continue";h[i]=!0,u.push(t)}var a,s=d[i],p=c[i],m=null!=p?p.source():null,y=null!=p?p.target():null,b=null==p?void 0:t.same(m)?y[0]:m[0];if(!0===(a=n(t,p,b,f++,s)))return o=t,"break";if(!1===a)return"break";for(var w=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&g.has(e)}),x=0;x<w.length;x++){var E=w[x],S=E.connectedNodes().filter(function(e){return!e.same(t)&&v.has(e)}),C=S.id();0===S.length||h[C]||(S=S[0],l.push(S),e.bfs&&(h[C]=!0,u.push(S)),c[C]=E,d[C]=d[i]+1)}};e:for(;0!==l.length;){switch(S()){case"continue":continue;case"break":break e}}for(var _=a.collection(),T=0;T<u.length;T++){var N=u[T],k=c[N.id()];null!=k&&_.merge(k),_.merge(N)}return{path:a.collection(_),found:a.collection(o)}}},Ce={breadthFirstSearch:Se({bfs:!0}),depthFirstSearch:Se({dfs:!0})};Ce.bfs=Ce.breadthFirstSearch,Ce.dfs=Ce.depthFirstSearch;var _e=pe({root:null,weight:function(e){return 1},directed:!1}),Te={dijkstra:function(e){if(!x(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=_e(e),r=n.root,i=n.weight,a=n.directed,s=this,l=i,u=y(r)?this.filter(r)[0]:r[0],c={},d={},h={},f=this.byGroup(),p=f.nodes,v=f.edges;v.unmergeBy(function(e){return e.isLoop()});for(var g=function(e){return c[e.id()]},m=function(e,t){c[e.id()]=t,b.updateItem(e)},b=new o(function(e,t){return g(e)-g(t)}),w=0;w<p.length;w++){var E=p[w];c[E.id()]=E.same(u)?0:1/0,b.push(E)}for(var S=function(e,t){for(var n,r=(a?e.edgesTo(t):e.edgesWith(t)).intersect(v),i=1/0,o=0;o<r.length;o++){var s=r[o],u=l(s);(u<i||!n)&&(i=u,n=s)}return{edge:n,dist:i}};b.size()>0;){var C=b.pop(),_=g(C),T=C.id();if(h[T]=_,_!==1/0)for(var N=C.neighborhood().intersect(p),k=0;k<N.length;k++){var D=N[k],M=D.id(),P=S(C,D),O=_+P.dist;O<g(D)&&(m(D,O),d[M]={node:C,edge:P.edge})}}return{distanceTo:function(e){var t=y(e)?p.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=y(e)?p.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);d[i];){var o=d[i];n.unshift(o.edge),n.unshift(o.node),i=(r=o.node).id()}return s.spawn(n)}}}},Ne={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,o=new Array(i),a=n,s=function(e){for(var t=0;t<o.length;t++){if(o[t].has(e))return t}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var u=r.sort(function(t,n){return e(t)-e(n)}),c=0;c<u.length;c++){var d=u[c],h=d.source()[0],f=d.target()[0],p=s(h),v=s(f),g=o[p],m=o[v];p!==v&&(a.merge(d),g.merge(m),o.splice(v,1))}return a}},ke=pe({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),De={aStar:function(e){var t=this.cy(),n=ke(e),r=n.root,i=n.goal,a=n.heuristic,s=n.directed,l=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var u,c,d=r.id(),h=i.id(),f={},p={},v={},g=new o(function(e,t){return p[e.id()]-p[t.id()]}),m=new xe,y={},b={},w=function(e,t){g.push(e),m.add(t)};w(r,d),f[d]=0,p[d]=a(r);for(var x,E=0;g.size()>0;){if(u=g.pop(),c=u.id(),m.delete(c),E++,c===h){for(var S=[],C=i,_=h,T=b[_];S.unshift(C),null!=T&&S.unshift(T),null!=(C=y[_]);)T=b[_=C.id()];return{found:!0,distance:f[c],path:this.spawn(S),steps:E}}v[c]=!0;for(var N=u._private.edges,k=0;k<N.length;k++){var D=N[k];if(this.hasElementWithId(D.id())&&(!s||D.data("source")===c)){var M=D.source(),P=D.target(),O=M.id()!==c?M:P,A=O.id();if(this.hasElementWithId(A)&&!v[A]){var L=f[c]+l(D);x=A,m.has(x)?L<f[A]&&(f[A]=L,p[A]=L+a(O),y[A]=u):(f[A]=L,p[A]=L+a(O),w(O,A),y[A]=u,b[A]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},Me=pe({weight:function(e){return 1},directed:!1}),Pe={floydWarshall:function(e){for(var t=this.cy(),n=Me(e),r=n.weight,i=n.directed,o=r,a=this.byGroup(),s=a.nodes,l=a.edges,u=s.length,c=u*u,d=function(e){return s.indexOf(e)},h=function(e){return s[e]},f=new Array(c),p=0;p<c;p++){var v=p%u,g=(p-v)/u;f[p]=g===v?0:1/0}for(var m=new Array(c),b=new Array(c),w=0;w<l.length;w++){var x=l[w],E=x.source()[0],S=x.target()[0];if(E!==S){var C=d(E),_=d(S),T=C*u+_,N=o(x);if(f[T]>N&&(f[T]=N,m[T]=_,b[T]=x),!i){var k=_*u+C;!i&&f[k]>N&&(f[k]=N,m[k]=C,b[k]=x)}}}for(var D=0;D<u;D++)for(var M=0;M<u;M++)for(var P=M*u+D,O=0;O<u;O++){var A=M*u+O,L=D*u+O;f[P]+f[L]<f[A]&&(f[A]=f[P]+f[L],m[A]=m[P])}var B=function(e){return d(function(e){return(y(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=B(e),r=B(t);return f[n*u+r]},path:function(e,n){var r=B(e),i=B(n),o=h(r);if(r===i)return o.collection();if(null==m[r*u+i])return t.collection();var a,s=t.collection(),l=r;for(s.merge(o);r!==i;)l=r,r=m[r*u+i],a=b[l*u+r],s.merge(a),s.merge(h(r));return s}}}},Oe=pe({weight:function(e){return 1},directed:!1,root:null}),Ae={bellmanFord:function(e){var t=this,n=Oe(e),r=n.weight,i=n.directed,o=n.root,a=r,s=this,l=this.cy(),u=this.byGroup(),c=u.edges,d=u.nodes,h=d.length,f=new be,p=!1;o=l.collection(o)[0],c.unmergeBy(function(e){return e.isLoop()});for(var v=c.length,g=function(e){var t=f.get(e.id());return t||(t={},f.set(e.id(),t)),t},m=function(e){return(y(e)?l.$(e):e)[0]},b=0;b<h;b++){var w=d[b],x=g(w);w.same(o)?x.dist=0:x.dist=1/0,x.pred=null,x.edge=null}for(var E=!1,S=function(e,t,n,r,i,o){var a=r.dist+o;a<i.dist&&!n.same(r.edge)&&(i.dist=a,i.pred=e,i.edge=n,E=!0)},C=1;C<h;C++){E=!1;for(var _=0;_<v;_++){var T=c[_],N=T.source(),k=T.target(),D=a(T),M=g(N),P=g(k);S(N,0,T,M,P,D),i||S(k,0,T,P,M,D)}if(!E)break}if(E)for(var O=0;O<v;O++){var A=c[O],L=A.source(),B=A.target(),I=a(A),j=g(L).dist,R=g(B).dist;if(j+I<R||!i&&R+I<j){ue("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(e){return g(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=[],i=m(e);;){if(null==i)return t.spawn();var a=g(i),l=a.edge,u=a.pred;if(r.unshift(i[0]),i.same(n)&&r.length>0)break;null!=l&&r.unshift(l),i=u}return s.spawn(r)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Le=Math.sqrt(2),Be=function(e,t,n){0===n.length&&le("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],o=r[2],a=t[i],s=t[o],l=n,u=l.length-1;u>=0;u--){var c=l[u],d=c[1],h=c[2];(t[d]===a&&t[h]===s||t[d]===s&&t[h]===a)&&l.splice(u,1)}for(var f=0;f<l.length;f++){var p=l[f];p[1]===s?(l[f]=p.slice(),l[f][1]=a):p[2]===s&&(l[f]=p.slice(),l[f][2]=a)}for(var v=0;v<t.length;v++)t[v]===s&&(t[v]=a);return l},Ie=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=Be(i,e,t),n--}return t},je={kargerStein:function(){var e=this.byGroup(),t=e.nodes,n=e.edges;n.unmergeBy(function(e){return e.isLoop()});var r=t.length,i=n.length,o=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),a=Math.floor(r/Le);if(!(r<2)){for(var s=[],l=0;l<i;l++){var u=n[l];s.push([l,t.indexOf(u.source()),t.indexOf(u.target())])}for(var c=1/0,d=[],h=new Array(r),f=new Array(r),p=new Array(r),v=function(e,t){for(var n=0;n<r;n++)t[n]=e[n]},g=0;g<=o;g++){for(var m=0;m<r;m++)f[m]=m;var y=Ie(f,s.slice(),r,a),b=y.slice();v(f,p);var w=Ie(f,y,a,2),x=Ie(p,b,a,2);w.length<=x.length&&w.length<c?(c=w.length,d=w,v(f,h)):x.length<=w.length&&x.length<c&&(c=x.length,d=x,v(p,h))}for(var E=this.spawn(d.map(function(e){return n[e[0]]})),S=this.spawn(),C=this.spawn(),_=h[0],T=0;T<h.length;T++){var N=h[T],k=t[T];N===_?S.merge(k):C.merge(k)}return{cut:E,partition1:S,partition2:C}}le("At least 2 nodes are required for Karger-Stein algorithm")}},Re=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Fe=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},ze=function(e){return{x:e[0],y:e[1]}},Ve=function(e,t){return Math.atan2(t,e)-Math.PI/2},qe=Math.log2||function(e){return Math.log(e)/Math.log(2)},He=function(e,t){return Math.sqrt(Xe(e,t))},Xe=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Ye=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},We=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},Ge=function(e,t,n,r){return{x:We(e.x,t.x,n.x,r),y:We(e.y,t.y,n.y,r)}},Ke=function(e,t,n){return Math.max(e,Math.min(n,t))},Ue=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Ze=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Qe=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Je=function(e,t){e.x1+=t.x,e.x2+=t.x,e.y1+=t.y,e.y2+=t.y},et=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},tt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},nt=function(e,t){return tt(e,t.x1,t.y1)&&tt(e,t.x2,t.y2)},rt=function(e,t,n,r,i,o,a){var s,l=xt(i,o),u=i/2,c=o/2,d=r-c-a;if((s=vt(e,t,n,r,n-u+l-a,d,n+u-l+a,d,!1)).length>0)return s;var h=n+u+a;if((s=vt(e,t,n,r,h,r-c+l-a,h,r+c-l+a,!1)).length>0)return s;var f=r+c+a;if((s=vt(e,t,n,r,n-u+l-a,f,n+u-l+a,f,!1)).length>0)return s;var p,v=n-u-a;if((s=vt(e,t,n,r,v,r-c+l-a,v,r+c-l+a,!1)).length>0)return s;var g=n-u+l,m=r-c+l;if((p=ft(e,t,n,r,g,m,l+a)).length>0&&p[0]<=g&&p[1]<=m)return[p[0],p[1]];var y=n+u-l,b=r-c+l;if((p=ft(e,t,n,r,y,b,l+a)).length>0&&p[0]>=y&&p[1]<=b)return[p[0],p[1]];var w=n+u-l,x=r+c-l;if((p=ft(e,t,n,r,w,x,l+a)).length>0&&p[0]>=w&&p[1]>=x)return[p[0],p[1]];var E=n-u+l,S=r+c-l;return(p=ft(e,t,n,r,E,S,l+a)).length>0&&p[0]<=E&&p[1]>=S?[p[0],p[1]]:[]},it=function(e,t,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),d=Math.max(r,o);return l-s<=e&&e<=u+s&&c-s<=t&&t<=d+s},ot=function(e,t,n,r,i,o,a,s,l){var u=Math.min(n,a,i)-l,c=Math.max(n,a,i)+l,d=Math.min(r,s,o)-l,h=Math.max(r,s,o)+l;return!(e<u||e>c||t<d||t>h)},at=function(e,t,n,r,i,o,a,s){var l=[];!function(e,t,n,r,i){var o,a,s,l,u,c,d,h;s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),o=(a=(3*n-t*t)/9)*a*a+(s/=54)*s,i[1]=0,d=t/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,i[5]=-d):(i[5]=i[3]=0,0===o?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,i[4]=i[2]=-(h+d)):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(a),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),i[4]=-d+h*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,3*n*n-6*n*i+n*a-n*e+2*i*i+2*i*e-a*e+3*r*r-6*r*o+r*s-r*t+2*o*o+2*o*t-s*t,1*n*i-n*n+n*e-i*e+r*o-r*r+r*t-o*t,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var d,h,f,p=-1,v=0;v<u.length;v++)d=Math.pow(1-u[v],2)*n+2*(1-u[v])*u[v]*i+u[v]*u[v]*a,h=Math.pow(1-u[v],2)*r+2*(1-u[v])*u[v]*o+u[v]*u[v]*s,f=Math.pow(d-e,2)+Math.pow(h-t,2),p>=0?f<p&&(p=f):p=f;return p},st=function(e,t,n,r,i,o){var a=[e-n,t-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],d=c*c/l;return c<0?u:d>l?(e-i)*(e-i)+(t-o)*(t-o):u-d},lt=function(e,t,n){for(var r,i,o,a,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==e&&o==e);else{if(!(r>=e&&e>=o||r<=e&&e<=o))continue;(e-r)/(o-r)*(a-i)+i>t&&s++}return s%2!=0},ut=function(e,t,n,r,i,o,a,s,l){var u,c=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var d,h=Math.cos(-u),f=Math.sin(-u),p=0;p<c.length/2;p++)c[2*p]=o/2*(n[2*p]*h-n[2*p+1]*f),c[2*p+1]=a/2*(n[2*p+1]*h+n[2*p]*f),c[2*p]+=r,c[2*p+1]+=i;if(l>0){var v=dt(c,-l);d=ct(v)}else d=c;return lt(e,t,d)},ct=function(e){for(var t,n,r,i,o,a,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(o=e[4*(c+1)],a=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(o=e[0],a=e[1],s=e[2],l=e[3]);var d=vt(t,n,r,i,o,a,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},dt=function(e,t){for(var n,r,i,o,a=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],o=e[2*(s+1)+1]):(i=e[0],o=e[1]);var l=o-r,u=-(i-n),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;a[4*s]=n+d*t,a[4*s+1]=r+h*t,a[4*s+2]=i+d*t,a[4*s+3]=o+h*t}return a},ht=function(e,t,n,r,i,o,a){return e-=i,t-=o,(e/=n/2+a)*e+(t/=r/2+a)*t<=1},ft=function(e,t,n,r,i,o,a){var s=[n-e,r-t],l=[e-i,t-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(d<0)return[];var h=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),p=Math.min(h,f),v=Math.max(h,f),g=[];if(p>=0&&p<=1&&g.push(p),v>=0&&v<=1&&g.push(v),0===g.length)return[];var m=g[0]*s[0]+e,y=g[0]*s[1]+t;return g.length>1?g[0]==g[1]?[m,y]:[m,y,g[1]*s[0]+e,g[1]*s[1]+t]:[m,y]},pt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},vt=function(e,t,n,r,i,o,a,s,l){var u=e-i,c=n-e,d=a-i,h=t-o,f=r-t,p=s-o,v=d*h-p*u,g=c*h-f*u,m=p*c-d*f;if(0!==m){var y=v/m,b=g/m;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[e+y*c,t+y*f]:l?[e+y*c,t+y*f]:[]}return 0===v||0===g?pt(e,n,a)===a?[a,s]:pt(e,n,i)===i?[i,o]:pt(i,a,n)===n?[n,r]:[]:[]},gt=function(e,t,n,r,i,o,a,s){var l,u,c,d,h,f,p=[],v=new Array(n.length),g=!0;if(null==o&&(g=!1),g){for(var m=0;m<v.length/2;m++)v[2*m]=n[2*m]*o+r,v[2*m+1]=n[2*m+1]*a+i;if(s>0){var y=dt(v,-s);u=ct(y)}else u=v}else u=n;for(var b=0;b<u.length/2;b++)c=u[2*b],d=u[2*b+1],b<u.length/2-1?(h=u[2*(b+1)],f=u[2*(b+1)+1]):(h=u[0],f=u[1]),0!==(l=vt(e,t,r,i,c,d,h,f)).length&&p.push(l[0],l[1]);return p},mt=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*r[0],t[1]+o*r[1]]},yt=function(e,t){var n=wt(e,t);return n=bt(n)},bt=function(e){for(var t,n,r=e.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-o);return e},wt=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,o=new Array(2*e),a=0;a<e;a++)i=a*n+r,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},xt=function(e,t){return Math.min(e/4,t/4,8)},Et=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},St=pe({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Ct={pageRank:function(e){for(var t=St(e),n=t.dampingFactor,r=t.precision,i=t.iterations,o=t.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,d=c*c,h=u.length,f=new Array(d),p=new Array(c),v=(1-n)/c,g=0;g<c;g++){for(var m=0;m<c;m++){f[g*c+m]=0}p[g]=0}for(var y=0;y<h;y++){var b=u[y],w=b.data("source"),x=b.data("target");if(w!==x){var E=l.indexOfId(w),S=l.indexOfId(x),C=o(b);f[S*c+E]+=C,p[E]+=C}}for(var _=1/c+v,T=0;T<c;T++)if(0===p[T])for(var N=0;N<c;N++){f[N*c+T]=_}else for(var k=0;k<c;k++){var D=k*c+T;f[D]=f[D]/p[T]+v}for(var M,P=new Array(c),O=new Array(c),A=0;A<c;A++)P[A]=1;for(var L=0;L<i;L++){for(var B=0;B<c;B++)O[B]=0;for(var I=0;I<c;I++)for(var j=0;j<c;j++){var R=I*c+j;O[I]+=f[R]*P[j]}Ye(O),M=P,P=O,O=M;for(var F=0,z=0;z<c;z++){var V=M[z]-P[z];F+=V*V}if(F<r)break}return{rank:function(e){return e=a.collection(e)[0],P[l.indexOf(e)]}}}},_t=pe({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Tt={degreeCentralityNormalized:function(e){e=_t(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},o={},a=0,s=0,l=0;l<r;l++){var u=n[l],c=u.id();e.root=u;var d=this.degreeCentrality(e);a<d.indegree&&(a=d.indegree),s<d.outdegree&&(s=d.outdegree),i[c]=d.indegree,o[c]=d.outdegree}return{indegree:function(e){return 0==a?0:(y(e)&&(e=t.filter(e)),i[e.id()]/a)},outdegree:function(e){return 0===s?0:(y(e)&&(e=t.filter(e)),o[e.id()]/s)}}}for(var h={},f=0,p=0;p<r;p++){var v=n[p];e.root=v;var g=this.degreeCentrality(e);f<g.degree&&(f=g.degree),h[v.id()]=g.degree}return{degree:function(e){return 0===f?0:(y(e)&&(e=t.filter(e)),h[e.id()]/f)}}},degreeCentrality:function(e){e=_t(e);var t=this.cy(),n=this,r=e,i=r.root,o=r.weight,a=r.directed,s=r.alpha;if(i=t.collection(i)[0],a){for(var l=i.connectedEdges(),u=l.filter(function(e){return e.target().same(i)&&n.has(e)}),c=l.filter(function(e){return e.source().same(i)&&n.has(e)}),d=u.length,h=c.length,f=0,p=0,v=0;v<u.length;v++)f+=o(u[v]);for(var g=0;g<c.length;g++)p+=o(c[g]);return{indegree:Math.pow(d,1-s)*Math.pow(f,s),outdegree:Math.pow(h,1-s)*Math.pow(p,s)}}for(var m=i.connectedEdges().intersection(n),y=m.length,b=0,w=0;w<m.length;w++)b+=o(m[w]);return{degree:Math.pow(y,1-s)*Math.pow(b,s)}}};Tt.dc=Tt.degreeCentrality,Tt.dcn=Tt.degreeCentralityNormalised=Tt.degreeCentralityNormalized;var Nt=pe({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),kt={closenessCentralityNormalized:function(e){for(var t=Nt(e),n=t.harmonic,r=t.weight,i=t.directed,o=this.cy(),a={},s=0,l=this.nodes(),u=this.floydWarshall({weight:r,directed:i}),c=0;c<l.length;c++){for(var d=0,h=l[c],f=0;f<l.length;f++)if(c!==f){var p=u.distance(h,l[f]);d+=n?1/p:p}n||(d=1/d),s<d&&(s=d),a[h.id()]=d}return{closeness:function(e){return 0==s?0:(e=y(e)?o.filter(e)[0].id():e.id(),a[e]/s)}}},closenessCentrality:function(e){var t=Nt(e),n=t.root,r=t.weight,i=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var d=a.distanceTo(c);s+=o?1/d:d}}return o?s:1/s}};kt.cc=kt.closenessCentrality,kt.ccn=kt.closenessCentralityNormalised=kt.closenessCentralityNormalized;var Dt=pe({weight:null,directed:!1}),Mt={betweennessCentrality:function(e){for(var t=Dt(e),n=t.directed,r=t.weight,i=null!=r,a=this.cy(),s=this.nodes(),l={},u={},c=0,d=function(e,t){u[e]=t,t>c&&(c=t)},h=function(e){return u[e]},f=0;f<s.length;f++){var p=s[f],v=p.id();l[v]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),d(v,0)}for(var g=function(e){for(var t=s[e].id(),n=[],u={},c={},f={},p=new o(function(e,t){return f[e]-f[t]}),v=0;v<s.length;v++){var g=s[v].id();u[g]=[],c[g]=0,f[g]=1/0}for(c[t]=1,f[t]=0,p.push(t);!p.empty();){var m=p.pop();if(n.push(m),i)for(var y=0;y<l[m].length;y++){var b=l[m][y],w=a.getElementById(m),x=void 0;x=w.edgesTo(b).length>0?w.edgesTo(b)[0]:b.edgesTo(w)[0];var E=r(x);b=b.id(),f[b]>f[m]+E&&(f[b]=f[m]+E,p.nodes.indexOf(b)<0?p.push(b):p.updateItem(b),c[b]=0,u[b]=[]),f[b]==f[m]+E&&(c[b]=c[b]+c[m],u[b].push(m))}else for(var S=0;S<l[m].length;S++){var C=l[m][S].id();f[C]==1/0&&(p.push(C),f[C]=f[m]+1),f[C]==f[m]+1&&(c[C]=c[C]+c[m],u[C].push(m))}}for(var _={},T=0;T<s.length;T++)_[s[T].id()]=0;for(;n.length>0;)for(var N=n.pop(),k=0;k<u[N].length;k++){var D=u[N][k];_[D]=_[D]+c[D]/c[N]*(1+_[N]),N!=s[e].id()&&d(N,h(N)+_[N])}},m=0;m<s.length;m++)g(m);var y={betweenness:function(e){var t=a.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==c)return 0;var t=a.collection(e).id();return h(t)/c}};return y.betweennessNormalised=y.betweennessNormalized,y}};Mt.bc=Mt.betweennessCentrality;var Pt=pe({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Ot=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},At=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var o=0;o<t;o++)e[o*t+r]=e[o*t+r]/n}},Lt=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)r[i*n+o]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[i*n+s]+=e[i*n+a]*t[a*n+s]}return r},Bt=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=Lt(e,r,t);return e},It=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return At(r,t),r},jt=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Rt=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},Ft=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return Pt(e)}(e),o={},a=0;a<t.length;a++)o[t[a].id()]=a;for(var s,l=t.length,u=l*l,c=new Array(u),d=0;d<u;d++)c[d]=0;for(var h=0;h<n.length;h++){var f=n[h],p=o[f.source().id()],v=o[f.target().id()],g=Ot(f,i.attributes);c[p*l+v]+=g,c[v*l+p]+=g}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,l,i.multFactor),At(c,l);for(var m=!0,y=0;m&&y<i.maxIterations;)m=!1,s=Bt(c,l,i.expandFactor),c=It(s,l,i.inflateFactor),jt(c,s,u,4)||(m=!0),y++;var b=function(e,t,n,r){for(var i=[],o=0;o<t;o++){for(var a=[],s=0;s<t;s++)Math.round(1e3*e[o*t+s])/1e3>0&&a.push(n[s]);0!==a.length&&i.push(r.collection(a))}return i}(c,l,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Rt(e[t],e[n])&&e.splice(n,1);return e}(b)},zt={markovClustering:Ft,mcl:Ft},Vt=function(e){return e},qt=function(e,t){return Math.abs(t-e)},Ht=function(e,t,n){return e+qt(t,n)},Xt=function(e,t,n){return e+Math.pow(n-t,2)},Yt=function(e){return Math.sqrt(e)},Wt=function(e,t,n){return Math.max(e,qt(t,n))},Gt=function(e,t,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vt,a=r,s=0;s<e;s++)a=i(a,t(s),n(s));return o(a)},Kt={euclidean:function(e,t,n){return e>=2?Gt(e,t,n,0,Xt,Yt):Gt(e,t,n,0,Ht)},squaredEuclidean:function(e,t,n){return Gt(e,t,n,0,Xt)},manhattan:function(e,t,n){return Gt(e,t,n,0,Ht)},max:function(e,t,n){return Gt(e,t,n,-1/0,Wt)}};function Ut(e,t,n,r,i,o){var a;return a=b(e)?e:Kt[e]||Kt.euclidean,0===t&&b(e)?a(i,o):a(t,n,r,i,o)}Kt["squared-euclidean"]=Kt.squaredEuclidean,Kt.squaredeuclidean=Kt.squaredEuclidean;var Zt=pe({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),$t=function(e){return Zt(e)},Qt=function(e,t,n,r,i){var o="kMedoids"===i?function(e){return r[e](n)}:function(e){return n[e]};return Ut(e,r.length,o,function(e){return r[e](t)})},Jt=function(e,t,n){for(var r=n.length,i=new Array(r),o=new Array(r),a=new Array(t),s=null,l=0;l<r;l++)i[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var u=0;u<t;u++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(o[c]-i[c])+i[c];a[u]=s}return a},en=function(e,t,n,r,i){for(var o=1/0,a=0,s=0;s<t.length;s++){var l=Qt(n,e,t[s],r,i);l<o&&(o=l,a=s)}return a},tn=function(e,t,n){for(var r=[],i=null,o=0;o<t.length;o++)n[(i=t[o]).id()]===e&&r.push(i);return r},nn=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},rn=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},on=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];rn(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},an=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=Qt("manhattan",t[i],e,n,"kMedoids");return r},sn=function(e,t,n,r,i){for(var o,a,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)r[s][l]=Math.pow(n[s][l],i.m);for(var u=0;u<e.length;u++)for(var c=0;c<i.attributes.length;c++){o=0,a=0;for(var d=0;d<t.length;d++)o+=r[d][u]*i.attributes[c](t[d]),a+=r[d][u];e[u][c]=o/a}},ln=function(e,t,n,r,i){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var a,s,l,u=2/(i.m-1),c=0;c<n.length;c++)for(var d=0;d<r.length;d++){a=0;for(var h=0;h<n.length;h++)s=Qt(i.distance,r[d],n[c],i.attributes,"cmeans"),l=Qt(i.distance,r[d],n[h],i.attributes,"cmeans"),a+=Math.pow(s/l,u);e[d][c]=1/a}},un=function(e){var t,n,r,i,o=this.cy(),a=this.nodes(),s=$t(e);r=new Array(a.length);for(var l=0;l<a.length;l++)r[l]=new Array(s.k);n=new Array(a.length);for(var u=0;u<a.length;u++)n[u]=new Array(s.k);for(var c=0;c<a.length;c++){for(var d=0,h=0;h<s.k;h++)n[c][h]=Math.random(),d+=n[c][h];for(var f=0;f<s.k;f++)n[c][f]=n[c][f]/d}t=new Array(s.k);for(var p=0;p<s.k;p++)t[p]=new Array(s.attributes.length);i=new Array(a.length);for(var v=0;v<a.length;v++)i[v]=new Array(s.k);for(var g=!0,m=0;g&&m<s.maxIterations;)g=!1,sn(t,a,n,i,s),ln(n,r,t,a,s),nn(n,r,s.sensitivityThreshold)||(g=!0),m++;return{clusters:function(e,t,n,r){for(var i,o,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var l=0;l<t.length;l++){i=-1/0,o=-1;for(var u=0;u<t[0].length;u++)t[l][u]>i&&(i=t[l][u],o=u);a[o].push(e[l])}for(var c=0;c<a.length;c++)a[c]=r.collection(a[c]);return a}(a,n,s,o),degreeOfMembership:n}},cn={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),i=null,o=$t(e),s=new Array(o.k),l={};o.testMode?"number"==typeof o.testCentroids?(o.testCentroids,t=Jt(r,o.k,o.attributes)):t="object"===a(o.testCentroids)?o.testCentroids:Jt(r,o.k,o.attributes):t=Jt(r,o.k,o.attributes);for(var u,c,d,h=!0,f=0;h&&f<o.maxIterations;){for(var p=0;p<r.length;p++)l[(i=r[p]).id()]=en(i,t,o.distance,o.attributes,"kMeans");h=!1;for(var v=0;v<o.k;v++){var g=tn(v,r,l);if(0!==g.length){for(var m=o.attributes.length,y=t[v],b=new Array(m),w=new Array(m),x=0;x<m;x++){w[x]=0;for(var E=0;E<g.length;E++)i=g[E],w[x]+=o.attributes[x](i);b[x]=w[x]/g.length,u=b[x],c=y[x],d=o.sensitivityThreshold,Math.abs(c-u)<=d||(h=!0)}t[v]=b,s[v]=n.collection(g)}}f++}return s},kMedoids:function(e){var t,n,r=this.cy(),i=this.nodes(),o=null,s=$t(e),l=new Array(s.k),u={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(t="object"===a(s.testCentroids)?s.testCentroids:on(i,s.k)):t=on(i,s.k);for(var d=!0,h=0;d&&h<s.maxIterations;){for(var f=0;f<i.length;f++)u[(o=i[f]).id()]=en(o,t,s.distance,s.attributes,"kMedoids");d=!1;for(var p=0;p<t.length;p++){var v=tn(p,i,u);if(0!==v.length){c[p]=an(t[p],v,s.attributes);for(var g=0;g<v.length;g++)(n=an(v[g],v,s.attributes))<c[p]&&(c[p]=n,t[p]=v[g],d=!0);l[p]=r.collection(v)}}h++}return l},fuzzyCMeans:un,fcm:un},dn=pe({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),hn={single:"min",complete:"max"},fn=function(e,t,n,r,i){for(var o,a=0,s=1/0,l=i.attributes,u=function(e,t){return Ut(i.distance,l.length,function(t){return l[t](e)},function(e){return l[e](t)})},c=0;c<e.length;c++){var d=e[c].key,h=n[d][r[d]];h<s&&(a=d,s=h)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var f,p=t[a],v=t[r[a]];f="dendrogram"===i.mode?{left:p,right:v,key:p.key}:{value:p.value.concat(v.value),key:p.key},e[p.index]=f,e.splice(v.index,1),t[p.key]=f;for(var g=0;g<e.length;g++){var m=e[g];p.key===m.key?o=1/0:"min"===i.linkage?(o=n[p.key][m.key],n[p.key][m.key]>n[v.key][m.key]&&(o=n[v.key][m.key])):"max"===i.linkage?(o=n[p.key][m.key],n[p.key][m.key]<n[v.key][m.key]&&(o=n[v.key][m.key])):o="mean"===i.linkage?(n[p.key][m.key]*p.size+n[v.key][m.key]*v.size)/(p.size+v.size):"dendrogram"===i.mode?u(m.value,p.value):u(m.value[0],p.value[0]),n[p.key][m.key]=n[m.key][p.key]=o}for(var y=0;y<e.length;y++){var b=e[y].key;if(r[b]===p.key||r[b]===v.key){for(var w=b,x=0;x<e.length;x++){var E=e[x].key;n[b][E]<n[b][w]&&(w=E)}r[b]=w}e[y].index=y}return p.key=v.key=p.index=v.index=null,!0},pn=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n,r),t.right&&e(t.right,n,r)))},vn=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=dn(e),n=hn[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,o=function(e,t){return Ut(r.distance,i.length,function(t){return i[t](e)},function(e){return i[e](t)})},a=[],s=[],l=[],u=[],c=0;c<n.length;c++){var d={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=d,u[c]=d,s[c]=[],l[c]=0}for(var h=0;h<a.length;h++)for(var f=0;f<=h;f++){var p=void 0;p="dendrogram"===r.mode?h===f?1/0:o(a[h].value,a[f].value):h===f?1/0:o(a[h].value[0],a[f].value[0]),s[h][f]=p,s[f][h]=p,p<s[h][l[h]]&&(l[h]=f)}for(var v,g=fn(a,u,s,l,r);g;)g=fn(a,u,s,l,r);return"dendrogram"===r.mode?(v=function e(t,n,r){if(!t)return[];var i=[],o=[],a=[];return 0===n?(t.left&&pn(t.left,i,r),t.right&&pn(t.right,o,r),a=i.concat(o),[r.collection(a)]):1===n?t.value?[r.collection(t.value)]:(t.left&&pn(t.left,i,r),t.right&&pn(t.right,o,r),[r.collection(i),r.collection(o)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(o=e(t.right,n-1,r)),i.concat(o))}(a[0],r.dendrogramDepth,t),r.addDendrogram&&function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}return t.value?t.value.id():void 0}(a[0],t)):(v=new Array(a.length),a.forEach(function(e,n){e.key=e.index=null,v[n]=t.collection(e.value)})),v},gn={hierarchicalClustering:vn,hca:vn},mn=pe({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),yn=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-Ut(e,r.length,function(e){return i(t,e)},function(e){return i(n,e)},t,n)},bn=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var a=0,s=e.length-1;s>=0;s--){var l=e[s];o?isFinite(l)||(e[s]=-1/0,a++):e.splice(s,1)}i&&e.sort(function(e,t){return e-t});var u=e.length,c=Math.floor(u/2);return u%2!=0?e[c+1+a]:(e[c-1+a]+e[c+a])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,o=t;o<n;o++){var a=e[o];isFinite(a)&&(r+=a,i++)}return r/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.min(o,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.max(o,r))}return r}(e):t},wn=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var o=-1,a=-1/0,s=0;s<n.length;s++){var l=n[s];t[i*e+l]>a&&(o=l,a=t[i*e+l])}o>0&&r.push(o)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},xn=function(e){for(var t,n,r,i,o,a,s=this.cy(),l=this.nodes(),u=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||le("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||E(n)||le("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),mn(e)}(e),c={},d=0;d<l.length;d++)c[l[d].id()]=d;n=(t=l.length)*t,r=new Array(n);for(var h=0;h<n;h++)r[h]=-1/0;for(var f=0;f<t;f++)for(var p=0;p<t;p++)f!==p&&(r[f*t+p]=yn(u.distance,l[f],l[p],u.attributes));i=bn(r,u.preference);for(var v=0;v<t;v++)r[v*t+v]=i;o=new Array(n);for(var g=0;g<n;g++)o[g]=0;a=new Array(n);for(var m=0;m<n;m++)a[m]=0;for(var y=new Array(t),b=new Array(t),w=new Array(t),x=0;x<t;x++)y[x]=0,b[x]=0,w[x]=0;for(var S,C=new Array(t*u.minIterations),_=0;_<C.length;_++)C[_]=0;for(S=0;S<u.maxIterations;S++){for(var T=0;T<t;T++){for(var N=-1/0,k=-1/0,D=-1,M=0,P=0;P<t;P++)y[P]=o[T*t+P],(M=a[T*t+P]+r[T*t+P])>=N?(k=N,N=M,D=P):M>k&&(k=M);for(var O=0;O<t;O++)o[T*t+O]=(1-u.damping)*(r[T*t+O]-N)+u.damping*y[O];o[T*t+D]=(1-u.damping)*(r[T*t+D]-k)+u.damping*y[D]}for(var A=0;A<t;A++){for(var L=0,B=0;B<t;B++)y[B]=a[B*t+A],b[B]=Math.max(0,o[B*t+A]),L+=b[B];L-=b[A],b[A]=o[A*t+A],L+=b[A];for(var I=0;I<t;I++)a[I*t+A]=(1-u.damping)*Math.min(0,L-b[I])+u.damping*y[I];a[A*t+A]=(1-u.damping)*(L-b[A])+u.damping*y[A]}for(var j=0,R=0;R<t;R++){var F=a[R*t+R]+o[R*t+R]>0?1:0;C[S%u.minIterations*t+R]=F,j+=F}if(j>0&&(S>=u.minIterations-1||S==u.maxIterations-1)){for(var z=0,V=0;V<t;V++){w[V]=0;for(var q=0;q<u.minIterations;q++)w[V]+=C[q*t+V];0!==w[V]&&w[V]!==u.minIterations||z++}if(z===t)break}}for(var H=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,o,a),X=function(e,t,n){for(var r=wn(e,t,n),i=0;i<n.length;i++){for(var o=[],a=0;a<r.length;a++)r[a]===n[i]&&o.push(a);for(var s=-1,l=-1/0,u=0;u<o.length;u++){for(var c=0,d=0;d<o.length;d++)c+=t[o[d]*e+o[u]];c>l&&(s=u,l=c)}n[i]=o[s]}return r=wn(e,t,n)}(t,r,H),Y={},W=0;W<H.length;W++)Y[H[W]]=[];for(var G=0;G<l.length;G++){var K=X[c[l[G].id()]];null!=K&&Y[K].push(l[G])}for(var U=new Array(H.length),Z=0;Z<H.length;Z++)U[Z]=s.collection(Y[H[Z]]);return U},En={};[Ce,Te,Ne,De,Pe,Ae,je,Ct,Tt,kt,Mt,zt,cn,gn,{affinityPropagation:xn,ap:xn}].forEach(function(e){F(En,e)});
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/
var Sn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sn.prototype={fulfill:function(e){return Cn(this,1,"fulfillValue",e)},reject:function(e){return Cn(this,2,"rejectReason",e)},then:function(e,t){var n=new Sn;return this.onFulfilled.push(Nn(e,n,"fulfill")),this.onRejected.push(Nn(t,n,"reject")),_n(this),n.proxy}};var Cn=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,_n(e)),e},_n=function(e){1===e.state?Tn(e,"onFulfilled",e.fulfillValue):2===e.state&&Tn(e,"onRejected",e.rejectReason)},Tn=function(e,n,r){if(0!==e[n].length){var i=e[n];e[n]=[];var o=function(){for(var e=0;e<i.length;e++)i[e](r)};"function"==typeof t?t(o):setTimeout(o,0)}},Nn=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}kn(t,i)}}},kn=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===a(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(e){return void t.reject(e)}if("function"!=typeof r)t.fulfill(n);else{var i=!1;try{r.call(n,function(r){i||(i=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))},function(e){i||(i=!0,t.reject(e))})}catch(e){i||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Sn.all=function(e){return new Sn(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,++i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){o(t,e)},function(e){n(e)}):o(t,r)}(a)})},Sn.resolve=function(e){return new Sn(function(t,n){t(e)})},Sn.reject=function(e){return new Sn(function(t,n){n(e)})};var Dn="undefined"!=typeof Promise?Promise:Sn,Mn=function(e,t,n){var r=this._private=F({duration:1e3},t,n);r.target=e,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&b(r.complete)&&r.completes.push(r.complete),this.length=1,this[0]=this},Pn=Mn.prototype;F(Pn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),C(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],o=i.name,a=e.startStyle[o];e.startStyle[o]=i,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new Dn(function(e,n){t.push(function(){e()})})}}),Pn.complete=Pn.completed,Pn.run=Pn.play,Pn.running=Pn.playing;var On={};[{animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?t._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++){e[t]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,r=n?this:[this],i=this._private.cy||this,o=!n,a=!o;if(!i.styleEnabled())return this;var s=i.style();if(e=F({},e,t),0===Object.keys(e).length)return new Mn(r[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(a&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),a&&null!=e.renderedPosition){var l=e.renderedPosition,u=i.pan(),c=i.zoom();e.position=Fe(l,c,u)}if(o&&null!=e.panBy){var d=e.panBy,h=i.pan();e.pan={x:h.x+d.x,y:h.y+d.y}}var f=e.center||e.centre;if(o&&null!=f){var p=i.getCenterPan(f.eles,e.zoom);null!=p&&(e.pan=p)}if(o&&null!=e.fit){var v=e.fit,g=i.getFitViewport(v.eles||v.boundingBox,v.padding);null!=g&&(e.pan=g.pan,e.zoom=g.zoom)}if(o&&x(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m&&(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan))}return new Mn(r[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=F({},e,t));for(var r=0;r<n.length;r++){var i=n[r],o=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var o=n[i]._private,a=o.animation.current,s=0;s<a.length;s++){var l=a[s]._private;t&&(l.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return r.notify("draw"),this}}},{data:function(e){return e=F({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=void 0!==this.length,o=i?this:[this],a=i?this[0]:this;if(y(t)){var s;if(r.allowGetting&&void 0===n)return a&&(r.beforeGet(a),s=a._private[r.field][t]),s;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n);r.beforeSet(this,l);for(var u=0,c=o.length;u<c;u++){var d=o[u];r.canSet(d)&&(d._private[r.field][t]=n)}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&x(t)){var h,f,p=t,v=Object.keys(p);r.beforeSet(this,p);for(var g=0;g<v.length;g++){if(f=p[h=v[g]],!r.immutableKeys[h])for(var m=0;m<o.length;m++){var w=o[m];r.canSet(w)&&(w._private[r.field][h]=f)}}r.updateStyle&&this.updateStyle(),r.onSet(this),r.settingTriggersEvent&&this[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&b(t)){var E=t;this.on(r.bindingEvent,E)}else if(r.allowGetting&&void 0===t){var S;return a&&(r.beforeGet(a),S=a._private[r.field]),S}return this}},removeData:function(e){return e=F({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=void 0!==this.length?this:[this];if(y(t)){for(var i=t.split(/\s+/),o=i.length,a=0;a<o;a++){var s=i[a];if(!D(s))if(!n.immutableKeys[s])for(var l=0,u=r.length;l<u;l++)r[l]._private[n.field][s]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===t){for(var c=0,d=r.length;c<d;c++)for(var h=r[c]._private[n.field],f=Object.keys(h),p=0;p<f.length;p++){var v=f[p];!n.immutableKeys[v]&&(h[v]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new Dn(function(e,t){var i=r.concat([function(t){n.off.apply(n,o),e(t)}]),o=i.concat([]);n.on.apply(n,i)})}}}].forEach(function(e){F(On,e)});var An={animate:On.animate(),animation:On.animation(),animated:On.animated(),clearQueue:On.clearQueue(),delay:On.delay(),delayAnimation:On.delayAnimation(),stop:On.stop()},Ln={classes:function(e){w(e)||(e=(e||"").match(/\S+/g)||[]);for(var t=[],n=new xe(e),r=0;r<this.length;r++){for(var i=this[r],o=i._private,a=o.classes,s=!1,l=0;l<e.length;l++){var u=e[l];if(!a.has(u)){s=!0;break}}s||(s=a.size!==e.length),s&&(o.classes=n,t.push(i))}return t.length>0&&this.spawn(t).updateStyle().emit("class"),this},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){w(e)||(e=e.match(/\S+/g)||[]);for(var n=void 0===t,r=[],i=0,o=this.length;i<o;i++)for(var a=this[i],s=a._private.classes,l=!1,u=0;u<e.length;u++){var c=e[u],d=s.has(c),h=!1;t||n&&!d?(s.add(c),h=!0):(!t||n&&d)&&(s.delete(c),h=!0),!l&&h&&(r.push(a),l=!0)}return r.length>0&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}},Bn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:j,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Bn.variable="(?:[\\w-]|(?:\\\\"+Bn.metaChar+"))+",Bn.value=Bn.string+"|"+Bn.number,Bn.className=Bn.variable,Bn.id=Bn.variable,function(){var e,t,n;for(e=Bn.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],Bn.comparatorOp+="|@"+t;for(e=Bn.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(Bn.comparatorOp+="|\\!"+t)}();var In=0,jn=1,Rn=2,Fn=3,zn=4,Vn=5,qn=6,Hn=7,Xn=8,Yn=9,Wn=10,Gn=11,Kn=12,Un=13,Zn=14,$n=15,Qn=16,Jn=17,er=18,tr=19,nr=20,rr=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*R(e,t)}(e.selector,t.selector)}),ir=function(){for(var e,t={},n=0;n<rr.length;n++)t[(e=rr[n]).selector]=e.matches;return t}(),or="("+rr.map(function(e){return e.selector}).join("|")+")",ar=function(e){return e.replace(new RegExp("\\\\("+Bn.metaChar+")","g"),function(e,t){return t})},sr=function(e,t,n){e[e.length-1]=n},lr=[{name:"group",query:!0,regex:"("+Bn.group+")",populate:function(e,t,n){var r=c(n,1)[0];t.checks.push({type:In,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:or,populate:function(e,t,n){var r=c(n,1)[0];t.checks.push({type:Hn,value:r})}},{name:"id",query:!0,regex:"\\#("+Bn.id+")",populate:function(e,t,n){var r=c(n,1)[0];t.checks.push({type:Xn,value:ar(r)})}},{name:"className",query:!0,regex:"\\.("+Bn.className+")",populate:function(e,t,n){var r=c(n,1)[0];t.checks.push({type:Yn,value:ar(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Bn.variable+")\\s*\\]",populate:function(e,t,n){var r=c(n,1)[0];t.checks.push({type:zn,field:ar(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Bn.variable+")\\s*("+Bn.comparatorOp+")\\s*("+Bn.value+")\\s*\\]",populate:function(e,t,n){var r=c(n,3),i=r[0],o=r[1],a=r[2];a=null!=new RegExp("^"+Bn.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),t.checks.push({type:Fn,field:ar(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Bn.boolOp+")\\s*("+Bn.variable+")\\s*\\]",populate:function(e,t,n){var r=c(n,2),i=r[0],o=r[1];t.checks.push({type:Vn,field:ar(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Bn.meta+")\\s*("+Bn.comparatorOp+")\\s*("+Bn.number+")\\s*\\]\\]",populate:function(e,t,n){var r=c(n,3),i=r[0],o=r[1],a=r[2];t.checks.push({type:qn,field:ar(i),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:Bn.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=r,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Bn.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Gn,source:r,target:i}),sr(e,0,n),e.edgeCount++,i}var o={checks:[]},a=t,s={checks:[]};return o.checks.push({type:Kn,source:a,target:s}),sr(e,0,o),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:Bn.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Wn,nodes:[r,i]}),sr(e,0,n),e.edgeCount++,i}var o={checks:[]},a=t,s={checks:[]};return o.checks.push({type:Zn,node:a,neighbor:s}),sr(e,0,o),s}},{name:"child",separator:!0,regex:Bn.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:$n,parent:i,child:r}),sr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},a=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return o.checks.push({type:tr,left:a,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:nr}],c.checks.push({type:nr}),s.checks.push({type:Jn,parent:c,child:u}),sr(e,0,o),e.currentSubject=l,e.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:Jn,parent:d,child:h}];return d.checks=t.checks,t.checks=f,e.compoundCount++,h}},{name:"descendant",separator:!0,regex:Bn.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Qn,ancestor:i,descendant:r}),sr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},a=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return o.checks.push({type:tr,left:a,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:nr}],c.checks.push({type:nr}),s.checks.push({type:er,ancestor:c,descendant:u}),sr(e,0,o),e.currentSubject=l,e.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:er,ancestor:d,descendant:h}];return d.checks=t.checks,t.checks=f,e.compoundCount++,h}},{name:"subject",modifier:!0,regex:Bn.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return ue("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Gn?n.type=Un:r===Wn&&(n.type=Zn,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];lr.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var ur=function(e){for(var t,n,r,i=0;i<lr.length;i++){var o=lr[i],a=o.name,s=e.match(o.regexObj);if(null!=s){n=s,t=o,r=a;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},cr={parse:function(e){var t=this.inputText=e,n=this[0]={checks:[]};for(this.length=1,t=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(t);;){var r=ur(t);if(null==r.expr)return ue("The selector `"+e+"`is invalid"),!1;var i=r.match.slice(1),o=r.expr.populate(this,n,i);if(!1===o)return!1;if(null!=o&&(n=o),(t=r.remaining).match(/^\s*$/))break}var a=this[this.length-1];null!=this.currentSubject&&(a.subject=this.currentSubject),a.edgeCount=this.edgeCount,a.compoundCount=this.compoundCount;for(var s=0;s<this.length;s++){var l=this[s];if(l.compoundCount>0&&l.edgeCount>0)return ue("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return ue("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&ue("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return y(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,o){var a=r.type,s=r.value;switch(a){case In:var l=e(s);return l.substring(0,l.length-1);case Fn:var u=r.field,c=r.operator;return"["+u+n(e(c))+t(s)+"]";case Vn:var d=r.operator,h=r.field;return"["+e(d)+h+"]";case zn:return"["+r.field+"]";case qn:var f=r.operator;return"[["+r.field+n(e(f))+t(s)+"]]";case Hn:return s;case Xn:return"#"+s;case Yn:return"."+s;case Jn:case $n:return i(r.parent,o)+n(">")+i(r.child,o);case er:case Qn:return i(r.ancestor,o)+" "+i(r.descendant,o);case tr:var p=i(r.left,o),v=i(r.subject,o),g=i(r.right,o);return p+(p.length>0?" ":"")+v+g;case nr:return""}},i=function(e,t){return e.checks.reduce(function(n,i,o){return n+(t===e&&0===o?"$":"")+r(i,t)},"")},o="",a=0;a<this.length;a++){var s=this[a];o+=i(s,s.subject),this.length>1&&a<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},dr=function(e,t,n){var r,i,o,a=y(e),s=E(e),l=y(n),u=!1,c=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(a||l||u)&&(i=a||s?""+e:"",o=""+n),u&&(e=i=i.toLowerCase(),n=o=o.toLowerCase()),t){case"*=":r=i.indexOf(o)>=0;break;case"$=":r=i.indexOf(o,i.length-o.length)>=0;break;case"^=":r=0===i.indexOf(o);break;case"=":r=e===n;break;case">":d=!0,r=e>n;break;case">=":d=!0,r=e>=n;break;case"<":d=!0,r=e<n;break;case"<=":d=!0,r=e<=n;break;default:r=!1}return!c||null==e&&d||(r=!r),r},hr=function(e,t){return e.data(t)},fr=[],pr=function(e,t){return e.checks.every(function(e){return fr[e.type](e,t)})};fr[In]=function(e,t){var n=e.value;return"*"===n||n===t.group()},fr[Hn]=function(e,t){return function(e,t){return ir[e](t)}(e.value,t)},fr[Xn]=function(e,t){var n=e.value;return t.id()===n},fr[Yn]=function(e,t){var n=e.value;return t.hasClass(n)},fr[qn]=function(e,t){var n=e.field,r=e.operator,i=e.value;return dr(function(e,t){return e[t]()}(t,n),r,i)},fr[Fn]=function(e,t){var n=e.field,r=e.operator,i=e.value;return dr(hr(t,n),r,i)},fr[Vn]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(hr(t,n),r)},fr[zn]=function(e,t){var n=e.field;e.operator;return void 0!==hr(t,n)},fr[Wn]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),o=t.target();return pr(n,i)&&pr(r,o)||pr(r,i)&&pr(n,o)},fr[Zn]=function(e,t){return pr(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&pr(e.neighbor,t)})},fr[Gn]=function(e,t){return pr(e.source,t.source())&&pr(e.target,t.target())},fr[Kn]=function(e,t){return pr(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&pr(e.target,t)})},fr[Un]=function(e,t){return pr(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&pr(e.source,t)})},fr[$n]=function(e,t){return pr(e.child,t)&&pr(e.parent,t.parent())},fr[Jn]=function(e,t){return pr(e.parent,t)&&t.children().some(function(t){return pr(e.child,t)})},fr[Qn]=function(e,t){return pr(e.descendant,t)&&t.ancestors().some(function(t){return pr(e.ancestor,t)})},fr[er]=function(e,t){return pr(e.ancestor,t)&&t.descendants().some(function(t){return pr(e.descendant,t)})},fr[tr]=function(e,t){return pr(e.subject,t)&&pr(e.left,t)&&pr(e.right,t)},fr[nr]=function(){return!0},fr[jn]=function(e,t){return e.value.has(t)},fr[Rn]=function(e,t){return(0,e.value)(t)};var vr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||y(e)&&e.match(/^\s*$/)||(C(e)?this.addQuery({checks:[{type:jn,value:e.collection()}]}):b(e)?this.addQuery({checks:[{type:Rn,value:e}]}):y(e)?this.parse(e)||(this.invalid=!0):le("A selector must be created from a string; found ",e))},gr=vr.prototype;[cr,{matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(pr(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Xn)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(pr(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach(function(e){return F(gr,e)}),gr.text=function(){return this.inputText},gr.size=function(){return this.length},gr.eq=function(e){return this[e]},gr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},gr.addQuery=function(e){this[this.length++]=e},gr.selector=gr.toString;var mr={allAre:function(e){var t=new vr(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new vr(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};mr.allAreNeighbours=mr.allAreNeighbors,mr.has=mr.contains,mr.equal=mr.equals=mr.same;var yr,br,wr=function(e,t){return function(n,r,i,o){var a,s=n;if(null==s?a="":C(s)&&1===s.length&&(a=s.id()),1===this.length&&a){var l=this[0]._private,u=l.traversalCache=l.traversalCache||{},c=u[t]=u[t]||[],d=Q(a),h=c[d];return h||(c[d]=e.call(this,n,r,i,o))}return e.call(this,n,r,i,o)}},xr={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:wr(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,{unique:!0}).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,{unique:!0}).filter(e)}};function Er(e,t,n,r){for(var i=[],o=new xe,a=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?i.push(l):a&&r(i,o,l)}for(;i.length>0;){var u=i.shift();t(u),o.add(u.id()),a&&r(i,o,u)}return e}function Sr(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];t.has(o.id())||e.push(o)}}function Cr(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function _r(e,t,n){Cr(e,t,n),Sr(e,t,n)}xr.forEachDown=function(e){return Er(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Sr)},xr.forEachUp=function(e){return Er(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Cr)},xr.forEachUpAndDown=function(e){return Er(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_r)},xr.ancestors=xr.parents,(yr=br={data:On.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:On.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:On.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:On.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:On.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:On.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=yr.data,yr.removeAttr=yr.removeData;var Tr,Nr,kr=br,Dr={};function Mr(e){return function(t){if(void 0===t&&(t=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,r=this[0],i=r._private.edges,o=0;o<i.length;o++){var a=i[o];!t&&a.isLoop()||(n+=e(r,a))}return n}}}function Pr(e,t){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][e](n);void 0===a||void 0!==r&&!t(a,r)||(r=a)}return r}}F(Dr,{degree:Mr(function(e,t){return t.source().same(t.target())?2:1}),indegree:Mr(function(e,t){return t.target().same(e)?1:0}),outdegree:Mr(function(e,t){return t.source().same(e)?1:0})}),F(Dr,{minDegree:Pr("degree",function(e,t){return e<t}),maxDegree:Pr("degree",function(e,t){return e>t}),minIndegree:Pr("indegree",function(e,t){return e<t}),maxIndegree:Pr("indegree",function(e,t){return e>t}),minOutdegree:Pr("outdegree",function(e,t){return e<t}),maxOutdegree:Pr("outdegree",function(e,t){return e>t})}),F(Dr,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var Or=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var o=i._private.position,a={x:null!=t.x?t.x-o.x:0,y:null!=t.y?t.y-o.y:0};!i.isParent()||0===a.x&&0===a.y||i.children().shift(a,n),i.shiftCachedBoundingBox(a)}}},Ar={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Or(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(Tr=Nr={position:On.data(Ar),silentPosition:On.data(F({},Ar,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Or(e,t,!0)}})),positions:function(e,t){if(x(e))t?this.silentPosition(e):this.position(e);else if(b(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=n(a,i))&&(t?a.silentPosition(o):a.position(o))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(x(e)?(r=e,n=t):y(e)&&E(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=a.position(),l={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(l):a.position(l)}i.endBatch()}return this},silentShift:function(e,t){return x(e)?this.shift(e,!0):y(e)&&E(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),a=x(e)?e:void 0,s=void 0!==a||void 0!==t&&y(e);if(n&&n.isNode()){if(!s){var l=n.position();return a=Re(l,i,o),void 0===e?a:a[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-o[e])/i):void 0!==a&&c.position(Fe(a,i,o))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=x(e)?e:void 0,o=void 0!==i||void 0!==t&&y(e),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var s=n.position(),l=a?n.parent():null,u=l&&l.length>0,c=u;u&&(l=l[0]);var d=c?l.position():{x:0,y:0};return i={x:s.x-d.x,y:s.y-d.y},void 0===e?i:i[e]}for(var h=0;h<this.length;h++){var f=this[h],p=a?f.parent():null,v=p&&p.length>0,g=v;v&&(p=p[0]);var m=g?p.position():{x:0,y:0};void 0!==t?f.position(e,t+m[e]):void 0!==i&&f.position({x:i.x+m.x,y:i.y+m.y})}}else if(!o)return;return this}}).modelPosition=Tr.point=Tr.position,Tr.modelPositions=Tr.points=Tr.positions,Tr.renderedPoint=Tr.renderedPosition,Tr.relativePoint=Tr.relativePosition;var Lr,Br,Ir=Nr;Lr=Br={},Br.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),o=t.x1*r+i.x,a=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Br.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){if(e.isParent()){var t=e._private;t.compoundBoundsClean=!1,t.bbCache=null,e.emitAndNotify("bounds")}}),this):this},Br.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=t.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var d=m(i.width.val-o.w,s,l),h=d.biasDiff,f=d.biasComplementDiff,p=m(i.height.val-o.h,u,c),v=p.biasDiff,g=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(o.w,i.width.val),a.x=(-h+o.x1+o.x2+f)/2,t.autoHeight=Math.max(o.h,i.height.val),a.y=(-v+o.y1+o.y2+g)/2}function m(e,t,n){var r=0,i=0,o=t+n;return e>0&&o>0&&(r=t/o*e,i=n/o*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;o.compoundBoundsClean||(n(i),t.batching()||(o.compoundBoundsClean=!0))}return this};var jr=function(e){return e===1/0||e===-1/0?0:e},Rr=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},Fr=function(e,t){return Rr(e,t.x1,t.y1,t.x2,t.y2)},zr=function(e,t,n){return me(e,t,n)},Vr=function(e,t,n){if(!t.cy().headless()){var r,i,o=t._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,i=a.srcY):"target"===n?(r=a.tgtX,i=a.tgtY):(r=a.midX,i=a.midY);var l=o.arrowBounds=o.arrowBounds||{},u=l[n]=l[n]||{};u.x1=r-s,u.y1=i-s,u.x2=r+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,$e(u,1),Rr(e,u.x1,u.y1,u.x2,u.y2)}}},qr=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,o=i.rstyle;if(t.pstyle(r+"label").strValue){var a,s,l,u,c=t.pstyle("text-halign"),d=t.pstyle("text-valign"),h=zr(o,"labelWidth",n),f=zr(o,"labelHeight",n),p=zr(o,"labelX",n),v=zr(o,"labelY",n),g=t.pstyle(r+"text-margin-x").pfValue,m=t.pstyle(r+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(r+"text-rotation"),w=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,E=t.pstyle("text-background-padding").pfValue,S=f+2*E,C=h+2*E,_=C/2,T=S/2;if(y)a=p-_,s=p+_,l=v-T,u=v+T;else{switch(c.value){case"left":a=p-C,s=p;break;case"center":a=p-_,s=p+_;break;case"right":a=p,s=p+C}switch(d.value){case"top":l=v-S,u=v;break;case"center":l=v-T,u=v+T;break;case"bottom":l=v,u=v+S}}a+=g-Math.max(w,x),s+=g+Math.max(w,x),l+=m-Math.max(w,x),u+=m+Math.max(w,x);var N=n||"main",k=i.labelBounds,D=k[N]=k[N]||{};D.x1=a,D.y1=l,D.x2=s,D.y2=u,D.w=s-a,D.h=u-l,$e(D,1);var M=y&&"autorotate"===b.strValue,P=null!=b.pfValue&&0!==b.pfValue;if(M||P){var O=M?zr(i.rstyle,"labelAngle",n):b.pfValue,A=Math.cos(O),L=Math.sin(O),B=(a+s)/2,I=(l+u)/2,j=function(e,t){return{x:(e-=B)*A-(t-=I)*L+B,y:e*L+t*A+I}},R=j(a,l),F=j(a,u),z=j(s,l),V=j(s,u);a=Math.min(R.x,F.x,z.x,V.x),s=Math.max(R.x,F.x,z.x,V.x),l=Math.min(R.y,F.y,z.y,V.y),u=Math.max(R.y,F.y,z.y,V.y)}Rr(e,a,l,s,u),Rr(i.labelBounds.all,a,l,s,u)}return e}},Hr=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeOverlays)},Xr=function(e,t){var n,r=e._private,i=(null==t?Wr:Hr(t))===Wr,o=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position();return $([t.x,t.y,n.x,n.y].map(function(e){return Math.round(e)}))}return 0}(e),a=!(t.useCache&&r.bbCachePosKey===o)||null==r.bbCache;if(a?(n=function(e,t){var n,r,i,o,a,s,l,u=e._private.cy,c=u.styleEnabled(),d=u.headless(),h=Ue(),f=e._private,p=c?e.pstyle("display").value:"element",v=e.isNode(),g=e.isEdge(),m="none"!==p,y=f.rstyle;if(m){var b=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(b=e.pstyle("overlay-padding").value);var w=0;if(c&&(w=e.pstyle("width").pfValue/2),v&&t.includeNodes){var x=e.position();a=x.x,s=x.y;var E=e.outerWidth()/2,S=e.outerHeight()/2;Rr(h,n=a-E,i=s-S,r=a+E,o=s+S)}else if(g&&t.includeEdges)if(c&&!d&&(n=Math.min(y.srcX,y.midX,y.tgtX),r=Math.max(y.srcX,y.midX,y.tgtX),i=Math.min(y.srcY,y.midY,y.tgtY),o=Math.max(y.srcY,y.midY,y.tgtY),Rr(h,n-=w,i-=w,r+=w,o+=w)),c&&!d&&"haystack"===e.pstyle("curve-style").strValue){var C=y.haystackPts||[];if(n=C[0].x,i=C[0].y,n>(r=C[1].x)){var _=n;n=r,r=_}if(i>(o=C[1].y)){var T=i;i=o,o=T}Rr(h,n-w,i-w,r+w,o+w)}else{for(var N=y.bezierPts||y.linePts||[],k=0;k<N.length;k++){var D=N[k];n=D.x-w,r=D.x+w,i=D.y-w,o=D.y+w,Rr(h,n,i,r,o)}if(0===N.length){var M=e.source().position(),P=e.target().position();if((n=M.x)>(r=P.x)){var O=n;n=r,r=O}if((i=M.y)>(o=P.y)){var A=i;i=o,o=A}Rr(h,n-=w,i-=w,r+=w,o+=w)}}if(c&&t.includeEdges&&g&&(Vr(h,e,"mid-source"),Vr(h,e,"mid-target"),Vr(h,e,"source"),Vr(h,e,"target")),c&&"yes"===e.pstyle("ghost").value){var L=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue;Rr(h,h.x1+L,h.y1+B,h.x2+L,h.y2+B)}var I=f.bodyBounds=f.bodyBounds||{};Qe(I,h),$e(I,1),c&&(n=h.x1,r=h.x2,i=h.y1,o=h.y2,Rr(h,n-b,i-b,r+b,o+b));var j=f.overlayBounds=f.overlayBounds||{};Qe(j,h),$e(j,1);var R=f.labelBounds=f.labelBounds||{};if(null!=R.all?((l=R.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):R.all=Ue(),c&&t.includeLabels){qr(h,e,null),g&&(qr(h,e,"source"),qr(h,e,"target"));var F=R.all;F.w=F.x2-F.x1,F.h=F.y2-F.y1}}return h.x1=jr(h.x1),h.y1=jr(h.y1),h.x2=jr(h.x2),h.y2=jr(h.y2),h.w=jr(h.x2-h.x1),h.h=jr(h.y2-h.y1),$e(h,h.w>0&&h.h>0&&m?1:0),h}(e,Yr),r.bbCache=n,r.bbCacheShift.x=r.bbCacheShift.y=0,r.bbCachePosKey=o):n=r.bbCache,!a&&(0!==r.bbCacheShift.x||0!==r.bbCacheShift.y)){var s=Je,l=r.bbCacheShift,u=function(e,t){null!=e&&s(e,t)};s(n,l);var c=r.bodyBounds,d=r.overlayBounds,h=r.labelBounds,f=r.arrowBounds;u(c,l),u(d,l),null!=f&&(u(f.source,l),u(f.target,l),u(f["mid-source"],l),u(f["mid-target"],l)),null!=h&&(u(h.main,l),u(h.all,l),u(h.source,l),u(h.target,l))}if(r.bbCacheShift.x=r.bbCacheShift.y=0,!i){var p=e.isNode();n=Ue(),(t.includeNodes&&p||t.includeEdges&&!p)&&(t.includeOverlays?Fr(n,r.overlayBounds):Fr(n,r.bodyBounds)),t.includeLabels&&Fr(n,r.labelBounds.all),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Yr={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},Wr=Hr(Yr),Gr=pe(Yr);Br.boundingBox=function(e){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?Yr:Gr(e),Xr(this[0],e);var t=Ue(),n=Gr(e=e||Yr);this.cy().styleEnabled()&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var r=0;r<this.length;r++){var i=this[r];Fr(t,Xr(i,n))}return t.x1=jr(t.x1),t.y1=jr(t.y1),t.x2=jr(t.x2),t.y2=jr(t.y2),t.w=jr(t.x2-t.x1),t.h=jr(t.y2-t.y1),t},Br.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCacheShift.x=t.bbCacheShift.y=0,t.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},Br.shiftCachedBoundingBox=function(e){for(var t=0;t<this.length;t++){var n=this[t]._private;null!=n.bbCache&&(n.bbCacheShift.x+=e.x,n.bbCacheShift.y+=e.y)}return this.emitAndNotify("bounds"),this},Br.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes();if(r&&(t=t.filter(function(e){return!e.isParent()})),x(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&this.updateCompoundBounds(!0);var o=this.boundingBox({useCache:!1});return t.silentPositions(function(e){return e._private.bbAtOldPos}),n.endBatch(),o},Lr.boundingbox=Lr.bb=Lr.boundingBox,Lr.renderedBoundingbox=Lr.renderedBoundingBox;var Kr,Ur,Zr=Br;Kr=Ur={};var $r=function(e){e.uppercaseName=I(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=I(e.outerName),Kr[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(!r)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},Kr["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},Kr["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Kr["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};$r({name:"width"}),$r({name:"height"}),Ur.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};var Qr=Ur,Jr={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},ei=Object.keys(Jr).reduce(function(e,t){var n=Jr[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map(function(e){return Re(e,i,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return Re(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),ti=F({},Ir,Zr,Qr,ei),ni=function(e,t){this.recycle(e,t)};function ri(){return!1}function ii(){return!0}ni.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ri,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ii:ri):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ii;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ii;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ii,this.stopPropagation()},isDefaultPrevented:ri,isPropagationStopped:ri,isImmediatePropagationStopped:ri};var oi=/^([^.]+)(\.(?:[^.]+))?$/,ai={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},si=Object.keys(ai);function li(e,t){for(var n=0;n<si.length;n++){var r=si[n];this[r]=e[r]||ai[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var ui=li.prototype,ci=function(e,t,n,r,i,o,a){b(r)&&(i=r,r=null),a&&(o=null==o?a:F({},o,a));for(var s=n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!D(u)){var c=u.match(oi);if(c)if(!1===t(e,u,c[1],c[2]?c[2]:null,r,i,o))break}}},di=function(e,t){return e.addEventFields(e.context,t),new ni(t.type,t)},hi=function(e,t,n){if("event"!==m(n))if(x(n))t(e,di(e,n));else for(var r=n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!D(o)){var a=o.match(oi);if(a){var s=a[1],l=a[2]?a[2]:null;t(e,di(e,{type:s,namespace:l,target:e.context}))}}}else t(e,n)};ui.on=ui.addListener=function(e,t,n,r,i){return ci(this,function(e,t,n,r,i,o,a){b(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:r,qualifier:i,conf:a})},e,t,n,r,i),this},ui.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},ui.removeListener=ui.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(a){var s=o[a];ci(i,function(e,t,n,r,i,l){if(s.type===n&&(!r||s.namespace===r)&&(!i||e.qualifierCompare(s.qualifier,i))&&(!l||s.callback===l))return o.splice(a,1),!1},e,t,n,r)},s=o.length-1;s>=0;s--)a(s);return this},ui.emit=ui.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,w(t)||(t=[t]),hi(this,function(e,o){null!=n&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],i=r.length);for(var a=function(n){var i=r[n];if(i.type===o.type&&(!i.namespace||i.namespace===o.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,o)){var a=[o];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(a,t),e.beforeEmit(e.context,i,o),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==i}));var s=e.callbackContext(e.context,i,o),l=i.callback.apply(s,a);e.afterEmit(e.context,i,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)a(s);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)},e),this.emitting--,this};var fi={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&_(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},pi=function(e){return y(e)?new vr(e):e},vi={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new li(fi,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,pi(t),n)}return this},removeListener:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().removeListener(e,pi(t),n)}return this},one:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().one(e,pi(t),n)}return this},once:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,pi(t),n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};On.eventAliasesOn(vi);var gi={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.merge(r):t.merge(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(y(e)||C(e))return new vr(e).filter(this);if(b(e)){for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r];(t?e.apply(t,[i,r,this]):e(i,r,this))&&n.merge(i)}return n}return this.spawn()},not:function(e){if(e){y(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,r=0;r<this.length;r++){var i=this[r];n.has(i.id())||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(y(e)){var t=e;return this.filter(t)}for(var n=[],r=e,i=this.length<e.length,o=i?r._private.map:this._private.map,a=i?this:r,s=0;s<a.length;s++){var l=a[s]._private.data.id,u=o.get(l);u&&n.push(u.ele)}return this.spawn(n)},xor:function(e){var t=this._private.cy;y(e)&&(e=t.$(e));var n=[],r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)||n.push(i)}};return i(this,r),i(r,this),this.spawn(n)},diff:function(e){var t=this._private.cy;y(e)&&(e=t.$(e));var n=[],r=[],i=[],o=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=o._private.data.id;t.hasElementWithId(a)?i.push(o):n.push(o)}};return a(this,o,n),a(o,this,r),{left:this.spawn(n,{unique:!0}),right:this.spawn(r,{unique:!0}),both:this.spawn(i,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(y(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=[],i=0;i<this.length;i++)r.push(this[i]);for(var o=this._private.map,a=0;a<e.length;a++){var s=!o.has(e[a].id());s&&r.push(e[a])}return this.spawn(r)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&y(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,o=0;o<e.length;o++){var a=e[o],s=a._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=a,i.set(s,{ele:a,index:l})}else{var u=i.get(s).index;this[u]=a,i.set(s,{ele:a,index:u})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,o=this[i],a=o._private.data.id;this[i]=void 0,this[e]=o,n.set(a,{ele:o,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&y(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=t?e.apply(t,[i,r,this]):e(i,r,this);n.push(o)}return n},reduce:function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n},max:function(e,t){for(var n,r=-1/0,i=0;i<this.length;i++){var o=this[i],a=t?e.apply(t,[o,i,this]):e(o,i,this);a>r&&(r=a,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=0;i<this.length;i++){var o=this[i],a=t?e.apply(t,[o,i,this]):e(o,i,this);a<r&&(r=a,n=o)}return{value:r,ele:n}}},mi=gi;mi.u=mi["|"]=mi["+"]=mi.union=mi.or=mi.add,mi["\\"]=mi["!"]=mi["-"]=mi.difference=mi.relativeComplement=mi.subtract=mi.not,mi.n=mi["&"]=mi["."]=mi.and=mi.intersection=mi.intersect,mi["^"]=mi["(+)"]=mi["(-)"]=mi.symmetricDifference=mi.symdiff=mi.xor,mi.fnFilter=mi.filterFn=mi.stdFilter=mi.filter,mi.complement=mi.abscomp=mi.absoluteComplement;var yi=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?re:0}var i=r(e)-r(t);if(0!==i)return i;function o(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=o(e)-o(t);if(0!==a)return a;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},bi={forEach:function(e,t){if(b(e))for(var n=0;n<this.length;n++){var r=this[n];if(!1===(t?e.apply(t,[r,n,this]):e(r,n,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!b(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(yi)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:re-1}var r=t.source,i=t.target,o=r.zDepth(),a=i.zDepth();return Math.max(o,a,0)}}};bi.each=bi.forEach;var wi=pe({nodeDimensionsIncludeLabels:!1}),xi={layoutDimensions:function(e){if((e=wi(e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,t,n){var r=this.nodes(),i=this.cy(),o=t.eles,a=function(e,t){return e.id()+"$"+t},s=O(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!l)return null;for(var e=Ue(),t=0;t<r.length;t++){var n=r[t],i=s(n,t);Ze(e,i.x,i.y)}return e}(),c=O(function(e,n){var r=s(e,n);l&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),u,r));return null!=t.transform&&(r=t.transform(e,r)),r},a);if(t.animate){for(var d=0;d<r.length;d++){var h=r[d],f=c(h,d);if(null==t.animateFilter||t.animateFilter(h,d)){var p=h.animation({position:f,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else h.position(f)}if(t.fit){var v=i.animation({fit:{boundingBox:o.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else if(void 0!==t.zoom&&void 0!==t.pan){var g=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Dn.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(c),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(F({},e,{eles:this}))}};function Ei(e,t,n){var r,i=n._private,o=i.styleCache=i.styleCache||[];return null!=(r=o[e])?r:r=o[e]=t(n)}function Si(e,t){return e=Q(e),function(n){return Ei(e,t,n)}}function Ci(e,t){e=Q(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Ei(e,n,t)}}xi.createLayout=xi.makeLayout=xi.layout;var _i={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=r.apply(i);return e?o.emitAndNotify("style"):o.emit("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var r=n.updateMappers(this);return e?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(x(e)){var i=e;r.applyBypass(this,i,!1),this.emitAndNotify("style")}else if(y(e)){if(void 0===t){var o=this[0];return o?r.getStylePropertyValue(o,e):void 0}r.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var a=this[0];return a?r.getRawStyle(a):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{e=e.split(/\s+/);for(var o=0;o<this.length;o++){var a=this[o];n.removeBypasses(a,e,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){i*=o[a].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ti(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function Ni(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],o=e.hasCompoundNodes();if(i){var a=i._private;if(!t(i))return!1;if(i.isNode())return!o||Ti(i,r);var s=a.source,l=a.target;return n(s)&&(!o||Ti(s,n))&&(s===l||n(l)&&(!o||Ti(l,n)))}}}var ki=Si("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});_i.takesUpSpace=Ci("takesUpSpace",Ni({ok:ki}));var Di=Si("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&ki(e)}),Mi=Si("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&ki(e)});_i.interactive=Ci("interactive",Ni({ok:Di,parentOk:Mi,edgeOkViaNode:ki})),_i.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Pi=Si("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&ki(e)}),Oi=ki;_i.visible=Ci("visible",Ni({ok:Pi,edgeOkViaNode:Oi})),_i.hidden=function(){var e=this[0];if(e)return!e.visible()},_i.bypass=_i.css=_i.style,_i.renderedCss=_i.renderedStyle,_i.removeBypass=_i.removeCss=_i.removeStyle,_i.pstyle=_i.parsedStyle;var Ai={};function Li(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length){var o=t[0];this.on(e.event,o)}else if(0===t.length){for(var a=0;a<this.length;a++){var s=this[a],l=!e.ableField||s._private[e.ableField],u=s._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[e.field]=e.value,u&&n.push(s))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event)}return this}}function Bi(e){Ai[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Ai[e.on]=Li({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ai[e.off]=Li({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Bi({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Bi({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),Bi({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Bi({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ai.deselect=Ai.unselect,Ai.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Bi({field:"active",on:"activate",off:"unactivate"}),Ai.inactive=function(){var e=this[0];if(e)return!e._private.active};var Ii={},ji=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(e.noIncomingEdges&&c===i&&u!==i||e.noOutgoingEdges&&u===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,{unique:!0}).filter(t)}},Ri=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();e.outgoing&&l===i?(n.push(s),n.push(u)):e.incoming&&u===i&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(t)}},Fi=function(e){return function(t){for(var n=this,r=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(t)}};function zi(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,{unique:!0}).filter(t)}}function Vi(e){return function(t){var n=[],r=this._private.cy,i=e||{};y(t)&&(t=r.$(t));for(var o=0;o<t.length;o++)for(var a=t[o]._private.edges,s=0;s<a.length;s++){var l=a[s],u=l._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),d=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||d){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!c)continue;if(i.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,{unique:!0})}}function qi(e){return e=F({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,d=0;d<c.length;d++){var h=c[d],f=h._private.data,p=f.target,v=f.source,g=p===u&&v===l,m=l===p&&u===v;(i.codirected&&g||!i.codirected&&(g||m))&&n.push(h)}return this.spawn(n,{unique:!0}).filter(t)}}Ii.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},F(Ii,{roots:ji({noIncomingEdges:!0}),leaves:ji({noOutgoingEdges:!0}),outgoers:wr(Ri({outgoing:!0}),"outgoers"),successors:Fi({outgoing:!0}),incomers:wr(Ri({incoming:!0}),"incomers"),predecessors:Fi({incoming:!0})}),F(Ii,{neighborhood:wr(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Ii.neighbourhood=Ii.neighborhood,Ii.closedNeighbourhood=Ii.closedNeighborhood,Ii.openNeighbourhood=Ii.openNeighborhood,F(Ii,{source:wr(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:wr(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:zi({attr:"source"}),targets:zi({attr:"target"})}),F(Ii,{edgesWith:wr(Vi(),"edgesWith"),edgesTo:wr(Vi({thisIsSrc:!0}),"edgesTo")}),F(Ii,{connectedEdges:wr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var a=i[o];t.push(a)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:wr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:wr(qi(),"parallelEdges"),codirectedEdges:wr(qi({codirected:!0}),"codirectedEdges")}),F(Ii,{components:function(){var e=this,t=e.cy(),n=e.spawn(),r=e.nodes().spawnSelf(),i=[],o=function(e,t){n.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return e.spawn();var a=function(){var n=t.collection();i.push(n);var a=r[0];o(a,n),e.bfs({directed:!1,roots:a,visit:function(e,t,r,i,a){o(e,n)}})};do{a()}while(r.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}});var Hi=function(e,t,n){for(var r=null!=n?n:de();e.hasElementWithId(r);)r=de();return r},Xi=function(e,t,n){if(void 0!==e&&N(e)){var r=new be,i=!1;if(t){if(t.length>0&&x(t[0])&&!_(t[0])){i=!0;for(var o=[],a=new xe,s=0,l=t.length;s<l;s++){var u=t[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=Hi(e,u);else if(e.hasElementWithId(c.id)||a.has(c.id))continue;var d=new Ee(e,u,!1);o.push(d),a.add(c.id)}t=o}}else t=[];this.length=0;for(var h=0,f=t.length;h<f;h++){var p=t[h];if(null!=p){var v=p._private.data.id;(null==n||n.unique&&!r.has(v))&&(r.set(v,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:e,map:r},i&&this.restore()}else le("A collection must have a reference to the core")},Yi=Ee.prototype=Xi.prototype;Yi.instanceString=function(){return"collection"},Yi.spawn=function(e,t,n){return N(e)||(n=t,t=e,e=this.cy()),new Xi(e,t,n)},Yi.spawnSelf=function(){return this.spawn(this)},Yi.cy=function(){return this._private.cy},Yi.renderer=function(){return this._private.cy.renderer()},Yi.element=function(){return this[0]},Yi.collection=function(){return T(this)?this:new Xi(this._private.cy,[this])},Yi.unique=function(){return new Xi(this._private.cy,this,{unique:!0})},Yi.hasElementWithId=function(e){return this._private.map.has(e)},Yi.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Xi(t)},Yi.$id=Yi.getElementById,Yi.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Yi.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Yi.indexOfId=function(e){return this._private.map.get(e).index},Yi.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(x(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var o=!1,a={},s=e.data.source,l=e.data.target;null!=s&&s!==i.source&&(a.source=s,o=!0),null!=l&&l!==i.target&&(a.target=l,o=!0),o&&(t=t.move(a))}else{var u=e.data.parent;null==u&&null==i.parent||u===i.parent||(void 0===u&&(u=null),t=t.move({parent:u}))}}e.position&&t.position(e.position);var c=function(n,i,o){var a=e[n];null!=a&&a!==r[n]&&(a?t[i]():t[o]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:ce(r.data),position:ce(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,classes:null};d.classes="";var h=0;return r.classes.forEach(function(e){return d.classes+=0==h++?e:" "+e}),d}}},Yi.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Yi.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new Ee(e,r,!1);t.push(i)}return new Xi(e,t)},Yi.copy=Yi.clone,Yi.restore=function(e){var t=this.cy(),n=t._private;void 0===e&&(e=!0);for(var r,i,o=[],a=[],s=0,l=this.length;s<l;s++){var u=this[s];u.removed()&&(u.isNode()?o.push(u):a.push(u))}r=o.concat(a);var c=function(){r.splice(i,1),i--};for(i=0;i<r.length;i++){var d=r[i],h=d._private,f=h.data;if(d.clearTraversalCache(),void 0===f.id)f.id=Hi(t,d);else if(E(f.id))f.id=""+f.id;else{if(D(f.id)||!y(f.id)){le("Can not create element with invalid string ID `"+f.id+"`"),c();continue}if(t.hasElementWithId(f.id)){le("Can not create second element with ID `"+f.id+"`"),c();continue}}var p=f.id;if(d.isNode()){var v=h.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(d.isEdge()){for(var g=d,m=["source","target"],b=m.length,w=!1,x=0;x<b;x++){var S=m[x],C=f[S];E(C)&&(C=f[S]=""+f[S]),null==C||""===C?(le("Can not create edge `"+p+"` with unspecified "+S),w=!0):t.hasElementWithId(C)||(le("Can not create edge `"+p+"` with nonexistant "+S+" `"+C+"`"),w=!0)}if(w){c();continue}var _=t.getElementById(f.source),T=t.getElementById(f.target);_._private.edges.push(g),T._private.edges.push(g),g._private.source=_,g._private.target=T}h.map=new be,h.map.set(p,{ele:d,index:0}),h.removed=!1,t.addToPool(d)}for(var N=0;N<o.length;N++){var k=o[N],M=k._private.data;E(M.parent)&&(M.parent=""+M.parent);var P=M.parent;if(null!=P){var O=t.getElementById(P);if(O.empty())M.parent=void 0;else{for(var A=!1,L=O;!L.empty();){if(k.same(L)){A=!0,M.parent=void 0;break}L=L.parent()}A||(O[0]._private.children.push(k),k._private.parent=O[0],n.hasCompoundNodes=!0)}}}if(r.length>0){for(var B=new Xi(t,r),I=0;I<B.length;I++){var j=B[I];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}(n.hasCompoundNodes?t.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?B.emitAndNotify("add"):B.emit("add")}return this},Yi.removed=function(){var e=this[0];return e&&e._private.removed},Yi.inside=function(){var e=this[0];return e&&!e._private.removed},Yi.remove=function(e){var t=[],n=[],r={},i=this._private.cy;function o(e){var t=r[e.id()];e.removed()||t||(r[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)o(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)o(t[n])}(e)):n.unshift(e))}void 0===e&&(e=!0);for(var a=0,s=this.length;a<s;a++){o(this[a])}function l(e,t){var n=e._private.edges;ve(n,t),e.clearTraversalCache()}var u=[];function c(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();ve(n,t),u.ids[r]||(u.ids[r]=!0,u.push(e))}u.ids={},this.dirtyCompoundBoundsCache(),i.removeFromPool(n);for(var d=0;d<n.length;d++){var h=n[d];if(h._private.removed=!0,t.push(h),h.isEdge()){var f=h.source()[0],p=h.target()[0];l(f,h),l(p,h),h.parallelEdges().clearTraversalCache()}else{var v=h.parent();0!==v.length&&c(v,h)}}var g=i._private.elements;i._private.hasCompoundNodes=!1;for(var m=0;m<g.length;m++){if(g[m].isParent()){i._private.hasCompoundNodes=!0;break}}var y=new Xi(this.cy(),t);y.size()>0&&(e?y.emitAndNotify("remove"):y.emit("remove"));for(var b=0;b<u.length;b++){var w=u[b];w.removed()||w.updateStyle()}return new Xi(i,t)},Yi.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),o=t.hasElementWithId(r);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),o&&(l.data.target=r),l.scratch=u._private.scratch)}return t.add(a)}}else if(void 0!==e.parent){var c=e.parent;if(null===c||t.hasElementWithId(c)){var d=this.jsons(),h=this.descendants(),f=h.union(h.union(this).connectedEdges()).jsons();this.remove();for(var p=0;p<d.length;p++){var v=d[p],g=this[p];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=g._private.scratch)}return t.add(d.concat(f))}}return this},[En,An,Ln,mr,xr,kr,Dr,ti,vi,gi,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},bi,xi,_i,Ai,Ii].forEach(function(e){F(Yi,e)});var Wi={add:function(e){var t,n=this;if(C(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],o=0;o<r.length;o++){var a=r[o];i.push(a.json())}t=new Xi(n,i)}}else if(w(e)){t=new Xi(n,e)}else if(x(e)&&(w(e.nodes)||w(e.edges))){for(var s=e,l=[],u=["nodes","edges"],c=0,d=u.length;c<d;c++){var h=u[c],f=s[h];if(w(f))for(var p=0,v=f.length;p<v;p++){var g=F({group:h},f[p]);l.push(g)}}t=new Xi(n,l)}else{t=new Ee(n,e).collection()}return t},remove:function(e){if(C(e));else if(y(e)){var t=e;e=this.$(t)}return e.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Gi(e,t,n,r){var i=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var h=c?new Float32Array(l):new Array(l);function f(e,t){return 1-3*t+3*e}function p(e,t){return 3*t-6*e}function v(e){return 3*e}function g(e,t,n){return((f(t,n)*e+p(t,n))*e+v(t))*e}function m(e,t,n){return 3*f(t,n)*e*e+2*p(t,n)*e+v(t)}function y(t){for(var r=0,c=1,d=l-1;c!==d&&h[c]<=t;++c)r+=u;var f=r+(t-h[--c])/(h[c+1]-h[c])*u,p=m(f,e,n);return p>=o?function(t,r){for(var o=0;o<i;++o){var a=m(r,e,n);if(0===a)return r;r-=(g(r,e,n)-t)/a}return r}(t,f):0===p?f:function(t,r,i){var o,l,u=0;do{(o=g(l=r+(i-r)/2,e,n)-t)>0?i=l:r=l}while(Math.abs(o)>a&&++u<s);return l}(t,r,r+u)}var b=!1;function w(){b=!0,e===t&&n===r||function(){for(var t=0;t<l;++t)h[t]=g(t*u,e,n)}()}var x=function(i){return b||w(),e===t&&n===r?i:0===i?0:1===i?1:g(y(i),t,r)};x.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var E="generateBezier("+[e,t,n,r]+")";return x.toString=function(){return E},x}
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Ki=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function e(t,r,i){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,l.tension=t,l.friction=r,a=(o=null!==i)?(c=e(t,r))/i*.016:.016;s=n(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(e){return u[e*(u.length-1)|0]}:c}}(),Ui=function(e,t,n,r){var i=Gi(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},Zi={linear:function(e,t,n){return e+(t-e)*n},ease:Ui(.25,.1,.25,1),"ease-in":Ui(.42,0,1,1),"ease-out":Ui(0,0,.58,1),"ease-in-out":Ui(.42,0,.58,1),"ease-in-sine":Ui(.47,0,.745,.715),"ease-out-sine":Ui(.39,.575,.565,1),"ease-in-out-sine":Ui(.445,.05,.55,.95),"ease-in-quad":Ui(.55,.085,.68,.53),"ease-out-quad":Ui(.25,.46,.45,.94),"ease-in-out-quad":Ui(.455,.03,.515,.955),"ease-in-cubic":Ui(.55,.055,.675,.19),"ease-out-cubic":Ui(.215,.61,.355,1),"ease-in-out-cubic":Ui(.645,.045,.355,1),"ease-in-quart":Ui(.895,.03,.685,.22),"ease-out-quart":Ui(.165,.84,.44,1),"ease-in-out-quart":Ui(.77,0,.175,1),"ease-in-quint":Ui(.755,.05,.855,.06),"ease-out-quint":Ui(.23,1,.32,1),"ease-in-out-quint":Ui(.86,0,.07,1),"ease-in-expo":Ui(.95,.05,.795,.035),"ease-out-expo":Ui(.19,1,.22,1),"ease-in-out-expo":Ui(1,0,0,1),"ease-in-circ":Ui(.6,.04,.98,.335),"ease-out-circ":Ui(.075,.82,.165,1),"ease-in-out-circ":Ui(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Zi.linear;var r=Ki(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Ui};function $i(e,t,n,r,i){if(1===r)return n;var o=i(t,n,r);return null==e?o:((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max)),o)}function Qi(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Ji(e,t,n,r,i){var o=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var a=Qi(e,i),s=Qi(t,i);if(E(a)&&E(s))return $i(o,a,s,n,r);if(w(a)&&w(s)){for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u];if(null!=c&&null!=d){var h=$i(o,c,d,n,r);l.push(h)}else l.push(d)}return l}}function eo(e,t,n,r){var i=!r,o=e._private,a=t._private,s=a.easing,l=a.startTime,u=(r?e:e.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=Zi.linear;else{var c,d,h;if(y(s))c=u.parse("transition-timing-function",s).value;else c=s;y(c)?(d=c,h=[]):(d=c[1],h=c.slice(2).map(function(e){return+e})),h.length>0?("spring"===d&&h.push(a.duration),a.easingImpl=Zi[d].apply(null,h)):a.easingImpl=Zi[d]}var f,p=a.easingImpl;if(f=0===a.duration?1:(n-l)/a.duration,a.applying&&(f=a.progress),f<0?f=0:f>1&&(f=1),null==a.delay){var v=a.startPosition,g=a.position;if(g&&i&&!e.locked()){var m={};to(v.x,g.x)&&(m.x=Ji(v.x,g.x,f,p)),to(v.y,g.y)&&(m.y=Ji(v.y,g.y,f,p)),e.position(m)}var b=a.startPan,w=a.pan,x=o.pan,E=null!=w&&r;E&&(to(b.x,w.x)&&(x.x=Ji(b.x,w.x,f,p)),to(b.y,w.y)&&(x.y=Ji(b.y,w.y,f,p)),e.emit("pan"));var S=a.startZoom,C=a.zoom,_=null!=C&&r;_&&(to(S,C)&&(o.zoom=Ji(S,C,f,p)),e.emit("zoom")),(E||_)&&e.emit("viewport");var T=a.style;if(T&&T.length>0&&i){for(var N=0;N<T.length;N++){var k=T[N],D=k.name,M=k,P=a.startStyle[D],O=Ji(P,M,f,p,u.properties[P.name]);u.overrideBypass(e,D,O)}e.emit("style")}}return a.progress=f,f}function to(e,t){return null!=e&&null!=t&&(!(!E(e)||!E(t))||!(!e||!t))}function no(e,t,n,r){var i=!r,o=e,a=t._private,s=r?e:e.cy(),l=s.style();if(i){var u=o.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||l.getAnimationStartStyle(o,a.style)}if(r){var c=s._private.pan;a.startPan=a.startPan||{x:c.x,y:c.y},a.startZoom=null!=a.startZoom?a.startZoom:s._private.zoom}a.started=!0,a.startTime=n-a.progress*a.duration}function ro(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,o=i.animation.current,a=i.animation.queue,s=!1;if(!n&&"none"===t.pstyle("display").value){o=o.splice(0,o.length).concat(a.splice(0,a.length));for(var l=0;l<o.length;l++)o[l].stop()}if(0===o.length){var u=a.shift();u&&o.push(u)}for(var c=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},d=o.length-1;d>=0;d--){var h=o[d],f=h._private;f.stopped?(o.splice(d,1),f.hooked=!1,f.playing=!1,f.started=!1,c(f.frames)):(f.playing||f.applying)&&(f.playing&&f.applying&&(f.applying=!1),f.started||no(t,h,e,n),eo(t,h,e,n),f.applying&&(f.applying=!1),c(f.frames),null!=f.step&&f.step(e),h.completed()&&(o.splice(d,1),f.hooked=!1,f.playing=!1,f.started=!1,c(f.completes)),s=!0)}return n||0!==o.length||0!==a.length||r.push(t),s}for(var o=!1,a=0;a<n.length;a++){var s=i(n[a]);o=o||s}var l=i(t,!0);(o||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var io={animate:On.animate(),animation:On.animation(),animated:On.animated(),clearQueue:On.clearQueue(),delay:On.delay(),delayAnimation:On.delayAnimation(),stop:On.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){ro(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&G(function(n){ro(n,e),t()})}()}}},oo={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&_(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},ao=function(e){return y(e)?new vr(e):e},so={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new li(oo,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,ao(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,ao(t),n),this},one:function(e,t,n){return this.emitter().one(e,ao(t),n),this},once:function(e,t,n){return this.emitter().one(e,ao(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};On.eventAliasesOn(so);var lo={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};lo.jpeg=lo.jpg;var uo={layout:function(e){if(null!=e)if(null!=e.name){var t=e.name,n=this.extension("layout",t);if(null!=n){var r;r=y(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$();var i=new n(F({},e,{cy:this,eles:r}));return i}le("No such layout `"+t+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else le("A `name` must be specified to make a layout");else le("Layout options must be specified to make a layout")}};uo.createLayout=uo.makeLayout=uo.layout;var co={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];t.getElementById(i).data(o)}})}},ho={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);if(null!=t){var n={motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1},r=F({},n,e,{cy:this,wheelSensitivity:E(e.wheelSensitivity)&&e.wheelSensitivity>0?e.wheelSensitivity:n.wheelSensitivity,pixelRatio:E(e.pixelRatio)&&e.pixelRatio>0?e.pixelRatio:n.pixelRatio});this._private.renderer=new t(r),this.notify("init")}else le("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var e=this.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ho.invalidateDimensions=ho.resize;var fo={collection:function(e,t){return y(e)?this.$(e):C(e)?e.collection():w(e)?new Xi(this,e,t):new Xi(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};fo.elements=fo.filter=fo.$;var po={};po.apply=function(e){var t=this._private,n=t.cy.collection();t.newStyle&&(t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0));for(var r=0;r<e.length;r++){var i=e[r],o=this.getContextMeta(i);if(!o.empty){var a=this.getContextStyle(o),s=this.applyContextStyle(o,a,i);t.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)&&n.merge(i)}}return t.newStyle=!1,n},po.getPropertiesDiff=function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},r=e+"-"+t,i=n[r];if(i)return i;for(var o=[],a={},s=0;s<this.length;s++){var l=this[s],u="t"===e[s]!==("t"===t[s]),c=l.mappedProperties.length>0;if(u||c){var d=void 0;u&&c?d=l.properties:u?d=l.properties:c&&(d=l.mappedProperties);for(var h=0;h<d.length;h++){for(var f=d[h],p=f.name,v=!1,g=s+1;g<this.length;g++){var m=this[g];if("t"===t[g]&&(v=null!=m.properties[f.name]))break}a[p]||v||(a[p]=!0,o.push(p))}}}return n[r]=o,o},po.getContextMeta=function(e){var t,n="",r=e._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var o=this[i];n+=o.selector&&o.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(r,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},po.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var o=this[i];if("t"===t[i])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[t]=r,r},po.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},o=0;o<r.length;o++){var a=r[o],s=t[a],l=n.pstyle(a);if(!s){if(!l)continue;s=l.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(l!==s){var u=i[a]={prev:l};this.applyParsedProperty(n,s),u.next=n.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},po.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(e,t,r){return n.getPropertiesHash(e,t,r)},a=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=0}for(var d=function(e,n){return t.styleKeys[n]=Z(e,t.styleKeys[n])},h=0;h<r.length;h++){var f=r[h],p=l[f];if(null!=p){var v=this.properties[f],g=v.type,m=v.groupKey;if(g.number){var y=null!=p.pfValue?p.pfValue:p.value;if(g.multiple)for(var b=0;b<y.length;b++)d(y[b],m);else d(y,m)}else for(var w=p.strValue,x=0;x<w.length;x++)d(w.charCodeAt(x),m)}}for(var E=0,S=0;S<i.length;S++){var C=i[S],_=t.styleKeys[C];E=Z(_,E)}t.styleKey=E;var T=t.labelDimsKey=t.styleKeys.labelDimensions;if(t.labelKey=o(e,["label"],T),t.labelStyleKey=Z(t.styleKeys.commonLabel,t.labelKey),s||(t.sourceLabelKey=o(e,["source-label"],T),t.sourceLabelStyleKey=Z(t.styleKeys.commonLabel,t.sourceLabelKey),t.targetLabelKey=o(e,["target-label"],T),t.targetLabelStyleKey=Z(t.styleKeys.commonLabel,t.targetLabelKey)),s){var N=t.styleKeys,k=N.nodeBody,D=N.nodeBorder,M=N.backgroundImage,P=N.compound,O=N.pie;t.nodeKey=$([D,M,P,O],k),t.hasPie=0!=O}return a!==t.styleKey},po.clearStyleHints=function(e){var t=e._private;t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},po.applyParsedProperty=function(e,t){var n,r=this,i=t,o=e._private.style,a=r.types,s=r.properties[i.name].type,l=i.bypass,u=o[i.name],c=u&&u.bypass,d=e._private,h=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=h(u),n=h(i);r.checkTriggers(e,i.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return o[i.name]=void 0,f(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return u?!!u.bypass&&(o[i.name]=u.bypassed,f(),!0):(f(),!0);var p=function(){ue("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var v,g=i.field.split("."),m=d.data,y=0;y<g.length&&m;y++){m=m[g[y]]}if(null==m)return p(),!1;if(!E(m))return ue("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var b=i.fieldMax-i.fieldMin;if((v=0===b?0:(m-i.fieldMin)/b)<0?v=0:v>1&&(v=1),s.color){var w=i.valueMin[0],x=i.valueMax[0],S=i.valueMin[1],C=i.valueMax[1],_=i.valueMin[2],T=i.valueMax[2],N=null==i.valueMin[3]?1:i.valueMin[3],k=null==i.valueMax[3]?1:i.valueMax[3],D=[Math.round(w+(x-w)*v),Math.round(S+(C-S)*v),Math.round(_+(T-_)*v),Math.round(N+(k-N)*v)];n={bypass:i.bypass,name:i.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!s.number)return!1;var M=i.valueMin+(i.valueMax-i.valueMin)*v;n=this.parse(i.name,M,i.bypass,"mapping")}if(!n)return p(),!1;n.mapping=i,i=n;break;case a.data:for(var P=i.field.split("."),O=d.data,A=0;A<P.length&&O;A++){O=O[P[A]]}if(null!=O&&(n=this.parse(i.name,O,i.bypass,"mapping")),!n)return p(),!1;n.mapping=i,i=n;break;case a.fn:var L=(0,i.value)(e);if(null==L)return ue("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(i.name,L,i.bypass,"mapping")))return ue("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=i,i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=c?u.bypassed:u,o[i.name]=i):c?u.bypassed=i:o[i.name]=i,f(),!0},po.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else r._private.style={}}},po.update=function(){this._private.cy.mutableElements().updateStyle()},po.updateMappers=function(e){for(var t=this._private.cy.collection(),n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,o=!1,a=Object.keys(i),s=0;s<a.length;s++){var l=i[a[s]];if(null!=l&&l.mapping){var u=l.mapping;this.applyParsedProperty(r,u),o=!0}}if(o)this.updateStyleHints(r)&&t.merge(r)}return t},po.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],d=e.pstyle(c),h=t[c];if(h){var f=h.prev,p=null!=h.next?h.next:d,v=!1,g=void 0;f&&(E(f.pfValue)&&E(p.pfValue)?(v=p.pfValue-f.pfValue,g=f.pfValue+1e-6*v):E(f.value)&&E(p.value)?(v=p.value-f.value,g=f.value+1e-6*v):w(f.value)&&w(p.value)&&(v=f.value[0]!==p.value[0]||f.value[1]!==p.value[1]||f.value[2]!==p.value[2],g=f.strValue),v&&(s[c]=p.strValue,this.applyBypass(e,c,g),l=!0))}}if(!l)return;r.transitioning=!0,new Dn(function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()}).then(function(){return e.animation({style:s,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},po.checkTrigger=function(e,t,n,r,i,o){var a=i(this.properties[t]);null!=a&&a(n,r)&&o()},po.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},po.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},po.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var vo={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var a=this.properties[o].name,s=this.parse(a,n,!0);s&&i.push(s)}}else if(y(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!x(t))return!1;var u=t;r=n;for(var c=Object.keys(u),d=0;d<c.length;d++){var h=c[d],f=u[h];if(void 0===f&&(f=u[L(h)]),void 0!==f){var p=this.parse(h,f,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var v=!1,g=0;g<e.length;g++){for(var m=e[g],b={},w=void 0,E=0;E<i.length;E++){var S=i[E];if(r){var C=m.pstyle(S.name);w=b[S.name]={prev:C}}v=this.applyParsedProperty(m,S)||v,r&&(w.next=m.pstyle(S.name))}v&&this.updateStyleHints(m),r&&this.updateTransitions(m,b,!0)}return v},overrideBypass:function(e,t,n){t=A(t);for(var r=0;r<e.length;r++){var i=e[r],o=i._private.style[t],a=this.properties[t].type,s=a.color,l=a.mutiple,u=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,u,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],o={},a=0;a<t.length;a++){var s=t[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=o[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}}},go={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(d&&t&&d.getComputedStyle)return d.getComputedStyle(t).getPropertyValue(e)}},mo={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},r=0;r<this.properties.length;r++){var i=this.properties[r],o=this.getStylePropertyValue(e,i.name,t);null!=o&&(n[i.name]=o,n[L(i.name)]=o)}return n}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,o=e.pstyle(r.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(n&&i.number&&null!=a&&E(a)){var u=e.cy().zoom(),c=function(e){return e*u},d=function(e,t){return c(e)+t},h=w(a);return(h?s.every(function(e){return null!=e}):null!=s)?h?a.map(function(e,t){return d(e,s[t])}).join(" "):d(a,s):h?a.map(function(e){return y(e)?e:""+c(e)}).join(" "):""+c(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,o=e.pstyle(i);void 0!==o&&(o=x(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(n[i]=o)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a],l=r[a]||r[A(a)],u=this.parse(l.name,s);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,o,a,s,l,u=n;for(s=0;s<t.length;s++)if(r=t[s],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)u=Z(a,u);else for(o=i.strValue,l=0;l<o.length;l++)a=o.charCodeAt(l),u=Z(a,u);return u}};mo.getPropertiesHash=mo.getNonDefaultPropertiesHash;var yo={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.selector,i=n.style||n.css,o=Object.keys(i);this.selector(r);for(var a=0;a<o.length;a++){var s=o[a],l=i[s];this.css(s,l)}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:o})}return e}},bo={appendFromString:function(e){var t,n,r,i=""+e;function o(){i=i.length>t.length?i.substr(t.length):""}function a(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(i.match(/^\s*$/))break;var s=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){ue("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}t=s[0];var l=s[1];if("core"!==l)if(new vr(l).invalid){ue("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();continue}var u=s[2],c=!1;n=u;for(var d=[];;){if(n.match(/^\s*$/))break;var h=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!h){ue("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}r=h[0];var f=h[1],p=h[2];if(this.properties[f])this.parse(f,p)?(d.push({name:f,val:p}),a()):(ue("Skipping property: Invalid property definition in: "+r),a());else ue("Skipping property: Invalid property name in: "+r),a()}if(c){o();break}this.selector(l);for(var v=0;v<d.length;v++){var g=d[v];this.css(g.name,g.val)}o()}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}},wo={};!function(){var e=j,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];wo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return y(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var i={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t}},o=wo.types,a=[{name:"label",type:o.text,triggersBounds:i.any},{name:"text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:o.text,triggersBounds:i.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:o.size,triggersBounds:i.any}],l=[{name:"target-label",type:o.text,triggersBounds:i.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:o.size,triggersBounds:i.any}],u=[{name:"font-family",type:o.fontFamily,triggersBounds:i.any},{name:"font-style",type:o.fontStyle,triggersBounds:i.any},{name:"font-weight",type:o.fontWeight,triggersBounds:i.any},{name:"font-size",type:o.size,triggersBounds:i.any},{name:"text-transform",type:o.textTransform,triggersBounds:i.any},{name:"text-wrap",type:o.textWrap,triggersBounds:i.any},{name:"text-max-width",type:o.size,triggersBounds:i.any},{name:"text-outline-width",type:o.size,triggersBounds:i.any}],c=[{name:"text-valign",type:o.valign,triggersBounds:i.any},{name:"text-halign",type:o.halign,triggersBounds:i.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:i.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:i.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:i.any}],d=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],h=[{name:"display",type:o.display,triggersZOrder:i.any,triggersBounds:i.any},{name:"visibility",type:o.visibility,triggersZOrder:i.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:i.any}],f=[{name:"overlay-padding",type:o.size,triggersBounds:i.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero}],p=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],v=[{name:"height",type:o.nodeSize,triggersBounds:i.any},{name:"width",type:o.nodeSize,triggersBounds:i.any},{name:"shape",type:o.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:i.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:i.any}],g=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:i.any},{name:"border-style",type:o.borderStyle}],m=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH}],b=[{name:"position",type:o.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:o.size,triggersBounds:i.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:o.size,triggersBounds:i.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:i.any}],w=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:i.any},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:o.size,triggersBounds:i.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:o.numbers,triggersBounds:i.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:o.numbers,triggersBounds:i.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:o.angle,triggersBounds:i.any},{name:"loop-sweep",type:o.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:o.size,triggersBounds:i.any},{name:"target-distance-from-node",type:o.size,triggersBounds:i.any}],x=[{name:"ghost",type:o.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:o.zeroOneNumber}],E=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],S=[];wo.pieBackgroundN=16,S.push({name:"pie-size",type:o.sizeMaybePercent});for(var C=1;C<=wo.pieBackgroundN;C++)S.push({name:"pie-"+C+"-background-color",type:o.color}),S.push({name:"pie-"+C+"-background-size",type:o.percent}),S.push({name:"pie-"+C+"-background-opacity",type:o.zeroOneNumber});var _=[],T=wo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach(function(e){T.forEach(function(t){var n=t+"-"+e.name,r=e.type;_.push({name:n,type:r})})},{});var N=wo.properties=d.concat(p,h,f,x,c,u,a,s,l,v,g,m,S,b,w,_,E),k=wo.propertyGroups={behavior:d,transition:p,visibility:h,overlay:f,ghost:x,commonLabel:c,labelDimensions:u,mainLabel:a,sourceLabel:s,targetLabel:l,nodeBody:v,nodeBorder:g,backgroundImage:m,pie:S,compound:b,edgeLine:w,edgeArrow:_,core:E},D=wo.propertyGroupNames={};(wo.propertyGroupKeys=Object.keys(k)).forEach(function(e){D[e]=k[e].map(function(e){return e.name}),k[e].forEach(function(t){return t.groupKey=e})});var M=wo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];wo.propertyNames=N.map(function(e){return e.name});for(var P=0;P<N.length;P++){var O=N[P];N[O.name]=O}for(var A=0;A<M.length;A++){var L=M[A],B=N[L.pointsTo],I={name:L.name,alias:!0,pointsTo:B};N.push(I),N[L.name]=I}}(),wo.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},wo.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=F({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=wo.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return wo.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=t[o],s=this.parse(o,a);n[o]=s}}return e.defaultProperties=n,e.defaultProperties},wo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var xo={parse:function(e,t,n,r){if(b(t))return this.parseImplWarn(e,t,n,r);var i,o=J(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),a=this.propCache=this.propCache||[];return(i=a[o])||(i=a[o]=this.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=ce(i))&&(i.value=ce(i.value)),i},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||ue("The style property `".concat(e,": ").concat(t,"` is invalid")),i}};xo.parseImpl=function(e,t,n,r){e=A(e);var i=this.properties[e],o=t,a=this.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var s=y(t);s&&(t=t.trim());var l,u,c=i.type;if(!c)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(b(t))return{name:e,value:t,strValue:"fn",mapped:a.fn,bypass:n};if(!s||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(a.data.regex).exec(t))){if(n)return!1;var d=a.data;return{name:e,value:l,strValue:""+t,mapped:d,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(a.mapData.regex).exec(t))){if(n)return!1;if(c.multiple)return!1;var h=a.mapData;if(!c.color&&!c.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var p=this.parse(e,u[5]);if(!p||p.mapped)return!1;if(f.pfValue===p.pfValue||f.strValue===p.strValue)return ue("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(c.color){var v=f.value,g=p.value;if(!(v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2]||v[3]!==g[3]&&(null!=v[3]&&1!==v[3]||null!=g[3]&&1!==g[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:h,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:p.value,bypass:n}}}if(c.multiple&&"multiple"!==r){var m;if(m=s?t.split(/\s+/):w(t)?t:[t],c.evenMultiple&&m.length%2!=0)return null;for(var x=[],S=[],C=[],_="",T=!1,N=0;N<m.length;N++){var k=this.parse(e,m[N],n,"multiple");T=T||y(k.value),x.push(k.value),C.push(null!=k.pfValue?k.pfValue:k.value),S.push(k.units),_+=(N>0?" ":"")+k.strValue}return c.validate&&!c.validate(x,S)?null:c.singleEnum&&T?1===x.length&&y(x[0])?{name:e,value:x[0],strValue:x[0],bypass:n}:null:{name:e,value:x,pfValue:C,strValue:_,bypass:n,units:S}}var D,M,P=function(){for(var r=0;r<c.enums.length;r++){if(c.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(c.number){var O,L="px";if(c.units&&(O=c.units),c.implicitUnits&&(L=c.implicitUnits),!c.unitless)if(s){var B="px|em"+(c.allowPercent?"|\\%":"");O&&(B=O);var I=t.match("^("+j+")("+B+")?$");I&&(t=I[1],O=I[2]||L)}else O&&!c.implicitUnits||(O=L);if(t=parseFloat(t),isNaN(t)&&void 0===c.enums)return null;if(isNaN(t)&&void 0!==c.enums)return t=o,P();if(c.integer&&(!E(M=t)||Math.floor(M)!==M))return null;if(void 0!==c.min&&(t<c.min||c.strictMin&&t===c.min)||void 0!==c.max&&(t>c.max||c.strictMax&&t===c.max))return null;var R={name:e,value:t,strValue:""+t+(O||""),units:O,bypass:n};return c.unitless||"px"!==O&&"em"!==O?R.pfValue=t:R.pfValue="px"!==O&&O?this.getEmSizeInPixels()*t:t,"ms"!==O&&"s"!==O||(R.pfValue="ms"===O?t:1e3*t),"deg"!==O&&"rad"!==O||(R.pfValue="rad"===O?t:(D=t,Math.PI*D/180)),"%"===O&&(R.pfValue=t/100),R}if(c.propList){var F=[],V=""+t;if("none"===V);else{for(var q=V.split(/\s*,\s*|\s+/),H=0;H<q.length;H++){var X=q[H].trim();this.properties[X]?F.push(X):ue("`"+X+"` is not a valid property name")}if(0===F.length)return null}return{name:e,value:F,strValue:0===F.length?"none":F.join(" "),bypass:n}}if(c.color){var Y=z(t);return Y?{name:e,value:Y,pfValue:Y,strValue:"rgb("+Y[0]+","+Y[1]+","+Y[2]+")",bypass:n}:null}if(c.regex||c.regexes){if(c.enums){var W=P();if(W)return W}for(var G=c.regexes?c.regexes:[c.regex],K=0;K<G.length;K++){var U=new RegExp(G[K]).exec(t);if(U)return{name:e,value:c.singleRegexMatchValue?U[1]:U,strValue:""+t,bypass:n}}return null}return c.string?{name:e,value:""+t,strValue:""+t,bypass:n}:c.enums?P():null};var Eo=function e(t){if(!(this instanceof e))return new e(t);N(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):le("A style must have a core reference")},So=Eo.prototype;So.instanceString=function(){return"style"},So.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},So.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},So.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},So.selector=function(e){var t="core"===e?null:new vr(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},So.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],i=t[r.name];void 0===i&&(i=t[L(r.name)]),void 0!==i&&this.cssRule(r.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},So.style=So.css,So.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},So.append=function(e){return k(e)?e.appendToStyle(this):w(e)?this.appendFromJson(e):y(e)&&this.appendFromString(e),this},Eo.fromJson=function(e,t){var n=new Eo(e);return n.fromJson(t),n},Eo.fromString=function(e,t){return new Eo(e).fromString(t)},[po,vo,go,mo,yo,bo,wo,xo].forEach(function(e){F(So,e)}),Eo.types=So.types,Eo.properties=So.properties,Eo.propertyGroups=So.propertyGroups,Eo.propertyGroupNames=So.propertyGroupNames,Eo.propertyGroupKeys=So.propertyGroupKeys;var Co={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return k(e)?t.style=e.generateStyle(this):w(e)?t.style=Eo.fromJson(this,e):y(e)?t.style=Eo.fromString(this,e):t.style=Eo(this),t.style}},_o={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(y(o[0]))return a[e=o[0]];if(x(o[0])){if(!this._private.panningEnabled)return this;r=(n=o[0]).x,i=n.y,E(r)&&(a.x=r),E(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[0],t=o[1],"x"!==e&&"y"!==e||!E(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:x(e)&&(o=(i=s[0]).x,a=i.y,E(o)&&(l.x+=o),E(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!E(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(E(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(y(e)){var i=e;e=this.$(i)}else if(x(r=e)&&E(r.x1)&&E(r.x2)&&E(r.y1)&&E(r.y2)){var o=e;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else C(e)||(e=this.mutableElements());if(!C(e)||!e.empty()){n=n||e.boundingBox();var a,s=this.width(),l=this.height();if(t=E(t)?t:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((s-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(n.x1+n.x2))/2,y:(l-a*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return E(e)&&E(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):E(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:E(t)&&void 0===e&&t<=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,o=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),E(e)?n=e:x(e)&&(n=e.level,null!=e.position?t=Re(e.position,o,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!E(n)||n===o||null!=t&&(!E(t.x)||!E(t.y)))return null;if(null!=t){var s=i,l=o,u=n;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],o=!1,a=!1;if(!e)return this;if(E(e.zoom)||(n=!1),x(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;E(l.x)&&(t.pan.x=l.x,a=!1),E(l.y)&&(t.pan.y=l.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(y(e)){var n=e;e=this.mutableElements().filter(n)}else C(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),o=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(o-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(e=d.getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};_o.centre=_o.center,_o.autolockNodes=_o.autolock,_o.autoungrabifyNodes=_o.autoungrabify;var To=function(e){var t=this,n=(e=F({},e)).container;n&&!S(n)&&S(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var o=void 0!==d&&void 0!==n&&!e.headless,a=e;a.layout=F({name:o?"grid":"null"},a.layout),a.renderer=F({name:o?"canvas":"null"},a.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:a,elements:new Xi(this),listeners:[],aniEles:new Xi(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?o:a.styleEnabled,zoom:E(a.zoom)?a.zoom:1,pan:{x:x(a.pan)&&E(a.pan.x)?a.pan.x:0,y:x(a.pan)&&E(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom});l.styleEnabled&&t.setStyle([]),t.initRenderer(a.renderer);!function(e,t){if(e.some(M))return Dn.all(e).then(t);t(e)}([a.style,a.elements],function(e){var n=e[0],o=e[1];l.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(x(e)||w(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var o=F({},t._private.options.layout);o.eles=t.elements(),t.layout(o).run()}(o,function(){t.startAnimationLoop(),l.ready=!0,b(a.ready)&&t.on("ready",a.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},a.done)})},No=To.prototype;F(No,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e,t){if(null!=e){var n=this,r=n._private,i=r.options,o=t||{name:"canvas"};return i.renderer=o,!S(e)&&S(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.initRenderer(o),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ce(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(x(e)){if(t.startBatch(),e.elements){var i={},o=function(e,n){for(var r=[],o=[],a=0;a<e.length;a++){var s=e[a],l=s.data.id,u=t.getElementById(l);i[l]=!0,0!==u.length?o.push({ele:u,json:s}):n?(s.group=n,r.push(s)):r.push(s)}t.add(r);for(var c=0;c<o.length;c++){var d=o[c],h=d.ele,f=d.json;h.json(f)}};if(w(e.elements))o(e.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],u=e.elements[l];w(u)&&o(u,l)}for(var c=0;c<r.length;c++){var d=r[c];!i[d.id()]&&(d.isParent()?(d.children().move({parent:null}),d.remove()):d.remove())}}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],f=0;f<h.length;f++){var p=h[f];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var v={};!!e?v.elements=this.elements().map(function(e){return e.json()}):(v.elements={},r.forEach(function(e){var t=e.group();v.elements[t]||(v.elements[t]=[]),v.elements[t].push(e.json())})),this._private.styleEnabled&&(v.style=t.style().json());var g=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=ce(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=ce(g.renderer),v.hideEdgesOnViewport=g.hideEdgesOnViewport,v.textureOnViewport=g.textureOnViewport,v.wheelSensitivity=g.wheelSensitivity,v.motionBlur=g.motionBlur,v},scratch:On.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:On.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),No.$id=No.getElementById,[Wi,io,so,lo,uo,co,ho,fo,Co,_o].forEach(function(e){F(No,e)});var ko={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Do=function(e){return e.scratch("breadthfirst")},Mo=function(e,t){return e.scratch("breadthfirst",t)};function Po(e){this.options=F({},ko,e)}Po.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,o=i.nodes().filter(function(e){return!e.isParent()}),a=i,s=n.directed,l=n.maximal||n.maximalAdjustments>0,u=Ue(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(C(n.roots))e=n.roots;else if(w(n.roots)){for(var c=[],d=0;d<n.roots.length;d++){var h=n.roots[d],f=r.getElementById(h);c.push(f)}e=r.collection(c)}else if(y(n.roots))e=r.$(n.roots);else if(s)e=o.roots();else{var p=i.components();e=r.collection();for(var v=function(t){var n=p[t],r=n.maxDegree(!1),i=n.filter(function(e){return e.degree(!1)===r});e=e.add(i)},g=0;g<p.length;g++)v(g)}var m=[],b={},x=function(e,t){null==m[t]&&(m[t]=[]);var n=m[t].length;m[t].push(e),Mo(e,{index:n,depth:t})};a.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var o=e[0],a=o.id();x(o,i),b[a]=!0}});for(var E=[],S=0;S<o.length;S++){var _=o[S];b[_.id()]||E.push(_)}var T=function(e){for(var t=m[e],n=0;n<t.length;n++){var r=t[n];null!=r?Mo(r,{depth:e,index:n}):(t.splice(n,1),n--)}},N=function(){for(var e=0;e<m.length;e++)T(e)},k=function(e,t){for(var n=Do(e),r=e.incomers().filter(function(e){return e.isNode()&&i.has(e)}),o=-1,a=e.id(),s=0;s<r.length;s++){var l=r[s],u=Do(l);o=Math.max(o,u.depth)}return n.depth<=o&&(t[a]?null:(function(e,t){var n=Do(e),r=n.depth,i=n.index;m[r][i]=null,x(e,t)}(e,o+1),t[a]=!0,!0))};if(s&&l){var D=[],M={},P=function(e){return D.push(e)};for(o.forEach(function(e){return D.push(e)});D.length>0;){var O=D.shift(),A=k(O,M);if(A)O.outgoers().filter(function(e){return e.isNode()&&i.has(e)}).forEach(P);else if(null===A){ue("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}N();var L=0;if(n.avoidOverlap)for(var B=0;B<o.length;B++){var I=o[B].layoutDimensions(n),j=I.w,F=I.h;L=Math.max(L,j,F)}for(var z={},V=function(e){if(z[e.id()])return z[e.id()];for(var t=Do(e).depth,n=e.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var l=Do(s),u=l.index,c=l.depth;if(null!=u&&null!=c){var d=m[c].length;c<t&&(r+=u/(d-1),i++)}}}return r/=i=Math.max(1,i),0===i&&(r=0),z[e.id()]=r,r},q=function(e,t){var n=V(e)-V(t);return 0===n?R(e.id(),t.id()):n},H=0;H<m.length;H++)m[H].sort(q),T(H);for(var X=[],Y=0;Y<E.length;Y++)X.push(E[Y]);m.unshift(X),N();for(var W=0,G=0;G<m.length;G++)W=Math.max(m[G].length,W);var K=u.x1+u.w/2,U=u.x1+u.h/2,Z=m.reduce(function(e,t){return Math.max(e,t.length)},0);return o.layoutPositions(this,n,function(e){var t=Do(e),r=t.depth,i=t.index,o=m[r].length,a=Math.max(u.w/((n.grid?Z:o)+1),L),s=Math.max(u.h/(m.length+1),L),l=Math.min(u.w/2/m.length,u.h/2/m.length);if(l=Math.max(l,L),n.circle){var c=l*r+l-(m.length>0&&m[0].length<=3?l/2:0),d=2*Math.PI/m[r].length*i;return 0===r&&1===m[0].length&&(c=1),{x:K+c*Math.cos(d),y:U+c*Math.sin(d)}}return{x:K+(i+1-(o+1)/2)*a,y:(r+1)*s}}),this};var Oo={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ao(e){this.options=F({},Oo,e)}Ao.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));for(var a,s=Ue(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/o.length:t.sweep)/Math.max(1,o.length-1),d=0,h=0;h<o.length;h++){var f=o[h].layoutDimensions(t),p=f.w,v=f.h;d=Math.max(d,p,v)}if(a=E(t.radius)?t.radius:o.length<=1?0:Math.min(s.h,s.w)/2-d,o.length>1&&t.avoidOverlap){d*=1.75;var g=Math.cos(c)-Math.cos(0),m=Math.sin(c)-Math.sin(0),y=Math.sqrt(d*d/(g*g+m*m));a=Math.max(y,a)}return o.layoutPositions(this,t,function(e,n){var r=t.startAngle+n*c*(i?1:-1),o=a*Math.cos(r),s=a*Math.sin(r);return{x:l+o,y:u+s}}),this};var Lo,Bo={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Io(e){this.options=F({},Bo,e)}Io.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles.nodes().not(":parent"),o=Ue(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=o.x1+o.w/2,s=o.y1+o.h/2,l=[],u=0,c=0;c<i.length;c++){var d,h=i[c];d=t.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var f=0;f<i.length;f++){var p=i[f].layoutDimensions(t);u=Math.max(u,p.w,p.h)}l.sort(function(e,t){return t.value-e.value});for(var v=t.levelWidth(i),g=[[]],m=g[0],y=0;y<l.length;y++){var b=l[y];if(m.length>0)Math.abs(m[0].value-b.value)>=v&&(m=[],g.push(m));m.push(b)}var w=u+t.minNodeSpacing;if(!t.avoidOverlap){var x=g.length>0&&g[0].length>1,E=(Math.min(o.w,o.h)/2-w)/(g.length+x?1:0);w=Math.min(w,E)}for(var S=0,C=0;C<g.length;C++){var _=g[C],T=void 0===t.sweep?2*Math.PI-2*Math.PI/_.length:t.sweep,N=_.dTheta=T/Math.max(1,_.length-1);if(_.length>1&&t.avoidOverlap){var k=Math.cos(N)-Math.cos(0),D=Math.sin(N)-Math.sin(0),M=Math.sqrt(w*w/(k*k+D*D));S=Math.max(M,S)}_.r=S,S+=w}if(t.equidistant){for(var P=0,O=0,A=0;A<g.length;A++){var L=g[A].r-O;P=Math.max(P,L)}O=0;for(var B=0;B<g.length;B++){var I=g[B];0===B&&(O=I.r),I.r=O,O+=P}}for(var j={},R=0;R<g.length;R++)for(var F=g[R],z=F.dTheta,V=F.r,q=0;q<F.length;q++){var H=F[q],X=t.startAngle+(n?1:-1)*z*q,Y={x:a+V*Math.cos(X),y:s+V*Math.sin(X)};j[H.node.id()]=Y}return i.layoutPositions(this,t,function(e){var t=e.id();return j[t]}),this};var jo={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function Ro(e){this.options=F({},jo,e),this.options.layout=this}Ro.prototype.run=function(){var e=this.options,t=e.cy,n=this,r=this.thread,i=e.weaver?e.weaver.Thread:null,o={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(e){y(e)&&(e={type:e});var t=function(t){t.callback(e)};return this.listeners.filter(function(t){return t.event===e.type}).forEach(t),this},pass:function(e){return this.pass=e,this},run:function(e){var t=this.pass;return new Dn(function(n){n(e(t))})},stop:function(){return this},stopped:function(){return!0}};r&&!r.stopped()||(r=this.thread=i?new i:o),n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Lo=!0===e.debug;var a=Fo(t,n,e);Lo&&(void 0)(a),e.randomize&&qo(a,t);var s=Date.now(),l=!1,u=function(n){n=n||{},l&&!n.next||!n.force&&Date.now()-s<e.animationThreshold||(l=!0,G(function(){Ho(a,t,e),!0===e.fit&&t.fit(e.padding),l=!1,n.next&&n.next()}))};r.on("message",function(e){var t=e.message;a.layoutNodes=t,u()}),r.pass({layoutInfo:a,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,n,r=e.layoutInfo,i=e.options,a=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=e.layoutNodes[e.idToIndex[r[o]]],s=o+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];l(a,u,e,t)}},s=function(e){return-e+2*e*Math.random()},l=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,o=t.positionY-e.positionY;0===i&&0===o&&(i=s(1),o=s(1));var a=u(e,t,i,o);if(a>0)var l=(h=r.nodeOverlap*a)*i/(y=Math.sqrt(i*i+o*o)),d=h*o/y;else{var h,f=c(e,i,o),p=c(t,-1*i,-1*o),v=p.x-f.x,g=p.y-f.y,m=v*v+g*g,y=Math.sqrt(m);l=(h=(e.nodeRepulsion+t.nodeRepulsion)/m)*v/y,d=h*g/y}e.isLocked||(e.offsetX-=l,e.offsetY-=d),t.isLocked||(t.offsetX+=l,t.offsetY+=d)}},u=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var o=e.maxY-t.minY;else o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},c=function(e,t,n){var r=e.positionX,i=e.positionY,o=e.height||1,a=e.width||1,s=n/t,l=o/a,u={};return 0===t&&0<n?(u.x=r,u.y=i+o/2,u):0===t&&0>n?(u.x=r,u.y=i+o/2,u):0<t&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*t/2/n,u.y=i+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-o*t/2/n,u.y=i-o/2,u):u},d=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],o=e.layoutNodes[i],a=e.idToIndex[r.targetId],s=e.layoutNodes[a],l=s.positionX-o.positionX,u=s.positionY-o.positionY;if(0!==l||0!==u){var d=c(o,l,u),h=c(s,-1*l,-1*u),f=h.x-d.x,p=h.y-d.y,v=Math.sqrt(f*f+p*p),g=Math.pow(r.idealLength-v,2)/r.elasticity;if(0!==v)var m=g*f/v,y=g*p/v;else m=0,y=0;o.isLocked||(o.offsetX+=m,o.offsetY+=y),s.isLocked||(s.offsetX-=m,s.offsetY-=y)}}},h=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var o=e.clientHeight/2,a=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];o=l.positionX,a=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=o-c.positionX,h=a-c.positionY,f=Math.sqrt(d*d+h*h);if(f>1){var p=t.gravity*d/f,v=t.gravity*h/f;c.offsetX+=p,c.offsetY+=v}}}}},f=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var o=n[r++],a=e.idToIndex[o],s=e.layoutNodes[a],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},p=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=v(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,g(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},v=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},g=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,o=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,o=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,o=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,o=!0),o?e(i,n):void 0}},m=function(e){return function(e,t,n){a(e,t),d(e,t),h(e,t),f(e,t),p(e,t)}(r,i),r.temperature=r.temperature*i.coolingFactor,!(r.temperature<i.minTemp)},y=0;do{for(var b=0;(b<i.refresh||0===i.refresh)&&y<i.numIter;){var w;if(!(w=m()))break;b++,y++}!0===i.animate&&(t=r.layoutNodes,n=void 0,n={type:"message",message:t},o.trigger(n))}while(w&&y+1<i.numIter);return function(e,t){for(var n=r.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId;(i[s]=i[s]||[]).push(a)}var l=0;for(o=0;o<i.length;o++)if(g=i[o]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var u=0;u<g.length;u++){var c=g[u];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,l+=g.w*g.h}i.sort(function(e,t){return t.w*t.h-e.w*e.h});var d=0,h=0,f=0,p=0,v=Math.sqrt(l)*r.clientWidth/r.clientHeight;for(o=0;o<i.length;o++){var g;if(g=i[o]){for(u=0;u<g.length;u++)(c=g[u]).isLocked||(c.positionX+=d,c.positionY+=h);d+=g.w+t.componentSpacing,f+=g.w+t.componentSpacing,p=Math.max(p,g.h),f>v&&(h+=p+t.componentSpacing,d=0,f=0,p=0)}}}(0,i),r}).then(function(e){a.layoutNodes=e.layoutNodes,r.stop(),c()});var c=function(){!0===e.animate||!1===e.animate?u({force:!0,next:function(){n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n})}}):e.eles.nodes().layoutPositions(n,e,function(e){var t=a.layoutNodes[a.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},Ro.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Ro.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Fo=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:Ue(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},a=n.eles.components(),s={},l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++){s[u[c].id()]=l}for(l=0;l<o.nodeSize;l++){var d=(g=i[l]).layoutDimensions(n);(A={}).isLocked=g.locked(),A.id=g.data("id"),A.parentId=g.data("parent"),A.cmptId=s[g.id()],A.children=[],A.positionX=g.position("x"),A.positionY=g.position("y"),A.offsetX=0,A.offsetY=0,A.height=d.w,A.width=d.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(g.style("padding")),A.padRight=parseFloat(g.style("padding")),A.padTop=parseFloat(g.style("padding")),A.padBottom=parseFloat(g.style("padding")),A.nodeRepulsion=b(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(A),o.idToIndex[A.id]=l}var h=[],f=0,p=-1,v=[];for(l=0;l<o.nodeSize;l++){var g,m=(g=o.layoutNodes[l]).parentId;null!=m?o.layoutNodes[o.idToIndex[m]].children.push(g.id):(h[++p]=g.id,v.push(g.id))}for(o.graphSet.push(v);f<=p;){var y=h[f++],w=o.idToIndex[y],x=o.layoutNodes[w].children;if(x.length>0){o.graphSet.push(x);for(l=0;l<x.length;l++)h[++p]=x[l]}}for(l=0;l<o.graphSet.length;l++){var E=o.graphSet[l];for(c=0;c<E.length;c++){var S=o.idToIndex[E[c]];o.indexToGraph[S]=l}}for(l=0;l<o.edgeSize;l++){var C=r[l],_={};_.id=C.data("id"),_.sourceId=C.data("source"),_.targetId=C.data("target");var T=b(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,N=b(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,k=o.idToIndex[_.sourceId],D=o.idToIndex[_.targetId];if(o.indexToGraph[k]!=o.indexToGraph[D]){for(var M=zo(_.sourceId,_.targetId,o),P=o.graphSet[M],O=0,A=o.layoutNodes[k];-1===P.indexOf(A.id);)A=o.layoutNodes[o.idToIndex[A.parentId]],O++;for(A=o.layoutNodes[D];-1===P.indexOf(A.id);)A=o.layoutNodes[o.idToIndex[A.parentId]],O++;T*=O*n.nestingFactor}_.idealLength=T,_.elasticity=N,o.layoutEdges.push(_)}return o},zo=function(e,t,n){var r=Vo(e,t,0,n);return 2>r.count?0:r.graph},Vo=function e(t,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==d.count){if(1!==d.count)return d;if(2===++a)break}}}return{count:a,graph:r}},qo=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},Ho=function(e,t,n){var r=n.layout,i=n.eles.nodes(),o=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(t,r){var i=e.layoutNodes[e.idToIndex[t.data("id")]];if(n.boundingBox){var s=(i.positionX-a.x1)/a.w,l=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+l*o.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Xo={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Yo(e){this.options=F({},Xo,e)}Yo.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));var i=Ue(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.layoutPositions(this,t,function(e){return{x:i.x1,y:i.y1}});else{var o=r.size(),a=Math.sqrt(o*i.h/i.w),s=Math.round(a),l=Math.round(i.w/i.h*a),u=function(e){if(null==e)return Math.min(s,l);Math.min(s,l)==s?s=e:l=e},c=function(e){if(null==e)return Math.max(s,l);Math.max(s,l)==s?s=e:l=e},d=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=h)s=d,l=h;else if(null!=d&&null==h)s=d,l=Math.ceil(o/s);else if(null==d&&null!=h)l=h,s=Math.ceil(o/l);else if(l*s>o){var f=u(),p=c();(f-1)*p>=o?u(f-1):(p-1)*f>=o&&c(p-1)}else for(;l*s<o;){var v=u(),g=c();(g+1)*v>=o?c(g+1):u(v+1)}var m=i.w/l,y=i.h/s;if(t.condense&&(m=0,y=0),t.avoidOverlap)for(var b=0;b<r.length;b++){var w=r[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=w.layoutDimensions(t),S=t.avoidOverlapPadding,C=E.w+S,_=E.h+S;m=Math.max(m,C),y=Math.max(y,_)}for(var T={},N=function(e,t){return!!T["c-"+e+"-"+t]},k=function(e,t){T["c-"+e+"-"+t]=!0},D=0,M=0,P=function(){++M>=l&&(M=0,D++)},O={},A=0;A<r.length;A++){var L=r[A],B=t.position(L);if(B&&(void 0!==B.row||void 0!==B.col)){var I={row:B.row,col:B.col};if(void 0===I.col)for(I.col=0;N(I.row,I.col);)I.col++;else if(void 0===I.row)for(I.row=0;N(I.row,I.col);)I.row++;O[L.id()]=I,k(I.row,I.col)}}r.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var o=O[e.id()];if(o)n=o.col*m+m/2+i.x1,r=o.row*y+y/2+i.y1;else{for(;N(D,M);)P();n=M*m+m/2+i.x1,r=D*y+y/2+i.y1,k(D,M),P()}return{x:n,y:r}})}return this};var Wo={ready:function(){},stop:function(){}};function Go(e){this.options=F({},Wo,e)}Go.prototype.run=function(){var e=this.options,t=e.eles;e.cy;return this.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},Go.prototype.stop=function(){return this};var Ko={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Uo(e){this.options=F({},Ko,e)}Uo.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=b(e.positions);return t.layoutPositions(this,e,function(t,r){var i=function(t){if(null==e.positions)return null;if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i}),this};var Zo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function $o(e){this.options=F({},Zo,e)}$o.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),r=Ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var Qo=[{name:"breadthfirst",impl:Po},{name:"circle",impl:Ao},{name:"concentric",impl:Io},{name:"cose",impl:Ro},{name:"grid",impl:Yo},{name:"null",impl:Go},{name:"preset",impl:Uo},{name:"random",impl:$o}];function Jo(e){this.options=e,this.notifications=0}var ea=function(){};Jo.prototype={recalculateRenderedStyle:ea,notify:function(){this.notifications++},init:ea,isHeadless:function(){return!0}};var ta={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,o,a){var s=i.x-n/2-a,l=i.x+n/2+a,u=i.y-n/2-a,c=i.y+n/2+a;return s<=e&&e<=l&&u<=t&&t<=c},r=function(e,t,n,r,i){var o=e*Math.cos(r)-t*Math.sin(r),a=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:o*n+i.x,y:a+i.y}},i=function(e,t,n,i){for(var o=[],a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];o.push(r(s,l,t,n,i))}return o},o=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){y(s)&&(s=e[s]),e[r]=F({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,a,s){var l=o(i(this.points,n+2*s,r,a));return lt(e,t,l)},roughCollide:n,draw:function(e,n,r,o){var a=i(this.points,n,r,o);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},s)};s("none",{collide:oe,roughCollide:oe,draw:se,spacing:ae,gap:ae}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,o,a,s){var l=i(this.points,n,o,a),u=this.controlPoint,c=r(u[0],u[1],n,o,a);t.arrowShapeImpl(this.name)(e,l,c)},gap:function(e){return.8*a(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.pointsTee,n+2*l,r,a));return lt(e,t,u)||lt(e,t,c)},draw:function(e,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.pointsTee,n,r,o);t.arrowShapeImpl(this.name)(e,s,l)}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,a,s,l){var u=o(i(this.points,n+2*l,r,a)),c=o(i(this.crossLinePts(n,s),n+2*l,r,a));return lt(e,t,u)||lt(e,t,c)},draw:function(e,n,r,o,a){var s=i(this.points,n,r,o),l=i(this.crossLinePts(n,a),n,r,o);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,i,o,a){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,i,o){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},na={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((e-i)/a-s.x)/l,((t-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=d.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),o=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),h=(r("border-bottom-width"),e.clientWidth),f=e.clientHeight,p=i+o,v=a+s,g=l+u,m=t.width/(h+g),y=h-p,b=f-v,w=t.left+i+l,x=t.top+a+c;return this.containerBB=[w,x,y,b,m]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,o,a=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),d=s.cy.hasCompoundNodes(),h=(r?24:8)/c,f=(r?8:2)/c,p=(r?8:2)/c,v=1/0;function g(e,t){if(e.isNode()){if(o)return;o=e,u.push(e)}if(e.isEdge()&&(null==t||t<v))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=e,i=e,v=null!=t?t:v;break}}else u.push(e),i=e,v=null!=t?t:v}function m(n){var r=n.outerWidth()+2*f,i=n.outerHeight()+2*f,o=r/2,l=i/2,u=n.position();if(u.x-o<=e&&e<=u.x+o&&u.y-l<=t&&t<=u.y+l&&s.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,r,i,u.x,u.y))return g(n,0),!0}function y(n){var r,i=n._private,o=i.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,f=l/2+h,p=f*f,v=2*f,y=i.source,b=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var w=o.allpts,x=0;x+3<w.length;x+=2)if(it(e,t,w[x],w[x+1],w[x+2],w[x+3],v)&&p>(r=st(e,t,w[x],w[x+1],w[x+2],w[x+3])))return g(n,r),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(w=o.allpts,x=0;x+5<o.allpts.length;x+=4)if(ot(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],v)&&p>(r=at(e,t,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return g(n,r),!0;y=y||i.source,b=b||i.target;var E=a.getArrowWidth(l,c),S=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(x=0;x<S.length;x++){var C=S[x],_=s.arrowShapes[n.pstyle(C.name+"-arrow-shape").value],T=n.pstyle("width").pfValue;if(_.roughCollide(e,t,E,C.angle,{x:C.x,y:C.y},T,h)&&_.collide(e,t,E,C.angle,{x:C.x,y:C.y},T,h))return g(n),!0}d&&u.length>0&&(m(y),m(b))}function b(e,t,n){return me(e,t,n)}function w(n,r){var i,o=n._private,a=p;i=r?r+"-":"";var s=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&s){var l=o.rstyle,u=n.pstyle("text-border-width").pfValue,c=n.pstyle("text-background-padding").pfValue,d=b(l,"labelWidth",r)+u+2*a+2*c,h=b(l,"labelHeight",r)+u+2*a+2*c,f=b(l,"labelX",r),v=b(l,"labelY",r),m=b(o.rscratch,"labelAngle",r),y=f-d/2,w=f+d/2,x=v-h/2,E=v+h/2;if(m){var S=Math.cos(m),C=Math.sin(m),_=function(e,t){return{x:(e-=f)*S-(t-=v)*C+f,y:e*C+t*S+v}},T=_(y,x),N=_(y,E),k=_(w,x),D=_(w,E),M=[T.x,T.y,k.x,k.y,D.x,D.y,N.x,N.y];if(lt(e,t,M))return g(n),!0}else{if(tt({w:d,h:h,x1:y,x2:w,y1:x,y2:E},e,t))return g(n),!0}}}n&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var E=l[x];E.isNode()?m(E)||w(E):y(E)||w(E)||w(E,"source")||w(E,"target")}return u},getAllInBox:function(e,t,n,r){for(var i,o,a=this.getCachedZSortedEles().interactive,s=[],l=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),d=Math.max(t,r),h=Ue({x1:e=l,y1:t=c,x2:n=u,y2:r=d}),f=0;f<a.length;f++){var p=a[f];if(p.isNode()){var v=p,g=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});et(h,g)&&!nt(g,h)&&s.push(v)}else{var m=p,y=m._private,b=y.rscratch;if(null!=b.startX&&null!=b.startY&&!tt(h,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!tt(h,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,E=0;E<w.length;E++)if(i=h,o=w[E],!tt(i,o.x,o.y)){x=!1;break}x&&s.push(m)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(m)}}return s}},ra={calculateArrowAngles:function(e){var t,n,r,i,o,a,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,d="segments"===s.edgeType,h="compound"===s.edgeType,f="self"===s.edgeType;if(l?(r=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),v=s.midX,g=s.midY,d)t=r-s.segpts[0],n=i-s.segpts[1];else if(c||h||f||u){var p=s.allpts;t=r-We(p[0],p[2],p[4],.1),n=i-We(p[1],p[3],p[5],.1)}else t=r-v,n=i-g;s.srcArrowAngle=Ve(t,n);var v=s.midX,g=s.midY;if(l&&(v=(r+o)/2,g=(i+a)/2),t=o-r,n=a-i,d)if((p=s.allpts).length/2%2==0){var m=(y=p.length/2)-2;t=p[y]-p[m],n=p[y+1]-p[m+1]}else{m=(y=p.length/2-1)-2;var y,b=y+2;t=p[y]-p[m],n=p[y+1]-p[m+1]}else if(c||h||f){var w,x,E,S,p=s.allpts;if(s.ctrlpts.length/2%2==0){var C=(_=(T=p.length/2-1)+2)+2;w=We(p[T],p[_],p[C],0),x=We(p[T+1],p[_+1],p[C+1],0),E=We(p[T],p[_],p[C],1e-4),S=We(p[T+1],p[_+1],p[C+1],1e-4)}else{var _,T;C=(_=p.length/2-1)+2;w=We(p[T=_-2],p[_],p[C],.4999),x=We(p[T+1],p[_+1],p[C+1],.4999),E=We(p[T],p[_],p[C],.5),S=We(p[T+1],p[_+1],p[C+1],.5)}t=E-w,n=S-x}(s.midtgtArrowAngle=Ve(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,d)&&((p=s.allpts).length/2%2==0||(t=-(p[b=(y=p.length/2-1)+2]-p[y]),n=-(p[b+1]-p[y+1])));if(s.midsrcArrowAngle=Ve(t,n),d)t=o-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||h||f||u){var N=(p=s.allpts).length;t=o-We(p[N-6],p[N-4],p[N-2],.9),n=a-We(p[N-5],p[N-3],p[N-1],.9)}else t=o-v,n=a-g;s.tgtArrowAngle=Ve(t,n)}};ra.getArrowWidth=ra.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var ia={};function oa(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}ia.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)};o=2*Math.random()*Math.PI;i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,l=a.position(),u=s.position(),c=a.width(),d=s.width(),h=a.height(),f=s.height(),p=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*p+l.x,i.source.y*h*p+l.y,i.target.x*d*p+u.x,i.target.y*f*p+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType=i.lastCurveStyle="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ia.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,.5,t.midX=We(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=We(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var i=t.segpts.length/2,o=i-2;t.midX=(t.segpts[o]+t.segpts[i])/2,t.midY=(t.segpts[o+1]+t.segpts[i+1])/2}else{o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},ia.checkForInvalidEdgeWarning=function(e){var t=e._private.rscratch;E(t.startX)&&E(t.startY)&&E(t.endX)&&E(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,ue("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ia.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,n,r,i,o,a,s,l,u,c,d,h,f,p,v=this,g=v.cy.hasCompoundNodes(),m={},y=[],b=[],w=0;w<e.length;w++){var x=(D=e[w])._private.data,S="unbundled-bezier"===(X=D.pstyle("curve-style").value)||"segments"===X||"straight"===X,C="unbundled-bezier"===X||"bezier"===X;if("none"!==D.pstyle("display").value)if("haystack"!==X){var _=x.source,T=x.target;t=_>T?T+"$-$"+_:_+"$-$"+T,S&&(t="unbundled$-$"+x.id);var N=m[t];null==N&&(N=m[t]=[],y.push(t)),N.push(D),S&&(N.hasUnbundled=!0),C&&(N.hasBezier=!0)}else b.push(D)}for(var k=0;k<y.length;k++){var D,M,P=m[t=y[k]];if(!P.hasUnbundled){var O=P[0].parallelEdges();ge(P),O.forEach(function(e){return P.push(e)}),P.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}if(n=P[0]._private.source,r=P[0]._private.target,!P.hasUnbundled&&n.id()>r.id()){var A=n;n=r,r=A}i=n.position(),o=r.position(),a=n.outerWidth(),s=n.outerHeight(),l=r.outerWidth(),u=r.outerHeight(),c=v.nodeShapes[this.getNodeShape(n)],d=v.nodeShapes[this.getNodeShape(r)],f=!1;var L={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},B=i.x,I=i.y,j=a,R=s,F=o.x,z=o.y,V=l,q=u,H=P.length;for(w=0;w<P.length;w++){var X,Y,W=(M=(D=P[w])._private.rscratch).lastEdgeIndex,G=w,K=M.lastNumEdges,U=(S="unbundled-bezier"===(X=D.pstyle("curve-style").value)||"segments"===X,n.id()!==D.source().id()),Z=D.pstyle("control-point-distances"),$=D.pstyle("loop-direction").pfValue,Q=D.pstyle("loop-sweep").pfValue,J=D.pstyle("control-point-weights"),ee=Z&&J?Math.min(Z.value.length,J.value.length):1,te=D.pstyle("control-point-step-size").pfValue,ne=Z?Z.pfValue[0]:void 0,re=J.value[0],ie=D.pstyle("edge-distances").value,oe=D.pstyle("source-distance-from-node").pfValue,ae=D.pstyle("target-distance-from-node").pfValue,se=D.pstyle("segment-weights"),le=D.pstyle("segment-distances"),ue=Math.min(se.pfValue.length,le.pfValue.length),ce=D.pstyle("source-endpoint").value,de=D.pstyle("target-endpoint").value,he=D.pstyle("source-arrow-shape").value,fe=D.pstyle("target-arrow-shape").value,pe=D.pstyle("arrow-scale").value,ve=D.pstyle("width").pfValue,me=M.lastSrcCtlPtX,ye=M.lastSrcCtlPtY,be=M.lastSrcCtlPtW,we=M.lastSrcCtlPtH,xe=M.lastTgtCtlPtX,Ee=M.lastTgtCtlPtY,Se=M.lastTgtCtlPtW,Ce=M.lastTgtCtlPtH,_e=M.lastCurveStyle,Te=X,Ne=M.lastCtrlptDists,ke=Z?Z.strValue:null,De=M.lastCtrlptWs,Me=J.strValue,Pe=M.lastSegmentWs,Oe=se.strValue,Ae=M.lastSegmentDs,Le=le.strValue,Be=M.lastStepSize,Ie=te,je=M.lastLoopDir,Re=$,Fe=M.lastLoopSwp,ze=Q,Ve=M.lastEdgeDistances,qe=ie,Xe=M.lastSrcDistFNode,Ye=oe,We=M.lastTgtDistFNode,Ge=ae,Ke=M.lastSrcEndpt,Ue=ce,Ze=M.lastTgtEndpt,$e=de,Qe=M.lastSrcArr,Je=he,et=M.lastTgtArr,tt=fe,nt=M.lastLineW,rt=ve,it=M.lastArrScl,ot=pe;if(M.badBezier=!!f,me===B&&ye===I&&be===j&&we===R&&xe===F&&Ee===z&&Se===V&&Ce===q&&_e===Te&&Ne===ke&&De===Me&&Pe===Oe&&Ae===Le&&Be===Ie&&je===Re&&Fe===ze&&Ve===qe&&Xe===Ye&&We===Ge&&Ke===Ue&&Ze===$e&&Qe===Je&&et===tt&&nt===rt&&it===ot&&(W===G&&K===H||S)?Y=!0:(Y=!1,M.lastSrcCtlPtX=B,M.lastSrcCtlPtY=I,M.lastSrcCtlPtW=j,M.lastSrcCtlPtH=R,M.lastTgtCtlPtX=F,M.lastTgtCtlPtY=z,M.lastTgtCtlPtW=V,M.lastTgtCtlPtH=q,M.lastEdgeIndex=G,M.lastNumEdges=H,M.lastCurveStyle=Te,M.lastCtrlptDists=ke,M.lastCtrlptWs=Me,M.lastSegmentDs=Le,M.lastSegmentWs=Oe,M.lastStepSize=Ie,M.lastLoopDir=Re,M.lastLoopSwp=ze,M.lastEdgeDistances=qe,M.lastSrcDistFNode=Ye,M.lastTgtDistFNode=Ge,M.lastSrcEndpt=Ue,M.lastTgtEndpt=$e,M.lastSrcArr=Je,M.lastTgtArr=tt,M.lastLineW=rt,M.lastArrScl=ot),!Y){if(!P.calculatedIntersection&&n!==r&&(P.hasBezier||P.hasUnbundled)){P.calculatedIntersection=!0;var at=c.intersectLine(i.x,i.y,a,s,o.x,o.y,0);P.srcIntn=at;var st=d.intersectLine(o.x,o.y,l,u,i.x,i.y,0);P.tgtIntn=st;var lt={x1:at[0],x2:st[0],y1:at[1],y2:st[1]},ut={x1:i.x,x2:o.x,y1:i.y,y2:o.y},ct=st[1]-at[1],dt=st[0]-at[0],ht=Math.sqrt(dt*dt+ct*ct),ft={x:dt,y:ct},pt={x:ft.x/ht,y:ft.y/ht};h={x:-pt.y,y:pt.x},d.checkPoint(at[0],at[1],0,l,u,o.x,o.y)&&c.checkPoint(st[0],st[1],0,a,s,i.x,i.y)&&(h={},f=!0)}if(U?(M.srcIntn=P.tgtIntn,M.tgtIntn=P.srcIntn):(M.srcIntn=P.srcIntn,M.tgtIntn=P.tgtIntn),n===r){M.edgeType="self";var vt=w,gt=te;S&&(vt=0,gt=ne);var mt=$-Math.PI/2,yt=mt-Q/2,bt=mt+Q/2,wt=String($+"_"+Q);vt=void 0===L[wt]?L[wt]=0:++L[wt],M.ctrlpts=[i.x+1.4*Math.cos(yt)*gt*(vt/3+1),i.y+1.4*Math.sin(yt)*gt*(vt/3+1),i.x+1.4*Math.cos(bt)*gt*(vt/3+1),i.y+1.4*Math.sin(bt)*gt*(vt/3+1)]}else if(g&&(n.isParent()||n.isChild()||r.isParent()||r.isChild())&&(n.parents().anySame(r)||r.parents().anySame(n))){M.edgeType="compound",M.badBezier=!1;vt=w,gt=te;S&&(vt=0,gt=ne);var xt={x:i.x-a/2,y:i.y-s/2},Et={x:o.x-l/2,y:o.y-u/2},St={x:Math.min(xt.x,Et.x),y:Math.min(xt.y,Et.y)},Ct=Math.max(.5,Math.log(.01*a)),_t=Math.max(.5,Math.log(.01*l));M.ctrlpts=[St.x,St.y-(1+Math.pow(50,1.12)/100)*gt*(vt/3+1)*Ct,St.x-(1+Math.pow(50,1.12)/100)*gt*(vt/3+1)*_t,St.y]}else if("segments"===X){M.edgeType="segments",M.segpts=[];for(var Tt=0;Tt<ue;Tt++){var Nt=se.pfValue[Tt],kt=le.pfValue[Tt],Dt=1-Nt,Mt=Nt,Pt={x:(Rt="node-position"===ie?ut:lt).x1*Dt+Rt.x2*Mt,y:Rt.y1*Dt+Rt.y2*Mt};M.segpts.push(Pt.x+h.x*kt,Pt.y+h.y*kt)}}else if(P.length%2!=1||w!==Math.floor(P.length/2)||S){var Ot=S;M.edgeType=Ot?"multibezier":"bezier",M.ctrlpts=[];for(var At=0;At<ee;At++){var Lt,Bt=(.5-P.length/2+w)*te,It=(p=Bt)>0?1:p<0?-1:0;Ot&&(ne=Z?Z.pfValue[At]:te,re=J.value[At]);var jt=void 0!==(Lt=S?ne:void 0!==ne?It*ne:void 0)?Lt:Bt;Dt=1-re,Mt=re;if(U){A=Dt;Dt=Mt,Mt=A}var Rt;Pt={x:(Rt="node-position"===ie?ut:lt).x1*Dt+Rt.x2*Mt,y:Rt.y1*Dt+Rt.y2*Mt};M.ctrlpts.push(Pt.x+h.x*jt,Pt.y+h.y*jt)}}else M.edgeType="straight";this.findEndpoints(D);var Ft=!E(M.startX)||!E(M.startY),zt=!E(M.arrowStartX)||!E(M.arrowStartY),Vt=!E(M.endX)||!E(M.endY),qt=!E(M.arrowEndX)||!E(M.arrowEndY),Ht=3*(this.getArrowWidth(D.pstyle("width").pfValue,D.pstyle("arrow-scale").value)*this.arrowShapeWidth);if("bezier"===M.edgeType){var Xt=He({x:M.ctrlpts[0],y:M.ctrlpts[1]},{x:M.startX,y:M.startY}),Yt=Xt<Ht,Wt=He({x:M.ctrlpts[0],y:M.ctrlpts[1]},{x:M.endX,y:M.endY}),Gt=Wt<Ht,Kt=!1;if(Ft||zt||Yt){Kt=!0;var Ut={x:M.ctrlpts[0]-i.x,y:M.ctrlpts[1]-i.y},Zt=Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y),$t={x:Ut.x/Zt,y:Ut.y/Zt},Qt=Math.max(a,s),Jt={x:M.ctrlpts[0]+2*$t.x*Qt,y:M.ctrlpts[1]+2*$t.y*Qt},en=c.intersectLine(i.x,i.y,a,s,Jt.x,Jt.y,0);Yt?(M.ctrlpts[0]=M.ctrlpts[0]+$t.x*(Ht-Xt),M.ctrlpts[1]=M.ctrlpts[1]+$t.y*(Ht-Xt)):(M.ctrlpts[0]=en[0]+$t.x*Ht,M.ctrlpts[1]=en[1]+$t.y*Ht)}if(Vt||qt||Gt){Kt=!0;Ut={x:M.ctrlpts[0]-o.x,y:M.ctrlpts[1]-o.y},Zt=Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y),$t={x:Ut.x/Zt,y:Ut.y/Zt},Qt=Math.max(a,s),Jt={x:M.ctrlpts[0]+2*$t.x*Qt,y:M.ctrlpts[1]+2*$t.y*Qt};var tn=d.intersectLine(o.x,o.y,l,u,Jt.x,Jt.y,0);Gt?(M.ctrlpts[0]=M.ctrlpts[0]+$t.x*(Ht-Wt),M.ctrlpts[1]=M.ctrlpts[1]+$t.y*(Ht-Wt)):(M.ctrlpts[0]=tn[0]+$t.x*Ht,M.ctrlpts[1]=tn[1]+$t.y*Ht)}Kt&&this.findEndpoints(D)}this.checkForInvalidEdgeWarning(D),this.storeAllpts(D),this.storeEdgeProjections(D),this.calculateArrowAngles(D)}this.recalculateEdgeLabelProjections(D),this.calculateLabelAngles(D)}}this.findHaystackPoints(b)}},ia.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return oa(t.segpts)},ia.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return oa(t.ctrlpts)},ia.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}};var aa={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*r),"%"===t.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=t.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(e){var t,n,r,i,o,a=this,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),d=e.pstyle("target-arrow-shape").value,h=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,p=e.pstyle("source-distance-from-node").pfValue,v=e._private.rscratch,g=v.edgeType,m="self"===g||"compound"===g,y="bezier"===g||"multibezier"===g||m,b="bezier"!==g,w="straight"===g||"segments"===g,x="segments"===g,S=y||b||w,C=e.pstyle("source-endpoint"),_=m?"outside-to-node":C.value,T=e.pstyle("target-endpoint"),N=m?"outside-to-node":T.value;if(v.srcManEndpt=C,v.tgtManEndpt=T,y){var k=[v.ctrlpts[0],v.ctrlpts[1]];n=b?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:k,r=k}else if(w){var D=x?v.segpts.slice(0,2):[c.x,c.y];n=x?v.segpts.slice(v.segpts.length-2):[u.x,u.y],r=D}if("inside-to-node"===N)t=[c.x,c.y];else if(T.units)t=this.manualEndptToPx(l,T);else if("outside-to-line"===N)t=v.tgtIntn;else if("outside-to-node"===N||"outside-to-node-or-label"===N?i=n:"outside-to-line"!==N&&"outside-to-line-or-label"!==N||(i=[u.x,u.y]),t=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===N||"outside-to-line-or-label"===N){var M=l._private.rscratch,P=M.labelWidth,O=M.labelHeight,A=M.labelX,L=M.labelY,B=l.pstyle("text-valign").value;"top"===B?L-=O/2:"bottom"===B&&(L+=O/2);var I=l.pstyle("text-halign").value;"left"===I?A-=P/2:"right"===I&&(A+=P/2);var j=a.nodeShapes.rectangle.intersectLine(A,L,P,O,i[0],i[1],0),R=u,F=Xe(R,ze(t));Xe(R,ze(j))<F&&(t=j)}var z=mt(t,n,a.arrowShapes[d].spacing(e)+f),V=mt(t,n,a.arrowShapes[d].gap(e)+f);if(v.endX=V[0],v.endY=V[1],v.arrowEndX=z[0],v.arrowEndY=z[1],"inside-to-node"===_)t=[u.x,u.y];else if(C.units)t=this.manualEndptToPx(s,C);else if("outside-to-line"===_)t=v.srcIntn;else if("outside-to-node"===_||"outside-to-node-or-label"===_?o=r:"outside-to-line"!==_&&"outside-to-line-or-label"!==_||(o=[c.x,c.y]),t=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===_||"outside-to-line-or-label"===_){var q=s._private.rscratch,H=q.labelWidth,X=q.labelHeight,Y=q.labelX,W=q.labelY,G=s.pstyle("text-valign").value;"top"===G?W-=X/2:"bottom"===G&&(W+=X/2);var K=s.pstyle("text-halign").value;"left"===K?Y-=H/2:"right"===K&&(Y+=H/2);var U=a.nodeShapes.rectangle.intersectLine(Y,W,H,X,o[0],o[1],0),Z=c,$=Xe(Z,ze(t));Xe(Z,ze(U))<$&&(t=U)}var Q=mt(t,r,a.arrowShapes[h].spacing(e)+p),J=mt(t,r,a.arrowShapes[h].gap(e)+p);v.startX=J[0],v.startY=J[1],v.arrowStartX=Q[0],v.arrowStartY=Q[1],S&&(E(v.startX)&&E(v.startY)&&E(v.endX)&&E(v.endY)?v.badLine=!1:v.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},sa={};function la(e,t,n){for(var r=function(e,t,n,r){return We(e,t,n,r)},i=t._private.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var a=e.bezierProjPcts[o];i.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}sa.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)la(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var o=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},sa.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var ua={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!D(t)){var n,r,i=e._private,o=e.width(),a=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,d=i.rscratch,h=i.rstyle;switch(u){case"left":n=l.x-o/2-s;break;case"right":n=l.x+o/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-a/2-s;break;case"bottom":r=l.y+a/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,h.labelX=n,h.labelY=r,this.applyLabelDimensions(e)}}},ca=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},da=function(e,t){var n=t.x-e.x,r=t.y-e.y;return ca(n,r)};ua.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){t={x:r.midX,y:r.midY};var a=function(e,t,r){ye(n.rscratch,e,t,r),ye(n.rstyle,e,t,r)};a("labelX",null,t.x),a("labelY",null,t.y);var s=ca(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var l=function(s){var l,u="source"===s;if(o[s]){var c=e.pstyle(s+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,h=function e(){if(e.cache)return e.cache;for(var t=[],o=0;o+5<r.allpts.length;o+=4){var a={x:r.allpts[o],y:r.allpts[o+1]},s={x:r.allpts[o+2],y:r.allpts[o+3]},l={x:r.allpts[o+4],y:r.allpts[o+5]};t.push({p0:a,p1:s,p2:l,startDist:0,length:0,segments:[]})}var u=n.rstyle.bezierPts,c=i.bezierProjPcts.length;function d(e,t,n,r,i){var o=He(t,n),a=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:a?a.startDist+a.length:0,length:o};e.segments.push(s),e.length+=o}for(o=0;o<t.length;o++){var h=t[o],f=t[o-1];f&&(h.startDist=f.startDist+f.length),d(h,h.p0,u[o*c],0,i.bezierProjPcts[0]);for(var p=0;p<c-1;p++)d(h,u[o*c+p],u[o*c+p+1],i.bezierProjPcts[p],i.bezierProjPcts[p+1]);d(h,u[o*c+c-1],h.p2,i.bezierProjPcts[c-1],1)}return e.cache=t}(),f=0,p=0,v=0;v<h.length;v++){for(var g=h[u?v:h.length-1-v],m=0;m<g.segments.length;m++){var y=g.segments[u?m:g.segments.length-1-m],b=v===h.length-1&&m===g.segments.length-1;if(f=p,(p+=y.length)>=c||b){d={cp:g,segment:y};break}}if(d)break}g=d.cp;var w=(c-f)/(y=d.segment).length,x=y.t1-y.t0,E=u?y.t0+x*w:y.t1-x*w;E=Ke(0,E,1),t=Ge(g.p0,g.p1,g.p2,E),l=function(e,t,n,r){var i=Ke(0,r-.001,1),o=Ke(0,r+.001,1),a=Ge(e,t,n,i),s=Ge(e,t,n,o);return da(a,s)}(g.p0,g.p1,g.p2,E);break;case"straight":case"segments":case"haystack":var S,C,_,T,N=0,k=r.allpts.length;for(v=0;v+3<k&&(u?(_={x:r.allpts[v],y:r.allpts[v+1]},T={x:r.allpts[v+2],y:r.allpts[v+3]}):(_={x:r.allpts[k-2-v],y:r.allpts[k-1-v]},T={x:r.allpts[k-4-v],y:r.allpts[k-3-v]}),C=N,!((N+=S=He(_,T))>=c));v+=2);E=Ke(0,E=(c-C)/S,1),t=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=He(e,t),s=i/a,l=o/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:e.x+s*r,y:e.y+l*r}}(_,T,E),l=da(_,T)}a("labelX",s,t.x),a("labelY",s,t.y),a("labelAutoAngle",s,l)}};l("source"),l("target"),this.applyLabelDimensions(e)}},ua.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},ua.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);ye(n.rstyle,"labelWidth",t,i.width),ye(n.rscratch,"labelWidth",t,i.width),ye(n.rstyle,"labelHeight",t,i.height),ye(n.rscratch,"labelHeight",t,i.height)},ua.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,a=function(e,r){return r?(ye(n.rscratch,e,t,r),r):me(n.rscratch,e,t)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=a("labelKey");if(null!=l&&a("labelWrapKey")===l)return a("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,d=[],h=0;h<u.length;h++){var f=u[h];if(this.calculateLabelDimensions(e,f).width>c){for(var p=f.split(/\s+/),v="",g=0;g<p.length;g++){var m=p[g],y=0===v.length?m:v+" "+m;this.calculateLabelDimensions(e,y).width<=c?v+=m+" ":(d.push(v),v=m+" ")}v.match(/^\s+$/)||d.push(v)}else d.push(f)}a("labelWrapCachedLines",d),i=a("labelWrapCachedText",d.join("\n")),a("labelWrapKey",l)}else if("ellipsis"===s){c=e.pstyle("text-max-width").pfValue;for(var b="",w=!1,x=0;x<i.length;x++){if(this.calculateLabelDimensions(e,b+i[x]+"…").width>c)break;b+=i[x],x===i.length-1&&(w=!0)}return w||(b+="…"),b}return i},ua.calculateLabelDimensions=function(e,t){var n=Q(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var o=e.pstyle("font-style").strValue,a=1*e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=o,c.fontSize=a,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===e.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=t,r[n]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)}},ua.calculateLabelAngles=function(e){var t=e._private.rscratch,n=e.isEdge(),r=e.pstyle("text-rotation"),i=r.strValue;"none"===i?t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle=0:n&&"autorotate"===i?(t.labelAngle=t.labelAutoAngle,t.sourceLabelAngle=t.sourceLabelAutoAngle,t.targetLabelAngle=t.targetLabelAutoAngle):t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle="autorotate"===i?0:r.pfValue};var ha={},fa=!1;ha.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return fa||(ue("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),fa=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"cutrectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var pa={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){e[r]._private.rstyle.clean=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});n.beforeRender(function(i){if(i){for(var o=n.onUpdateEleCalcsFns,a=0;a<t.length;a++)r(t[a].connectedEdges());if(o)for(a=0;a<o.length;a++)(0,o[a])(i,t);n.recalculateRenderedStyle(t),t=e.collection()}},n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=(l=(s=e[i])._private).rstyle;t&&o.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),o.clean=!0)}for(i=0;i<r.length;i++){o=(l=(s=r[i])._private).rstyle;var a=s.position();this.recalculateNodeLabelProjection(s),o.nodeX=a.x,o.nodeY=a.y,o.nodeW=s.pstyle("width").pfValue,o.nodeH=s.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(i=0;i<n.length;i++){o=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;this.recalculateEdgeLabelProjections(s),o.srcX=u.arrowStartX,o.srcY=u.arrowStartY,o.tgtX=u.arrowEndX,o.tgtY=u.arrowEndY,o.midX=u.midX,o.midY=u.midY,o.labelAngle=u.labelAngle,o.sourceLabelAngle=u.sourceLabelAngle,o.targetLabelAngle=u.targetLabelAngle}}}},va={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(yi),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},ga={};[na,ra,ia,aa,sa,ua,ha,pa,va].forEach(function(e){F(ga,e)});var ma={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[e]=r[e]||{}).image=new Image;o.addEventListener("load",n),o.addEventListener("error",function(){o.error=!0});return"data:"===e.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=t),o.src=e,o}},ya={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(e);return o.on.apply(o,i)}};ya.binder=function(e){var t,n=this,r=e===window||e===document||e===document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,o)}catch(e){}n.supportsPassiveEvents=i}var a=function(t,i,o){var a=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),n.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},ya.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},ya.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},ya.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,i){null==t&&(t=e.cy);for(var o=0;o<n.length;o++){var a=n[o];t.emit({originalEvent:r,type:a,position:i})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},o=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},a=function(e){e[0]._private.rscratch.inDragLayer=!0},s=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},u=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(a),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(a)),n.addToList&&t.forEach(function(e){l(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&t.addToList.unmerge(n)}}(t,n),h(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=u,d=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){l(e,t)})}}},f=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver;p?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var v=i(function(){e.cy.resize()},100);p&&(e.styleObserver=new MutationObserver(v),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",v);var g=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",g),e.registerBinding(t,"animationend",g),e.registerBinding(t,"scroll",g)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var m=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var d=e.container,h=t.target.parentNode,f=!1;h;){if(h===d){f=!0;break}h=h.parentNode}return!!f};e.registerBinding(e.container,"mousedown",function(t){if(m(t)){t.preventDefault(),f(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],o=e.projectIntoViewport(i[0],i[1]),a=e.selection,l=e.findNearestElements(o[0],o[1],!0,!1),d=l[0],h=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;if(3==t.which){e.hoverData.cxtStarted=!0;var p={originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}};d?(d.activate(),d.emit(p),e.hoverData.down=d):r.emit(p),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){var v=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(s(d),d.selected()){h=e.dragData.possibleDragElements=r.collection();var g=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});u(g,{addToList:h}),d.emit(v("grabon")),g.forEach(function(e){e.emit(v("grab"))})}else h=e.dragData.possibleDragElements=r.collection(),c(d,{addToList:h}),d.emit(v("grabon")).emit(v("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==d?(a[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):d.isEdge()&&(a[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}})}},e.tapholdDuration)}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},!1),e.registerBinding(window,"mousemove",function(t){if(e.hoverData.capture||m(t)){var i=!1,a=e.cy,s=a.zoom(),l=[t.clientX,t.clientY],c=e.projectIntoViewport(l[0],l[1]),h=e.hoverData.mdownPos,f=e.hoverData.mdownGPos,p=e.selection,v=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(v=e.findNearestElement(c[0],c[1],!0,!1));var g,y=e.hoverData.last,b=e.hoverData.down,w=[c[0]-p[2],c[1]-p[3]],x=e.dragData.possibleDragElements;if(f){var S=l[0]-f[0],C=S*S,_=l[1]-f[1],T=C+_*_;e.hoverData.isOverThresholdDrag=g=T>=e.desktopTapThreshold2}var N=r(t);g&&(e.hoverData.tapholdCancelled=!0);i=!0,n(v,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var k=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:c[0],y:c[1]}}),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(g){var D={originalEvent:t,type:"cxtdrag",position:{x:c[0],y:c[1]}};b?b.emit(D):a.emit(D),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&v===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:c[0],y:c[1]}}),e.hoverData.cxtOver=v,v&&v.emit({originalEvent:t,type:"cxtdragover",position:{x:c[0],y:c[1]}}))}}else if(e.hoverData.dragging){if(i=!0,a.panningEnabled()&&a.userPanningEnabled()){var M;if(e.hoverData.justStartedPan){var P=e.hoverData.mdownPos;M={x:(c[0]-P[0])*s,y:(c[1]-P[1])*s},e.hoverData.justStartedPan=!1}else M={x:w[0]*s,y:w[1]*s};a.panBy(M),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.isEdge()){if(b&&b.isEdge()&&b.active()&&b.unactivate(),b&&b.grabbed()||v==y||(y&&n(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),v&&n(v,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=v),b)if(g){if(a.boxSelectionEnabled()&&N)b&&b.grabbed()&&(d(x),b.emit("freeon"),x.emit("free"),e.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),k();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var O=!e.dragData.didDrag;O&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var A=a.collection();e.hoverData.draggingEles||u(x,{inDragLayer:!0});var L={x:0,y:0};if(E(w[0])&&E(w[1])&&(L.x+=w[0],L.y+=w[1],O)){var B=e.hoverData.dragDelta;B&&E(B[0])&&E(B[1])&&(L.x+=B[0],L.y+=B[1])}for(var I=0;I<x.length;I++){var j=x[I];e.nodeIsDraggable(j)&&j.grabbed()&&A.merge(j)}e.hoverData.draggingEles=!0,A.silentShift(L).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();i=!0}else if(g){if(e.hoverData.dragging||!a.boxSelectionEnabled()||!N&&a.panningEnabled()&&a.userPanningEnabled()){if(!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){o(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=ze(h),e.redrawHint("select",!0),e.redraw())}}else k();b&&b.isEdge()&&b.active()&&b.unactivate()}return p[2]=c[0],p[3]=c[1],i?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(i){if(e.hoverData.capture){e.hoverData.capture=!1;var o=e.cy,a=e.projectIntoViewport(i.clientX,i.clientY),s=e.selection,l=e.findNearestElement(a[0],a[1],!0,!1),u=e.dragData.possibleDragElements,c=e.hoverData.down,h=r(i);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate(),3===e.hoverData.which){var f={originalEvent:i,type:"cxttapend",position:{x:a[0],y:a[1]}};if(c?c.emit(f):o.emit(f),!e.hoverData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:a[0],y:a[1]}};c?c.emit(p):o.emit(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(i)||(o.$(t).unselect(),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=o.collection()),n(l,["mouseup","tapend","vmouseup"],i,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(c,["click","tap","vclick"],i,{x:a[0],y:a[1]}),l!=c||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||h?l.selected()?l.unselect():l.select():h||(o.$(t).unmerge(l).unselect(),l.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var v=o.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),v.length>0&&e.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:i,position:{x:a[0],y:a[1]}});var g=function(e){return e.selectable()&&!e.selected()};"additive"===o.selectionType()?v.emit("box").stdFilter(g).select().emit("boxselect"):(h||o.$(t).unmerge(v).unselect(),v.emit("box").stdFilter(g).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=c&&c.grabbed();d(u),m&&(c.emit("freeon"),u.emit("free"),e.dragData.didDrag&&(c.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var y,b,w,x,S,C,_,T,N,k,D,M,P;e.registerBinding(e.container,"wheel",function(t){if(!e.scrollingPage){var n,r=e.cy,i=e.projectIntoViewport(t.clientX,t.clientY),o=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4]?t.preventDefault():r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()&&(t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,n*=e.wheelSensitivity,1===t.deltaMode&&(n*=33),r.zoom({level:r.zoom()*Math.pow(10,n),renderedPosition:{x:o[0],y:o[1]}}))}},!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var O,A,L,B,I=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},j=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",O=function(t){if(m(t)){f(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(t.touches[0]){var a=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(t.touches[1]){a=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=a[0],i[3]=a[1]}if(t.touches[2]){a=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=a[0],i[5]=a[1]}if(t.touches[1]){d(e.dragData.touchDragEles);var l=e.findContainerClientCoords();N=l[0],k=l[1],D=l[2],M=l[3],y=t.touches[0].clientX-N,b=t.touches[0].clientY-k,w=t.touches[1].clientX-N,x=t.touches[1].clientY-k,P=0<=y&&y<=D&&0<=w&&w<=D&&0<=b&&b<=M&&0<=x&&x<=M;var h=r.pan(),p=r.zoom();S=I(y,b,w,x),C=j(y,b,w,x),T=[((_=[(y+w)/2,(b+x)/2])[0]-h.x)/p,(_[1]-h.y)/p];if(C<4e4&&!t.touches[2]){var v=e.findNearestElement(i[0],i[1],!0,!0),g=e.findNearestElement(i[2],i[3],!0,!0);return v&&v.isNode()?(v.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=v):g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2]);else if(t.touches[1]);else if(t.touches[0]){var E=e.findNearestElements(i[0],i[1],!0,!0),O=E[0];if(null!=O&&(O.activate(),e.touchData.start=O,e.touchData.starts=E,e.nodeIsGrabbable(O))){var A=e.dragData.touchDragEles=r.collection(),L=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),O.selected()?(L=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),u(L,{addToList:A})):c(O,{addToList:A}),s(O);var B=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};O.emit(B("grabon")),L?L.forEach(function(e){e.emit(B("grab"))}):O.emit(B("grab"))}n(O,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==O&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var R=e.touchData.startPosition=[],F=0;F<i.length;F++)R[F]=o[F]=i[F];var z=t.touches[0];e.touchData.startGPosition=[z.clientX,z.clientY]}}},!1),e.registerBinding(window,"touchmove",A=function(t){var r=e.touchData.capture;if(r||m(t)){var i=e.selection,a=e.cy,s=e.touchData.now,l=e.touchData.earlier,c=a.zoom();if(t.touches[0]){var h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}var f,p=e.touchData.startGPosition;if(r&&t.touches[0]&&p){for(var v=[],g=0;g<s.length;g++)v[g]=s[g]-l[g];var _=t.touches[0].clientX-p[0],D=_*_,M=t.touches[0].clientY-p[1];f=D+M*M>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var O=t.touches[0].clientX-N,A=t.touches[0].clientY-k,L=t.touches[1].clientX-N,B=t.touches[1].clientY-k,R=j(O,A,L,B);if(R/C>=2.25||R>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var F={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(F),e.touchData.start=null):a.emit(F)}}if(r&&e.touchData.cxt){F={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(F):a.emit(F),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var z=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&z===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=z,z&&z.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.redrawHint("select",!0),i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),i[4]=1,e.touchData.selecting=!0,e.redraw();else if(r&&t.touches[1]&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var V=0;V<ee.length;V++){var q=ee[V]._private;q.grabbed=!1,q.rscratch.inDragLayer=!1}}var H=e.touchData.start,X=(O=t.touches[0].clientX-N,A=t.touches[0].clientY-k,L=t.touches[1].clientX-N,B=t.touches[1].clientY-k,I(O,A,L,B)),Y=X/S;if(P){var W=(O-y+(L-w))/2,G=(A-b+(B-x))/2,K=a.zoom(),U=K*Y,Z=a.pan(),$=T[0]*K+Z.x,Q=T[1]*K+Z.y,J={x:-U/K*($-Z.x-W)+$,y:-U/K*(Q-Z.y-G)+Q};if(H&&H.active()){var ee=e.dragData.touchDragEles;d(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),H.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(H.emit("dragfreeon"),ee.emit("dragfree"))}a.viewport({zoom:U,pan:J,cancelOnFailedZoom:!0}),S=X,y=O,b=A,w=L,x=B,e.pinching=!0}if(t.touches[0]){h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}}else if(t.touches[0]){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(z=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(f){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&u(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(E(v[0])&&E(v[1]))if(ie.x+=v[0],ie.y+=v[1],re)e.redrawHint("eles",!0),(oe=e.touchData.dragDelta)&&E(oe[0])&&E(oe[1])&&(ie.x+=oe[0],ie.y+=oe[1]);e.hoverData.draggingEles=!0,ee.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var oe;0===(oe=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(oe.push(v[0]),oe.push(v[1])):(oe[0]+=v[0],oe[1]+=v[1])}if(n(te||z,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||z==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),z&&z.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=z,r)for(V=0;V<s.length;V++)s[V]&&e.touchData.startPosition[V]&&f&&(e.touchData.singleTouchMoved=!0);if(r&&(null==te||te.isEdge())&&a.panningEnabled()&&a.userPanningEnabled()){o(te,e.touchData.starts)&&(t.preventDefault(),e.swipePanning?a.panBy({x:v[0]*c,y:v[1]*c}):f&&(e.swipePanning=!0,a.panBy({x:_*c,y:M*c}),te&&(te.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=ze(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}}for(g=0;g<s.length;g++)l[g]=s[g];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",L=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",B=function(r){var i=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a,s=e.cy,l=s.zoom(),u=e.touchData.now,c=e.touchData.earlier;if(r.touches[0]){var h=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(r.touches[1]){h=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(r.touches[2]){h=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=h[0],u[5]=h[1]}if(i&&i.unactivate(),e.touchData.cxt){if(a={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}},i?i.emit(a):s.emit(a),!e.touchData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:u[0],y:u[1]}};i?i.emit(f):s.emit(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:u[0],y:u[1]}});p.emit("box").stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var v=e.dragData.touchDragEles;if(null!=i){var g=i._private.grabbed;d(v),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&(i.emit("freeon"),v.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),v.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]}),i.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(u[0],u[1],!0,!0);n(m,["touchend","tapend","vmouseup","tapdragout"],r,{x:u[0],y:u[1]})}var y=e.touchData.startPosition[0]-u[0],b=y*y,w=e.touchData.startPosition[1]-u[1],x=(b+w*w)*l*l;null!=i&&!e.dragData.didDrag&&i._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(i).unselect(),i.select()):i.selected()?i.unselect():i.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||(n(i,["tap","vclick"],r,{x:u[0],y:u[1]}),i||s.$(":selected").unselect()),e.touchData.singleTouchMoved=!0}for(var E=0;E<u.length;E++)c[E]=u[E];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),r.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var R=[],F=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},z=function(e){R.push(function(e){return{event:e,touch:F(e)}}(e))},V=function(e){for(var t=0;t<R.length;t++){if(R[t].event.pointerId===e.pointerId)return void R.splice(t,1)}},q=function(e){e.touches=R.map(function(e){return e.touch})},H=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){H(e)||(e.preventDefault(),z(e),q(e),O(e))}),e.registerBinding(e.container,"pointerup",function(e){H(e)||(V(e),q(e),B(e))}),e.registerBinding(e.container,"pointercancel",function(e){H(e)||(V(e),q(e),L())}),e.registerBinding(e.container,"pointermove",function(e){H(e)||(e.preventDefault(),function(e){var t=R.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=F(e)}(e),q(e),A(e))})}};var ba={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,o,a){return gt(i,o,this.points,e,t,n/2,r/2,a)},checkPoint:function(e,t,n,r,i,o,a){return ut(e,t,this.points,o,a,r,i,[0,-1],n)}}}};ba.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o){var a=n-e,s=r-t;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]}(i,o,e,t,n/2+a,r/2+a)},checkPoint:function(e,t,n,r,i,o,a){return ht(e,t,r,i,o,a,n)}}},ba.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:yt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){return rt(i,o,e,t,n,r,a)},checkPoint:function(e,t,n,r,i,o,a){var s=xt(r,i),l=2*s;return!!ut(e,t,this.points,o,a,r,i-l,[0,-1],n)||(!!ut(e,t,this.points,o,a,r-l,i,[0,-1],n)||(!!ht(e,t,l,l,o-r/2+s,a-i/2+s,n)||(!!ht(e,t,l,l,o+r/2-s,a-i/2+s,n)||(!!ht(e,t,l,l,o+r/2-s,a+i/2-s,n)||!!ht(e,t,l,l,o-r/2+s,a+i/2-s,n)))))}}},ba.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:yt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,o=t/2,a=e/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,r,i,o,a){var s=this.generateCutTrianglePts(n+2*a,r+2*a,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return gt(i,o,l,e,t)},checkPoint:function(e,t,n,r,i,o,a){if(ut(e,t,this.points,o,a,r,i-2*this.cornerLength,[0,-1],n))return!0;if(ut(e,t,this.points,o,a,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,o,a);return lt(e,t,s.topLeft)||lt(e,t,s.topRight)||lt(e,t,s.bottomRight)||lt(e,t,s.bottomLeft)}}},ba.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:yt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,e,t),l=function(e){var t=Ge({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=Ge({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=Ge({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return gt(i,o,u,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,o=e/2,a=n-o,s=n+o,l=r-i,u=r+i,c=Et(e,t),d=c.heightOffset,h=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[a,l+d,a+f,l,a+h,l],topRight:[s-h,l,s-f,l,s,l+d],bottomRight:[s,u-d,s-f,u,s-h,u],bottomLeft:[a+h,u,a+f,u,a,u-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,i,o,a){var s=Et(r,i),l=s.heightOffset,u=s.widthOffset;if(ut(e,t,this.points,o,a,r,i-2*l,[0,-1],n))return!0;if(ut(e,t,this.points,o,a,r-2*u,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,o,a),d=function(e,t,n){var r,i,o=n[4],a=n[2],s=n[0],l=n[5],u=n[1],c=Math.min(o,s),d=Math.max(o,s),h=Math.min(l,u),f=Math.max(l,u);if(c<=e&&e<=d&&h<=t&&t<=f){var p=[(r=o)-2*(i=a)+s,2*(i-r),r],v=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*e;return[(-t+o)/a,(-t-o)/a]}(p[0],p[1],p[2],e).filter(function(e){return 0<=e&&e<=1});if(v.length>0)return v[0]}return null},h=Object.keys(c),f=0;f<h.length;f++){var p=c[h[f]],v=d(e,t,p);if(null!=v){var g=p[5],m=p[3],y=p[1],b=We(g,m,y,v);if(p.isTop&&b<=t)return!0;if(p.isBottom&&t<=b)return!0}}return!1}}},ba.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:yt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){var s=t-(r/2+a),l=vt(i,o,e,t,e-(n/2+a),s,e+(n/2+a),s,!1);return l.length>0?l:rt(i,o,e,t,n,r,a)},checkPoint:function(e,t,n,r,i,o,a){var s=xt(r,i),l=2*s;if(ut(e,t,this.points,o,a,r,i-l,[0,-1],n))return!0;if(ut(e,t,this.points,o,a,r-l,i,[0,-1],n))return!0;var u=r/2+2*n,c=i/2+2*n;return!!lt(e,t,[o-u,a-c,o-u,a,o+u,a,o+u,a-c])||(!!ht(e,t,l,l,o+r/2-s,a+i/2-s,n)||!!ht(e,t,l,l,o-r/2+s,a+i/2-s,n))}}},ba.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",yt(3,0)),this.generatePolygon("rectangle",yt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",yt(5,0)),this.generatePolygon("hexagon",yt(6,0)),this.generatePolygon("heptagon",yt(7,0)),this.generatePolygon("octagon",yt(8,0));var n=new Array(20),r=wt(5,0),i=wt(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var a=0;a<i.length/2;a++)i[2*a]*=o,i[2*a+1]*=o;for(a=0;a<5;a++)n[4*a]=r[2*a],n[4*a+1]=r[2*a+1],n[4*a+2]=i[2*a],n[4*a+3]=i[2*a+1];n=bt(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var wa={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||fe();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},xa=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};wa.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;G(function t(n){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){xa(e,!0,n);var r=K();e.render(e.renderOptions);var i=e.lastDrawTime=K();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-r),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=i-r;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else xa(e,!1,n);e.skipFrame=!1,G(t)}})}};var Ea=function(e){this.init(e)},Sa=Ea.prototype;Sa.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Sa.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(d){var r=d.document,i=r.head,o="__________cytoscape_container",a=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!a){var s=r.createElement("style");s.id="__________cytoscape_stylesheet",s.innerHTML="."+o+" { position: relative; }",i.insertBefore(s,i.children[0])}"static"===d.getComputedStyle(n).getPropertyValue("position")&&ue("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Sa.notify=function(e,t){var n=this;this.destroyed||("init"!==e?"destroy"!==e?("add"!==e&&"remove"!==e&&"load"!==e&&"zorder"!==e&&"mount"!==e||n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Sa.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},Sa.isHeadless=function(){return!1},[ta,ga,ma,ya,ba,wa].forEach(function(e){F(Sa,e)});var Ca=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=i(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=e.priority||se;n.beforeRender(function(i,o){for(var a=K(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),d=n.getPixelRatio();;){var h=K(),f=h-a,p=h-o;if(l<1e3/60){var v=1e3/60-(i?s:0);if(p>=e.deqFastCost*v)break}else if(i){if(f>=e.deqCost*l||f>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*(1e3/60))break;var g=e.deq(t,d,c);if(!(g.length>0))break;for(var m=0;m<g.length;m++)u.push(g[m])}u.length>0&&(e.onDeqd(t,u),!i&&e.shouldRedraw(t,u,d,c)&&r())},o(t))}}},_a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;s(this,e),this.idsByKey=new be,this.keyForId=new be,this.cachesByLvl=new be,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return u(e,[{key:"getIdsFor",value:function(e){null==e&&le("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new xe,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new be,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),Ta={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Na=pe({getKey:null,doesEleInvalidateKey:oe,drawElement:null,getBoundingBox:null,isVisible:ie,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ka=function(e,t){this.renderer=e,this.onDequeues=[];var n=Na(t);F(this,n),this.lookup=new _a(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Da=ka.prototype;Da.reasons=Ta,Da.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},Da.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Da.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o(function(e,t){return t.reqs-e.reqs})},Da.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Da.getElement=function(e,t,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible())return null;if(!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(qe(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var u=Math.pow(2,r),c=t.h*u,d=t.w*u,h=a.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,h))return null;var f,p=l.get(e,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||d>1024)return null;var v=o.getTextureQueue(f),g=v[v.length-2],m=function(){return o.recycleTexture(f,d)||o.addTexture(f,d)};g||(g=v[v.length-1]),g||(g=m()),g.width-g.usedWidth<d&&(g=m());for(var y,b=function(e){return e&&e.scaledLabelShown===h},w=i&&i===Ta.dequeue,x=i&&i===Ta.highQuality,E=i&&i===Ta.downscale,S=r+1;S<=3;S++){var C=l.get(e,S);if(C){y=C;break}}var _=y&&y.level===r+1?y:null,T=function(){g.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,g.usedWidth,0,d,c)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,d,f),b(_))T();else if(b(y)){if(!x)return o.queueElement(e,y.level-1),y;for(var N=y.level;N>r;N--)_=o.getElement(e,t,n,N,Ta.downscale);T()}else{var k;if(!w&&!x&&!E)for(var D=r-1;D>=-4;D--){var M=l.get(e,D);if(M){k=M;break}}if(b(k))return o.queueElement(e,r),k;g.context.translate(g.usedWidth,0),g.context.scale(u,u),this.drawElement(g.context,e,t,h,!1),g.context.scale(1/u,1/u),g.context.translate(-g.usedWidth,0)}return p={x:g.usedWidth,texture:g,level:r,scale:u,width:d,height:c,scaledLabelShown:h},g.usedWidth+=Math.ceil(d+8),g.eleCaches.push(p),l.set(e,r,p),o.checkTextureFullness(g),p},Da.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Da.invalidateElement=function(e){var t=this.lookup,n=[];if(t.isInvalid(e)){for(var r=-4;r<=3;r++){var i=t.getForCachedKey(e,r);i&&n.push(i)}if(t.invalidate(e))for(var o=0;o<n.length;o++){var a=n[o],s=a.texture;s.invalidatedWidth+=a.width,a.invalidated=!0,this.checkTextureUtility(s)}this.removeFromQueue(e)}},Da.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Da.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?ve(t,e):e.fullnessChecks++},Da.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;ve(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var a=i[o];r.deleteCache(a.key,a.level)}ge(i),this.getRetiredTextureQueue(t).push(e)},Da.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Da.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var o=r[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,ge(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),ve(r,o),n.push(o),o}},Da.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),o=r[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(a),r[i]=a}},Da.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=[],i=this.lookup,o=0;o<1&&t.size()>0;o++){var a=t.pop(),s=a.key,l=a.eles[0],u=i.hasCache(l,a.level);if(n[s]=null,!u){r.push(a);var c=this.getBoundingBox(l);this.getElement(l,c,e,a.level,Ta.dequeue)}}return r},Da.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=re,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},Da.onDequeue=function(e){this.onDequeues.push(e)},Da.offDequeue=function(e){ve(this.onDequeues,e)},Da.setupDequeueing=Ca({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var o=t[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(et(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ma=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=K()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=i(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1});t.layersQueue=new o(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},Pa=Ma.prototype,Oa=0,Aa=Math.pow(2,53)-1;Pa.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:Oa=++Oa%Aa,bb:e,level:t,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},Pa.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),o=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(qe(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var a,s,l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=l[t],!0},i=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var o=c.length-1;o>=0;o--){var a=c[o];a.invalid&&ve(c,a)}}();var d=function(t){var i=(t=t||{}).after;if(function(){if(!a){a=Ue();for(var t=0;t<e.length;t++)n=a,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),a.w*u*(a.h*u)>16e6)return null;var o=r.makeLayer(a,n);if(null!=i){var s=c.indexOf(i)+1;c.splice(s,0,o)}else(void 0===t.insert||t.insert)&&c.unshift(o);return o};if(r.skipping&&!o)return null;for(var h=null,f=e.length/1,p=!o,v=0;v<e.length;v++){var g=e[v],m=g._private.rscratch,y=m.imgLayerCaches=m.imgLayerCaches||{},b=y[n];if(b)h=b;else{if((!h||h.eles.length>=f||!nt(h.bb,g.boundingBox()))&&!(h=d({insert:!0,after:h})))return null;s||p?r.queueLayer(h,g):r.drawEleInLayer(h,g,n,t),h.eles.push(g),y[n]=h}}return s||(p?null:c)},Pa.getEleLevelForLayerLevel=function(e,t){return e},Pa.drawEleInLayer=function(e,t,n,r){var i=this.renderer,o=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,n,!0),i.setImgSmoothing(o,!0))},Pa.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===t.length},Pa.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<t.length;a++)if(i.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==t[s+a]){this.invalidateLayer(i);break}}}},Pa.updateElementsInLayers=function(e,t){for(var n=_(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],o=n?e[r]:e[r].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||t(u,o,i))}},Pa.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Pa.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=K(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},Pa.invalidateLayer=function(e){if(this.lastInvalidationTime=K(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];ve(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},Pa.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)t.queueLayer(i,i.eles[o])})},Pa.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Pa.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Pa.dequeue=function(e){for(var t=this.layersQueue,n=[],r=0;r<1&&0!==t.size();){var i=t.peek();if(i.replacement)t.pop();else if(i.replaces&&i!==i.replaces.replacement)t.pop();else if(i.invalid)t.pop();else{var o=i.elesQueue.shift();o&&(this.drawEleInLayer(i,o,i.level,e),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(t.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},Pa.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},Pa.requestRedraw=i(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Pa.setupDequeueing=Ca({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:se,shouldRedraw:ie,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var La,Ba={};function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function ja(e,t,n){for(var r,i=0;i<t.length;i++){var o=t[i];0===i&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Ra(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}var a=n,s=n[0];e.moveTo(s.x,s.y);for(i=1;i<a.length;i++){o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()}function Fa(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}Ba.arrowShapeImpl=function(e){return(La||(La={polygon:Ia,"triangle-backcurve":ja,"triangle-tee":Ra,"triangle-cross":Ra,circle:Fa}))[e]};var za={drawElement:function(e,t,n,r,i,o){t.isNode()?this.drawNode(e,t,n,r,i,o):this.drawEdge(e,t,n,r,i,o)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,o,a){var s=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var u=n.getElement(t,l,r,i,o);if(null!=u){var c=t.pstyle("opacity").pfValue;if(0===c)return;var d,h,f,p,v,g,m=a(s,t),y=l.x1,b=l.y1,w=l.w,x=l.h;if(0!==m){var E=w/2,S=x/2;f=y+E,p=b+S,e.translate(f,p),e.rotate(m),(v=s.getImgSmoothing(e))||s.setImgSmoothing(e,!0),d=-E,h=-S}else d=y,h=b;1!==c&&(g=e.globalAlpha,e.globalAlpha=g*c),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,d,h,l.w,l.h),1!==c&&(e.globalAlpha=g),0!==m&&(e.rotate(-m),e.translate(-f,-p),v||s.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Va=function(){return 0},qa=function(e,t){return e.getTextAngle(t,null)},Ha=function(e,t){return e.getTextAngle(t,"source")},Xa=function(e,t){return e.getTextAngle(t,"target")};za.drawCachedElement=function(e,t,n,r,i,o){var a=this,s=a.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,h=t.boundingBox(),f=!0===o?l.reasons.highQuality:null;0!==h.w&&0!==h.h&&(r&&!et(h,r)||(a.drawCachedElementPortion(e,t,l,n,i,f,Va),a.drawCachedElementPortion(e,t,u,n,i,f,qa),t.isEdge()&&(a.drawCachedElementPortion(e,t,c,n,i,f,Ha),a.drawCachedElementPortion(e,t,d,n,i,f,Xa)),a.drawElementOverlay(e,t)))},za.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},za.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];this.drawCachedElement(e,o,n,r)}},za.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];o.isNode()&&this.drawCachedElement(e,o,n,r)}},za.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&e.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var Ya={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=t._private.rscratch;if(t.visible()&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var u=o?t.pstyle("opacity").value:1,c=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,h=t.pstyle("line-cap").value,f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;e.lineWidth=d,e.lineCap=h,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,s.allpts,c),e.lineCap="butt"},p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;a.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var v=t.pstyle("ghost-offset-x").pfValue,g=t.pstyle("ghost-offset-y").pfValue,m=t.pstyle("ghost-opacity").value,y=u*m;e.translate(v,g),f(y),p(y),e.translate(-v,-g)}f(),p(),i&&a.drawEdgeOverlay(e,t),a.drawElementText(e,t,null,r),n&&e.translate(l.x1,l.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),o=t._private.rscratch,a=2*t.pstyle("overlay-padding").pfValue,s=t.pstyle("overlay-color").value;e.lineWidth=a,"self"!==o.edgeType||i?e.lineCap="round":e.lineCap="butt",r.colorStrokeStyle(e,s[0],s[1],s[2],n),r.drawEdgePath(t,e,o.allpts,"solid")}}},drawEdgePath:function(e,t,n,r){var i,o=e._private.rscratch,a=t,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$");o.pathCacheKey&&o.pathCacheKey===d?(i=t=o.pathCache,s=!0):(i=t=new Path2D,o.pathCacheKey=d,o.pathCache=i)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<n.length;h+=4)t.quadraticCurveTo(n[h],n[h+1],n[h+2],n[h+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<n.length;f+=2)t.lineTo(n[f],n[f+1])}t=a,l?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,c=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===a&&(a=d);var h=e.globalCompositeOperation;1===a&&"hollow"!==u||(e.globalCompositeOperation="destination-out",this.colorFillStyle(e,255,255,255,1),this.colorStrokeStyle(e,255,255,255,1),this.drawArrowShape(t,e,l,c,s,r,i,o),e.globalCompositeOperation=h);var f=t.pstyle(n+"-arrow-color").value;this.colorFillStyle(e,f[0],f[1],f[2],a),this.colorStrokeStyle(e,f[0],f[1],f[2],a),this.drawArrowShape(t,e,u,c,s,r,i,o)}}},drawArrowShape:function(e,t,n,r,i,o,a,s){var l,u=this,c=this.usePaths()&&"triangle-cross"!==i,d=!1,h=t,f={x:o,y:a},p=e.pstyle("arrow-scale").value,v=this.getArrowWidth(r,p),g=u.arrowShapes[i];if(c){var m=u.arrowPathCache=u.arrowPathCache||[],y=Q(i),b=m[y];null!=b?(l=t=b,d=!0):(l=t=new Path2D,m[y]=l)}t.beginPath&&t.beginPath(),d||(c?g.draw(t,1,0,{x:0,y:0},1):g.draw(t,v,s,f,r)),t.closePath&&t.closePath(),t=h,c&&(t.translate(o,a),t.rotate(s),t.scale(v,v)),"filled"!==n&&"both"!==n||(c?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(g.matchEdgeWidth?r:1)/(c?v:1),t.lineJoin="miter",c?t.stroke(l):t.stroke()),c&&(t.scale(1/v,1/v),t.rotate(-s),t.translate(-o,-a))}},Wa={safeDrawImage:function(e,t,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||e.drawImage(t,n,r,i,o,a,s,l,u)},drawInscribedImage:function(e,t,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),f=n.width(),p=n.height(),v=2*n.padding(),g=f+("inner"===c(n,"background-width-relative-to","value",r)?0:v),m=p+("inner"===c(n,"background-height-relative-to","value",r)?0:v),y=n._private.rscratch,b="node"===n.pstyle("background-clip").value,w=c(n,"background-image-opacity","value",r)*i,x=t.width||t.cachedW,E=t.height||t.cachedH;null!=x&&null!=E||(document.body.appendChild(t),x=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var S=x,C=E;if("auto"!==c(n,"background-width","value",r)&&(S="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*g:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(C="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*m:c(n,"background-height","pfValue",r)),0!==S&&0!==C){if("contain"===d)S*=_=Math.min(g/S,m/C),C*=_;else if("cover"===d){var _;S*=_=Math.max(g/S,m/C),C*=_}var T=s-g/2;"%"===c(n,"background-position-x","units",r)?T+=(g-S)*c(n,"background-position-x","pfValue",r):T+=c(n,"background-position-x","pfValue",r);var N=l-m/2;"%"===c(n,"background-position-y","units",r)?N+=(m-C)*c(n,"background-position-y","pfValue",r):N+=c(n,"background-position-y","pfValue",r),y.pathCache&&(T-=s,N-=l,s=0,l=0);var k=e.globalAlpha;if(e.globalAlpha=w,"no-repeat"===h)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,g,m),e.clip())),o.safeDrawImage(e,t,0,0,x,E,T,N,S,C),b&&e.restore();else{var D=e.createPattern(t,h);e.fillStyle=D,o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,g,m),e.translate(T,N),e.fill(),e.translate(-T,-N)}e.globalAlpha=k}}},Ga={};Ga.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(qe(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Ga.drawElementText=function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(!a.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){if(!(s=t.pstyle("label"))||!s.value)return;switch(t.pstyle("text-halign").strValue){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var s=t.pstyle("label"),l=t.pstyle("source-label"),u=t.pstyle("target-label");if(!(s&&s.value||l&&l.value||u&&u.value))return;e.textAlign="center",e.textBaseline="bottom"}var c,d=!n;n&&(c=n,e.translate(-c.x1,-c.y1)),null==i?(a.drawText(e,t,null,d,o),t.isEdge()&&(a.drawText(e,t,"source",d,o),a.drawText(e,t,"target",d,o))):a.drawText(e,t,i,d,o),n&&e.translate(c.x1,c.y1)},Ga.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Ga.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*(n?t.effectiveOpacity():1),l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+a+" "+i+" "+o,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)},Ga.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",i=e.pstyle(r+"text-rotation"),o=me(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?o:0:"none"===i.strValue?0:i.pfValue},Ga.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t._private.rscratch,a=i?t.effectiveOpacity():1;if(0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,l,u,c,d,h,f=me(o,"labelX",n),p=me(o,"labelY",n),v=this.getLabelText(t,n);if(null!=v&&""!==v&&!isNaN(f)&&!isNaN(p)){this.setupTextStyle(e,t,i);var g,m=n?n+"-":"",y=me(o,"labelWidth",n),b=me(o,"labelHeight",n),w=t.pstyle(m+"text-margin-x").pfValue,x=t.pstyle(m+"text-margin-y").pfValue,E=t.isEdge(),S=t.pstyle("text-halign").value,C=t.pstyle("text-valign").value;if(E&&(S="center",C="center"),f+=w,p+=x,0!==(g=r?this.getTextAngle(t,n):0)){var _=f,T=p;e.translate(_,T),e.rotate(g),f=0,p=0}switch(C){case"top":break;case"center":p+=b/2;break;case"bottom":p+=b}var N=t.pstyle("text-background-opacity").value,k=t.pstyle("text-border-opacity").value,D=t.pstyle("text-border-width").pfValue,M=t.pstyle("text-background-padding").pfValue;if(N>0||D>0&&k>0){var P=f-M;switch(S){case"left":P-=y;break;case"center":P-=y/2}var O=p-b-M,A=y+2*M,L=b+2*M;if(N>0){var B=e.fillStyle,I=t.pstyle("text-background-color").value;e.fillStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+N*a+")","roundrectangle"==t.pstyle("text-background-shape").strValue?(l=P,u=O,c=A,d=L,h=(h=2)||5,(s=e).beginPath(),s.moveTo(l+h,u),s.lineTo(l+c-h,u),s.quadraticCurveTo(l+c,u,l+c,u+h),s.lineTo(l+c,u+d-h),s.quadraticCurveTo(l+c,u+d,l+c-h,u+d),s.lineTo(l+h,u+d),s.quadraticCurveTo(l,u+d,l,u+d-h),s.lineTo(l,u+h),s.quadraticCurveTo(l,u,l+h,u),s.closePath(),s.fill()):e.fillRect(P,O,A,L),e.fillStyle=B}if(D>0&&k>0){var j=e.strokeStyle,R=e.lineWidth,F=t.pstyle("text-border-color").value,z=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+k*a+")",e.lineWidth=D,e.setLineDash)switch(z){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=D/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(P,O,A,L),"double"===z){var V=D/2;e.strokeRect(P+V,O+V,A-2*V,L-2*V)}e.setLineDash&&e.setLineDash([]),e.lineWidth=R,e.strokeStyle=j}}var q=2*t.pstyle("text-outline-width").pfValue;if(q>0&&(e.lineWidth=q),"wrap"===t.pstyle("text-wrap").value){var H=me(o,"labelWrapCachedLines",n),X=b/H.length;switch(C){case"top":p-=(H.length-1)*X;break;case"center":case"bottom":p-=(H.length-1)*X}for(var Y=0;Y<H.length;Y++)q>0&&e.strokeText(H[Y],f,p),e.fillText(H[Y],f,p),p+=X}else q>0&&e.strokeText(v,f,p),e.fillText(v,f,p);0!==g&&(e.rotate(-g),e.translate(-_,-T))}}};var Ka={drawNode:function(e,t,n){var r,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=t._private,c=u.rscratch,d=t.position();if(E(d.x)&&E(d.y)&&t.visible()){var h,f,p=s?t.effectiveOpacity():1,v=l.usePaths(),g=!1,m=t.padding();r=t.width()+2*m,i=t.height()+2*m,n&&(f=n,e.translate(-f.x1,-f.y1));for(var y=t.pstyle("background-image").value,b=new Array(y.length),w=new Array(y.length),x=0,S=0;S<y.length;S++){var C=y[S];if(b[S]=null!=C&&"none"!==C){var _=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",S);x++,w[S]=l.getCachedImage(C,_,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var T=t.pstyle("background-blacken").value,N=t.pstyle("border-width").pfValue,k=t.pstyle("background-opacity").value*p,D=t.pstyle("border-color").value,M=t.pstyle("border-style").value,P=t.pstyle("border-opacity").value*p;e.lineJoin="miter";var O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;l.eleFillStyle(e,t,n)},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(e,D[0],D[1],D[2],t)},L=t.pstyle("shape").strValue,B=t.pstyle("shape-polygon-points").pfValue;if(v){e.translate(d.x,d.y);var I=l.nodePathCache=l.nodePathCache||[],j=J("polygon"===L?L+","+B.join(","):L,""+i,""+r),R=I[j];null!=R?(h=R,g=!0,c.pathCache=h):(h=new Path2D,I[j]=c.pathCache=h)}var F=function(){if(!g){var n=d;v&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(h||e,n.x,n.y,r,i)}v?e.fill(h):e.fill()},z=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=u.backgrounding,i=0,o=0;o<w.length;o++)b[o]&&w[o].complete&&!w[o].error&&(i++,l.drawInscribedImage(e,w[o],t,o,n));u.backgrounding=!(i===x),r!==u.backgrounding&&t.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasPie(t)&&(l.drawPie(e,t,o),n&&(v||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,r,i)))},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=(T>0?T:-T)*t,r=T>0?0:255;0!==T&&(l.colorFillStyle(e,r,r,r,n),v?e.fill(h):e.fill())},H=function(){if(N>0){if(e.lineWidth=N,e.lineCap="butt",e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(v?e.stroke(h):e.stroke(),"double"===M){e.lineWidth=N/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(h):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var X=t.pstyle("ghost-offset-x").pfValue,Y=t.pstyle("ghost-offset-y").pfValue,W=t.pstyle("ghost-opacity").value,G=W*p;e.translate(X,Y),O(W*k),F(),z(G),V(0!==T||0!==N),q(G),A(W*P),H(),e.translate(-X,-Y)}O(),F(),z(),V(0!==T||0!==N),q(),A(),H(),v&&e.translate(-d.x,-d.y),l.drawElementText(e,t,null,o),a&&l.drawNodeOverlay(e,t,d,r,i),n&&e.translate(f.x1,f.y1)}},drawNodeOverlay:function(e,t,n,r,i){if(t.visible()){var o=t.pstyle("overlay-padding").pfValue,a=t.pstyle("overlay-opacity").value,s=t.pstyle("overlay-color").value;if(a>0){if(n=n||t.position(),null==r||null==i){var l=t.padding();r=t.width()+2*l,i=t.height()+2*l}this.colorFillStyle(e,s[0],s[1],s[2],a),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,r+2*o,i+2*o),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),o=t.pstyle("pie-size"),a=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var f=t.pstyle("pie-"+h+"-background-size").value,p=t.pstyle("pie-"+h+"-background-color").value,v=t.pstyle("pie-"+h+"-background-opacity").value*n,g=f/100;g+d>1&&(g=1-d);var m=1.5*Math.PI+2*Math.PI*d,y=m+2*Math.PI*g;0===f||d>=1||d+g>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,c,m,y),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],v),e.fill(),d+=g)}}},Ua={};Ua.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},Ua.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},Ua.createGradientStyleFor=function(e,t,n,r,i){var o,a=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),h=He(u,d),f=He(c,d);o=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(h,f))}else{var p=a?{x:0,y:0}:n.position(),v=n.width(),g=n.height();o=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,g))}else if(n.isEdge()){var m=n.sourceEndpoint(),y=n.targetEndpoint();o=e.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=a?{x:0,y:0}:n.position(),w=n.width()/2,x=n.height()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":o=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":o=e.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-right":o=e.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!o)return null;for(var E=l.length===s.length,S=s.length,C=0;C<S;C++)o.addColorStop(E?l[C]:C/(S-1),"rgba("+s[C][0]+","+s[C][1]+","+s[C][2]+","+i+")");return o},Ua.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},Ua.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},Ua.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},Ua.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},Ua.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},Ua.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},Ua.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],o=r[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(h=0;h<t.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";t.textureMult=1,a<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},Ua.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},Ua.render=function(e){var t=(e=e||fe()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,o=e.forcedPan,a=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=a.cy,u=a.data,c=u.canvasNeedsRedraw,d=a.textureOnViewport&&!t&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),h=void 0!==e.motionBlur?e.motionBlur:a.motionBlur,f=a.motionBlurPxRatio,p=l.hasCompoundNodes(),v=a.hoverData.draggingEles,g=!(!a.hoverData.selecting&&!a.touchData.selecting),m=h=h&&!t&&a.motionBlurEnabled&&!g;t||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!t&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),h&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(m=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!d&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),w=void 0!==i?i:b,x=l.pan(),E={x:x.x,y:x.y},S={zoom:b,pan:{x:x.x,y:x.y}},C=a.prevViewport;void 0===C||S.zoom!==C.zoom||S.pan.x!==C.pan.x||S.pan.y!==C.pan.y||v&&!p||(a.motionBlurPxRatio=1),o&&(E=o),w*=s,E.x*=s,E.y*=s;var _=a.getCachedZSortedEles();function T(e,t,n,r,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,a.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=o}function N(e,r){var s,l,c,d;a.clearingMotionBlur||e!==u.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=E,l=w,c=a.canvasWidth,d=a.canvasHeight):(s={x:x.x*f,y:x.y*f},l=b*f,c=a.canvasWidth*f,d=a.canvasHeight*f),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?T(e,0,0,c,d):t||void 0!==r&&!r||e.clearRect(0,0,c,d),n||(e.translate(s.x,s.y),e.scale(l,l)),o&&e.translate(o.x,o.y),i&&e.scale(i,i)}if(d||(a.textureDrawLastFrame=!1),d){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var k=a.data.bufferContexts[a.TEXTURE_BUFFER];k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:k,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(S=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var D=u.contexts[a.NODE],M=a.textureCache.texture;S=a.textureCache.viewport;D.setTransform(1,0,0,1,0,0),h?T(D,0,0,S.width,S.height):D.clearRect(0,0,S.width,S.height);var P=y.core("outside-texture-bg-color").value,O=y.core("outside-texture-bg-opacity").value;a.colorFillStyle(D,P[0],P[1],P[2],O),D.fillRect(0,0,S.width,S.height);b=l.zoom();N(D,!1),D.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/s,S.height/S.zoom/s),D.drawImage(M,S.mpan.x,S.mpan.y,S.width/S.zoom/s,S.height/S.zoom/s)}else a.textureOnViewport&&!t&&(a.textureCache=null);var A=l.extent(),L=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles,B=a.hideEdgesOnViewport&&L,I=[];if(I[a.NODE]=!c[a.NODE]&&h&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,I[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),I[a.DRAG]=!c[a.DRAG]&&h&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,I[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||r||I[a.NODE]){var j=h&&!I[a.NODE]&&1!==f;N(D=t||(j?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:u.contexts[a.NODE]),h&&!j?"motionBlur":void 0),B?a.drawCachedNodes(D,_.nondrag,s,A):a.drawLayeredElements(D,_.nondrag,s,A),a.debug&&a.drawDebugPoints(D,_.nondrag),n||h||(c[a.NODE]=!1)}if(!r&&(c[a.DRAG]||n||I[a.DRAG])){j=h&&!I[a.DRAG]&&1!==f;N(D=t||(j?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:u.contexts[a.DRAG]),h&&!j?"motionBlur":void 0),B?a.drawCachedNodes(D,_.drag,s,A):a.drawCachedElements(D,_.drag,s,A),a.debug&&a.drawDebugPoints(D,_.drag),n||h||(c[a.DRAG]=!1)}if(a.showFps||!r&&c[a.SELECT_BOX]&&!n){if(N(D=t||u.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){b=a.cy.zoom();var R=y.core("selection-box-border-width").value/b;D.lineWidth=R,D.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",D.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),R>0&&(D.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",D.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(u.bgActivePosistion&&!a.hoverData.selecting){b=a.cy.zoom();var F=u.bgActivePosistion;D.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",D.beginPath(),D.arc(F.x,F.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),D.fill()}var z=a.lastRedrawTime;if(a.showFps&&z){z=Math.round(z);var V=Math.round(1e3/z);D.setTransform(1,0,0,1,0,0),D.fillStyle="rgba(255, 0, 0, 0.75)",D.strokeStyle="rgba(255, 0, 0, 0.75)",D.lineWidth=1,D.fillText("1 frame = "+z+" ms = "+V+" fps",0,20);D.strokeRect(0,30,250,20),D.fillRect(0,30,250*Math.min(V/60,1),20)}n||(c[a.SELECT_BOX]=!1)}if(h&&1!==f){var q=u.contexts[a.NODE],H=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],X=u.contexts[a.DRAG],Y=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],W=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!m?e.clearRect(0,0,a.canvasWidth,a.canvasHeight):T(e,0,0,a.canvasWidth,a.canvasHeight);var r=f;e.drawImage(t,0,0,a.canvasWidth*r,a.canvasHeight*r,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||I[a.NODE])&&(W(q,H,I[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||I[a.DRAG])&&(W(X,Y,I[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=S,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),h&&(a.motionBlurTimeout=setTimeout(function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!d,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()},100)),t||l.emit("render")};for(var Za={drawPolygonPath:function(e,t,n,r,i,o){var a=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+a*o[2*l],n+s*o[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2,s=xt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+o,n-a,t+o,n,s),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.arcTo(t-o,n-a,t,n-a,s),e.lineTo(t,n-a),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2,s=xt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+o,n-a),e.lineTo(t+o,n),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.lineTo(t-o,n-a),e.lineTo(t,n-a),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2;e.beginPath&&e.beginPath(),e.moveTo(t-o+8,n-a),e.lineTo(t+o-8,n-a),e.lineTo(t+o,n-a+8),e.lineTo(t+o,n+a-8),e.lineTo(t+o-8,n+a),e.lineTo(t-o+8,n+a),e.lineTo(t-o,n+a-8),e.lineTo(t-o,n-a+8),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var o=r/2,a=i/2,s=t-o,l=t+o,u=n-a,c=n+a,d=Et(r,i),h=d.widthOffset,f=d.heightOffset,p=d.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+h,c),e.lineTo(l-h,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-h,u),e.lineTo(s+h,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},$a=Math.sin(0),Qa=Math.cos(0),Ja={},es={},ts=Math.PI/40,ns=0*Math.PI;ns<2*Math.PI;ns+=ts)Ja[ns]=Math.sin(ns),es[ns]=Math.cos(ns);Za.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=ts)o=t-s*Ja[u]*$a+s*es[u]*Qa,a=n+l*es[u]*$a+l*Ja[u]*Qa,0===u?e.moveTo(o,a):e.lineTo(o,a);e.closePath()};var rs={};function is(e){var t=e.indexOf(",");return e.substr(t+1)}function os(e,t,n){var r=t.toDataURL(n,e.quality);switch(e.output){case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:t})}(is(r),n);case"base64":return is(r);case"base64uri":default:return r}}rs.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},rs.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],o=e.full?Math.ceil(n.h):r[3],a=E(e.maxWidth)||E(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,o*=e.scale,l=e.scale;else if(a){var u=1/0,c=1/0;E(e.maxWidth)&&(u=l*e.maxWidth/i),E(e.maxHeight)&&(c=l*e.maxHeight/o),i*=l=Math.min(u,c),o*=l}a||(i*=s,o*=s,l*=s);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=t.pan(),v={x:p.x*l,y:p.y*l};l*=t.zoom(),h.translate(v.x,v.y),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(-v.x,-v.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,o),h.fill())}return d},rs.png=function(e){return os(e,this.bufferCanvasImage(e),"image/png")},rs.jpg=function(e){return os(e,this.bufferCanvasImage(e),"image/jpeg")};var as={nodeShapeImpl:function(e,t,n,r,i,o,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,o);case"polygon":return this.drawPolygonPath(t,n,r,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,o);case"barrel":return this.drawBarrelPath(t,n,r,i,o)}}},ss=us,ls=us.prototype;function us(e){var t=this;t.data={canvases:new Array(ls.CANVAS_LAYERS),contexts:new Array(ls.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ls.CANVAS_LAYERS),bufferCanvases:new Array(ls.BUFFER_COUNT),bufferContexts:new Array(ls.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color: rgba(0,0,0,0);";t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style",n),r.position="relative",r.zIndex="0",r.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),(i.getAttribute("style")||"").indexOf(n)<0&&i.setAttribute("style",(i.getAttribute("style")||"")+n);for(var o=0;o<ls.CANVAS_LAYERS;o++){var a=t.data.canvases[o]=document.createElement("canvas");t.data.contexts[o]=a.getContext("2d"),a.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(P()?" -ms-touch-action: none; touch-action: none; ":"")),a.style.position="absolute",a.setAttribute("data-id","layer"+o),a.style.zIndex=String(ls.CANVAS_LAYERS-o),t.data.canvasContainer.appendChild(a),t.data.canvasNeedsRedraw[o]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[ls.NODE].setAttribute("data-id","layer"+ls.NODE+"-node"),t.data.canvases[ls.SELECT_BOX].setAttribute("data-id","layer"+ls.SELECT_BOX+"-selectbox"),t.data.canvases[ls.DRAG].setAttribute("data-id","layer"+ls.DRAG+"-drag");for(o=0;o<ls.BUFFER_COUNT;o++)t.data.bufferCanvases[o]=document.createElement("canvas"),t.data.bufferContexts[o]=t.data.bufferCanvases[o].getContext("2d"),t.data.bufferCanvases[o].style.position="absolute",t.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),t.data.bufferCanvases[o].style.zIndex=String(-o-1),t.data.bufferCanvases[o].style.visibility="hidden";t.pathsEnabled=!0;var s=Ue(),l=function(e,t){return t},u=t.data.eleTxrCache=new ka(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,i,o){return t.drawElement(e,n,r,!1,!1,o)},getBoundingBox:function(e){return e.boundingBox(),e[0]._private.bodyBounds},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),c=t.data.lblTxrCache=new ka(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"main",o)},getBoundingBox:function(e){return e.boundingBox(),e[0]._private.labelBounds.main||s},isVisible:l}),d=t.data.slbTxrCache=new ka(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"source",o)},getBoundingBox:function(e){return e.boundingBox(),e[0]._private.labelBounds.source||s},isVisible:l}),h=t.data.tlbTxrCache=new ka(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"target",o)},getBoundingBox:function(e){return e.boundingBox(),e[0]._private.labelBounds.target||s},isVisible:l}),f=t.data.lyrTxrCache=new Ma(t);t.onUpdateEleCalcs(function(e,t){u.invalidateElements(t),c.invalidateElements(t),d.invalidateElements(t),h.invalidateElements(t),f.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var p=function(e){for(var t=0;t<e.length;t++)f.enqueueElementRefinement(e[t].ele)};u.onDequeue(p),c.onDequeue(p),d.onDequeue(p),h.onDequeue(p)}ls.CANVAS_LAYERS=3,ls.SELECT_BOX=0,ls.DRAG=1,ls.NODE=2,ls.BUFFER_COUNT=3,ls.TEXTURE_BUFFER=0,ls.MOTIONBLUR_BUFFER_NODE=1,ls.MOTIONBLUR_BUFFER_DRAG=2,ls.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[ls.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[ls.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[ls.SELECT_BOX]=t}};var cs="undefined"!=typeof Path2D;ls.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},ls.usePaths=function(){return cs&&this.pathsEnabled},ls.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},ls.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},ls.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":a(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[Ba,za,Ya,Wa,Ga,Ka,Ua,Za,rs,as].forEach(function(e){F(ls,e)});var ds=[{type:"layout",extensions:Qo},{type:"renderer",extensions:[{name:"null",impl:Jo},{name:"base",impl:Ea},{name:"canvas",impl:ss}]}],hs={},fs={};function ps(e,t,n){var r=n,i=function(n){le("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(To.prototype[t])return i(t);To.prototype[t]=n}else if("collection"===e){if(Xi.prototype[t])return i(t);Xi.prototype[t]=n}else if("layout"===e){for(var o=function(e){this.options=e,n.call(this,e),x(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},h={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};F(a,{createEmitter:function(){return this._private.emitter=new li(h,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),On.eventAliasesOn(a),r=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var f=vs("renderer","base"),p=f.prototype,v=n,g=n.prototype,m=function(){f.apply(this,arguments),v.apply(this,arguments)},y=m.prototype;for(var b in p){var w=p[b];if(null!=g[b])return i(b);y[b]=w}for(var E in g)y[E]=g[E];p.clientFunctions.forEach(function(e){y[e]=y[e]||function(){le("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=m}return q({map:hs,keys:[e,t],value:r})}function vs(e,t){return H({map:hs,keys:[e,t]})}var gs=function(){return 2===arguments.length?vs.apply(null,arguments):3===arguments.length?ps.apply(null,arguments):4===arguments.length?function(e,t,n,r){return H({map:fs,keys:[e,t,n,r]})}.apply(null,arguments):5===arguments.length?function(e,t,n,r,i){return q({map:fs,keys:[e,t,n,r],value:i})}.apply(null,arguments):void le("Invalid extension access syntax")};To.prototype.extension=gs,ds.forEach(function(e){e.extensions.forEach(function(t){ps(e.type,t.name,t.impl)})});var ms=function e(){if(!(this instanceof e))return new e;this.length=0},ys=ms.prototype;ys.instanceString=function(){return"stylesheet"},ys.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},ys.css=function(e,t){var n=this.length-1;if(y(e))this[n].properties.push({name:e,value:t});else if(x(e))for(var r=e,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(null!=s){var l=Eo.properties[a]||Eo.properties[L(a)];if(null!=l){var u=l.name,c=s;this[n].properties.push({name:u,value:c})}}}return this},ys.style=ys.css,ys.generateStyle=function(e){var t=new Eo(e);return this.appendToStyle(t)},ys.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var o=0;o<i.length;o++){var a=i[o];e.css(a.name,a.value)}}return e};var bs=function(e){return void 0===e&&(e={}),x(e)?new To(e):y(e)?gs.apply(gs,arguments):void 0};bs.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(bs),e.apply(null,t),this},bs.version="3.3.0",bs.stylesheet=bs.Stylesheet=ms,e.exports=bs}).call(this,n(91).setImmediate)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e){e.exports={user:{noResults:"No interaction results for this query",tooManyResults:"This graph is displayed when there are 500 or fewer interactions.",pleaseClearCache:"Error loading results. Please clear your cache and try again.",noQueryData:"Problem loading query results"},dev:{noParent:{usingDefault:"Cymine: No parent element specified for Cymine. Using default '#cymine",noDefault:"Cymine: No parent element specified, and default '#cymine' not available."},noQueryData:"Cymine: No queryOn values supplied!",noServiceUrl:"Cymine: No serviceUrl defined, unable to query for interactions.",badServiceUrl:"Cymine: bad serviceUrl. Please check for typos and check this host is up."},showTable:{showInTableFormat:"Show in table format",hideTableFormat:"Hide table"},CONST:{PROTEIN:"Protein",LOOKUP_PROTEIN:"proteins"}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BiojsComponentInteractionGraph=void 0,n(45);var r=n(110),i=a(n(88)),o=a(n(108));function a(e){return e&&e.__esModule?e:{default:e}}function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["<div>\n    <style-element />\n    </div>"]);return s=function(){return e},e}var l={render:(0,r.html)(["<style>".concat(o.default,"</style")])},u={render:(0,r.render)(function(e){return(0,i.default)({parentElem:e,service:{root:e.getAttribute("intermineService")},queryOn:{value:e.getAttribute("searchTerm"),extraValue:e.getAttribute("searchOrganism")},nodeType:e.getAttribute("searchClass"),compact:!0}),(0,r.html)(s())},{shadowRoot:!1})};t.BiojsComponentInteractionGraph=u,(0,r.define)("biojs-component-interaction-graph",u),(0,r.define)("style-element",l)},function(e,t,n){"ActiveXObject"in window&&(n(46),n(54)),n(83),n(84),document.createElement("div").attachShadow||(n(85),n(86)),"object"!=typeof customElements&&n(87)},function(e,t,n){n(47),e.exports=n(2).Array.find},function(e,t,n){"use strict";var r=n(16),i=n(50)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(33)("find")},function(e,t,n){e.exports=!n(7)&&!n(28)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(9),i=n(30),o=n(31),a=n(20),s=n(51);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var v,g,m=o(t),y=i(m),b=r(s,p,3),w=a(y.length),x=0,E=n?f(t,w):l?f(t,0):void 0;w>x;x++)if((h||x in y)&&(g=b(v=y[x],x,m),e))if(n)E[x]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:E.push(v)}else if(c)return!1;return d?-1:u||c?c:E}}},function(e,t,n){var r=n(52);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(6),i=n(53),o=n(0)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){n(55),n(56),n(65),n(68),e.exports=n(2).Promise},function(e,t,n){"use strict";var r=n(23),i={};i[n(0)("toStringTag")]="z",i+""!="[object z]"&&n(8)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){"use strict";var r=n(57)(!0);n(34)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(21),i=n(19);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(59),i=n(29),o=n(26),a={};n(5)(a,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(3),i=n(60),o=n(36),a=n(25)("IE_PROTO"),s=function(){},l=function(){var e,t=n(17)("iframe"),r=o.length;for(t.style.display="none",n(37).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(12),i=n(3),o=n(35);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(13),i=n(24),o=n(62)(!1),a=n(25)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(24),i=n(20),o=n(63);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(21),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(13),i=n(31),o=n(25)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){for(var r=n(66),i=n(35),o=n(8),a=n(1),s=n(5),l=n(11),u=n(0),c=u("iterator"),d=u("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),v=0;v<p.length;v++){var g,m=p[v],y=f[m],b=a[m],w=b&&b.prototype;if(w&&(w[c]||s(w,c,h),w[d]||s(w,d,m),l[m]=h,y))for(g in r)w[g]||o(w,g,r[g],!0)}},function(e,t,n){"use strict";var r=n(33),i=n(67),o=n(11),a=n(24);e.exports=n(34)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a,s=n(22),l=n(1),u=n(9),c=n(23),d=n(16),h=n(6),f=n(14),p=n(69),v=n(70),g=n(74),m=n(38).set,y=n(76)(),b=n(39),w=n(77),x=n(78),E=n(79),S=l.TypeError,C=l.process,_=C&&C.versions,T=_&&_.v8||"",N=l.Promise,k="process"==c(C),D=function(){},M=i=b.f,P=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n(0)("species")]=function(e){e(D,D)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==T.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&I(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=O(n))?o.call(n,l,u):l(n)):u(r)}catch(e){c&&!a&&c.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){m.call(l,function(){var t,n,r,i=e._v,o=B(e);if(o&&(t=w(function(){k?C.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=k||B(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},B=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(e){m.call(l,function(){var t;k?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=O(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(R,r,1),u(j,r,1))}catch(e){j.call(r,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};P||(N=function(e){p(this,N,"Promise","_h"),f(e),r.call(this);try{e(u(R,this,1),u(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(80)(N.prototype,{then:function(e,t){var n=M(g(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(R,e,1),this.reject=u(j,e,1)},b.f=M=function(e){return e===N||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!P,{Promise:N}),n(26)(N,"Promise"),n(81)("Promise"),a=n(2).Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return E(s&&this===a?N:this,e)}}),d(d.S+d.F*!(P&&n(82)(function(e){N.all(e).catch(D)})),"Promise",{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(9),i=n(71),o=n(72),a=n(3),s=n(20),l=n(73),u={},c={};(t=e.exports=function(e,t,n,d,h){var f,p,v,g,m=h?function(){return e}:l(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(f=s(e.length);f>b;b++)if((g=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||g===c)return g}else for(v=m.call(e);!(p=v.next()).done;)if((g=i(v,y,p.value,t))===u||g===c)return g}).BREAK=u,t.RETURN=c},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(11),i=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(23),i=n(0)("iterator"),o=n(11);e.exports=n(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(3),i=n(14),o=n(0)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1),i=n(38).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(10)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var d=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(3),i=n(6),o=n(39);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(8);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(1),i=n(12),o=n(7),a=n(0)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(0)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t){
/**
 * @license
 * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
!function(e){"use strict";var t;if(!((t=document.createEvent("Event")).initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented)){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var r=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||r&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||r&&"function"!=typeof window.Event){var i=window.Event;if(window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},i)for(var o in i)window.Event[o]=i[o];window.Event.prototype=i.prototype}if(!window.MouseEvent||r&&"function"!=typeof window.MouseEvent){var a=window.MouseEvent;if(window.MouseEvent=function(e,t){t=t||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.view||window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n},a)for(var o in a)window.MouseEvent[o]=a[o];window.MouseEvent.prototype=a.prototype}if(Array.from||(Array.from=function(e){return[].slice.call(e)}),!Object.assign){var s=function(e,t){for(var n,r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++)e[n=r[i]]=t[n]};Object.assign=function(e,t){for(var n,r=[].slice.call(arguments,1),i=0;i<r.length;i++)(n=r[i])&&s(e,n);return e}}}(window.WebComponents)},function(e,t){
/**
 * @license
 * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
!function(){"use strict";var e="undefined"==typeof HTMLTemplateElement,t=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),n=!1;/Trident/.test(navigator.userAgent)&&function(){n=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){var n=e.call(this,t);return this instanceof DocumentFragment&&(n.__proto__=DocumentFragment.prototype),n},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var t=Node.prototype.insertBefore;function r(e,n){if(e instanceof DocumentFragment)for(var r;r=e.firstChild;)t.call(this,r,n);else t.call(this,e,n);return e}Node.prototype.insertBefore=r;var i=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?r.call(this,e,null):i.call(this,e),e};var o=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,t){return e instanceof DocumentFragment?(r.call(this,e,t),o.call(this,t)):a.call(this,e,t),t},Document.prototype.createDocumentFragment=function(){var e=this.createElement("df");return e.__proto__=DocumentFragment.prototype,e};var s=Document.prototype.importNode;Document.prototype.importNode=function(e,t){t=t||!1;var n=s.call(this,e,t);return e instanceof DocumentFragment&&(n.__proto__=DocumentFragment.prototype),n}}();var r=Node.prototype.cloneNode,i=Document.prototype.createElement,o=Document.prototype.importNode,a=Node.prototype.removeChild,s=Node.prototype.appendChild,l=Node.prototype.replaceChild,u=DOMParser.prototype.parseFromString,c=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}},d=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},h=Element.prototype.querySelectorAll,f=Document.prototype.querySelectorAll,p=DocumentFragment.prototype.querySelectorAll;function v(e,t){if(!e.childNodes.length)return[];switch(e.nodeType){case Node.DOCUMENT_NODE:return f.call(e,t);case Node.DOCUMENT_FRAGMENT_NODE:return p.call(e,t);default:return h.call(e,t)}}var g=function(){if(!e){var n=document.createElement("template"),r=document.createElement("template");r.content.appendChild(document.createElement("div")),n.content.appendChild(r);var i=n.cloneNode(!0);return 0===i.content.childNodes.length||0===i.content.firstChild.content.childNodes.length||t}}(),m=function(){};if(e){var y=document.implementation.createHTMLDocument("template"),b=!0,w=document.createElement("style");w.textContent="template{display:none;}";var x=document.head;x.insertBefore(w,x.firstElementChild),m.prototype=Object.create(HTMLElement.prototype);var E=!document.createElement("div").hasOwnProperty("innerHTML");m.decorate=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){var t;for(e.content=y.createDocumentFragment();t=e.firstChild;)s.call(e.content,t);if(E)e.__proto__=m.prototype;else if(e.cloneNode=function(e){return m._cloneNode(this,e)},b)try{C(e),_(e)}catch(e){b=!1}m.bootstrap(e.content)}};var S={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},C=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return L(this)},set:function(e){var t=S[function(e){return(/<([a-z][^\/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()}(e)];if(t)for(var n=0;n<t.length;n++)e="<"+t[n]+">"+e+"</"+t[n]+">";for(y.body.innerHTML=e,m.bootstrap(y);this.content.firstChild;)a.call(this.content,this.content.firstChild);var r=y.body;if(t)for(var i=0;i<t.length;i++)r=r.lastChild;for(;r.firstChild;)s.call(this.content,r.firstChild)},configurable:!0})},_=function(e){Object.defineProperty(e,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(e){if(!this.parentNode)throw new Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");y.body.innerHTML=e;for(var t=this.ownerDocument.createDocumentFragment();y.body.firstChild;)s.call(t,y.body.firstChild);l.call(this.parentNode,t,this)},configurable:!0})};C(m.prototype),_(m.prototype),m.bootstrap=function(e){for(var t,n=v(e,"template"),r=0,i=n.length;r<i&&(t=n[r]);r++)m.decorate(t)},document.addEventListener("DOMContentLoaded",function(){m.bootstrap(document)}),Document.prototype.createElement=function(){var e=i.apply(this,arguments);return"template"===e.localName&&m.decorate(e),e},DOMParser.prototype.parseFromString=function(){var e=u.apply(this,arguments);return m.bootstrap(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return L(this)},set:function(e){c.set.call(this,e),m.bootstrap(this)},configurable:!0,enumerable:!0});var T=/[&\u00A0"]/g,N=/[&\u00A0<>]/g,k=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}},D=function(e){return e.replace(T,k)},M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t},P=M(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),O=M(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),A=function(e,t,n){switch(e.nodeType){case Node.ELEMENT_NODE:for(var r,i=e.localName,o="<"+i,a=e.attributes,s=0;r=a[s];s++)o+=" "+r.name+'="'+D(r.value)+'"';return o+=">",P[i]?o:o+L(e,n)+"</"+i+">";case Node.TEXT_NODE:var l=e.data;return t&&O[t.localName]?l:function(e){return e.replace(N,k)}(l);case Node.COMMENT_NODE:return"\x3c!--"+e.data+"--\x3e";default:throw window.console.error(e),new Error("not implemented")}},L=function(e,t){"template"===e.localName&&(e=e.content);for(var n,r="",i=t?t(e):d.get.call(e),o=0,a=i.length;o<a&&(n=i[o]);o++)r+=A(n,e,t);return r}}if(e||g){m._cloneNode=function(e,t){var n=r.call(e,!1);return this.decorate&&this.decorate(n),t&&(s.call(n.content,r.call(e.content,!0)),B(n.content,e.content)),n};var B=function(e,t){if(t.querySelectorAll){var n=v(t,"template");if(0!==n.length)for(var r,i,o=v(e,"template"),a=0,s=o.length;a<s;a++)i=n[a],r=o[a],m&&m.decorate&&m.decorate(i),l.call(r.parentNode,I.call(i,!0),r)}},I=Node.prototype.cloneNode=function(e){var i;if(!n&&t&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();i=j.call(this.ownerDocument,this,!0)}else i=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?m._cloneNode(this,e):r.call(this,e);return e&&B(i,this),i},j=Document.prototype.importNode=function(e,t){if(t=t||!1,"template"===e.localName)return m._cloneNode(e,t);var n=o.call(this,e,t);return t&&(B(n,e),function(e){for(var t,n,r=v(e,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]'),o=0;o<r.length;o++){n=r[o],(t=i.call(document,"script")).textContent=n.textContent;for(var a,s=n.attributes,u=0;u<s.length;u++)a=s[u],t.setAttribute(a.name,a.value);l.call(n.parentNode,t,n)}}(n)),n}}e&&(window.HTMLTemplateElement=m)}()},function(e,t,n){(function(e){(function(){"use strict";var t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function r(){r=function(){},n.Symbol||(n.Symbol=o)}var i,o=(i=0,function(e){return"jscomp_symbol_"+(e||"")+i++});function a(){r();var e=n.Symbol.iterator;e||(e=n.Symbol.iterator=n.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&t(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return s(this)}}),a=function(){}}function s(e){var t=0;return function(e){return a(),(e={next:e})[n.Symbol.iterator]=function(){return this},e}(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function l(e){a(),r(),a();var t=e[Symbol.iterator];return t?t.call(e):s(e)}function u(e,t){return{index:e,m:[],v:t}}function c(e,t,n,r){var i=0,o=0,a=0,s=0,l=Math.min(t-i,r-o);if(0==i&&0==o)e:{for(a=0;a<l;a++)if(e[a]!==n[a])break e;a=l}if(t==e.length&&r==n.length){s=e.length;for(var c=n.length,h=0;h<l-a&&d(e[--s],n[--c]);)h++;s=h}if(o+=a,r-=s,0==(t-=s)-(i+=a)&&0==r-o)return[];if(i==t){for(t=u(i,0);o<r;)t.m.push(n[o++]);return[t]}if(o==r)return[u(i,t-i)];for(r=r-(a=o)+1,s=t-(l=i)+1,t=Array(r),c=0;c<r;c++)t[c]=Array(s),t[c][0]=c;for(c=0;c<s;c++)t[0][c]=c;for(c=1;c<r;c++)for(h=1;h<s;h++)if(e[l+h-1]===n[a+c-1])t[c][h]=t[c-1][h-1];else{var f=t[c-1][h]+1,p=t[c][h-1]+1;t[c][h]=f<p?f:p}for(l=t.length-1,a=t[0].length-1,r=t[l][a],e=[];0<l||0<a;)0==l?(e.push(2),a--):0==a?(e.push(3),l--):(s=t[l-1][a-1],(f=(c=t[l-1][a])<(h=t[l][a-1])?c<s?c:s:h<s?h:s)==s?(s==r?e.push(0):(e.push(1),r=s),l--,a--):f==c?(e.push(3),l--,r=c):(e.push(2),a--,r=h));for(e.reverse(),t=void 0,l=[],a=0;a<e.length;a++)switch(e[a]){case 0:t&&(l.push(t),t=void 0),i++,o++;break;case 1:t||(t=u(i,0)),t.v++,i++,t.m.push(n[o]),o++;break;case 2:t||(t=u(i,0)),t.v++,i++;break;case 3:t||(t=u(i,0)),t.m.push(n[o]),o++}return t&&l.push(t),l}function d(e,t){return e===t}function h(){this.M=this.root=null,this.A=!1,this.h=this.u=this.F=this.assignedSlot=this.assignedNodes=this.i=null,this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.l=void 0,this.P=this.I=!1,this.s={}}function f(e){return e.__shady||(e.__shady=new h),e.__shady}function p(e){return e&&e.__shady}h.prototype.toJSON=function(){return{}};var v=window.ShadyDOM||{};v.Z=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var g=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");v.g=!!(g&&g.configurable&&g.get),v.G=v.force||!v.Z;var m=navigator.userAgent.match("Trident"),y=navigator.userAgent.match("Edge");function b(e){return(e=p(e))&&void 0!==e.firstChild}function w(e){return"ShadyRoot"===e.V}function x(e){if(w(e=e.getRootNode()))return e}void 0===v.N&&(v.N=v.g&&(m||y));var E=Element.prototype,S=E.matches||E.matchesSelector||E.mozMatchesSelector||E.msMatchesSelector||E.oMatchesSelector||E.webkitMatchesSelector;function C(e,t){if(e&&t)for(var n,r=Object.getOwnPropertyNames(t),i=0;i<r.length&&(n=r[i]);i++){var o=n,a=e,s=Object.getOwnPropertyDescriptor(t,o);s&&Object.defineProperty(a,o,s)}}function _(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];for(r=0;r<n.length;r++)C(e,n[r]);return e}var T=document.createTextNode(""),N=0,k=[];function D(e){k.push(e),T.textContent=N++}new MutationObserver(function(){for(;k.length;)try{k.shift()()}catch(e){throw T.textContent=N++,e}}).observe(T,{characterData:!0});var M=!!document.contains;function P(e,t){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(e){for(var t=e.length-1;0<=t;t--){var n=e[t],r=n.getAttribute("id")||n.getAttribute("name");r&&"length"!==r&&isNaN(r)&&(e[r]=n)}return e.item=function(t){return e[t]},e.namedItem=function(t){if("length"!==t&&isNaN(t)&&e[t])return e[t];for(var n=l(e),r=n.next();!r.done;r=n.next())if(((r=r.value).getAttribute("id")||r.getAttribute("name"))==t)return r;return null},e}var A,L=[];function B(e){A||(A=!0,D(I)),L.push(e)}function I(){A=!1;for(var e=!!L.length;L.length;)L.shift()();return e}I.list=L;var j=/[&\u00A0"]/g,R=/[&\u00A0<>]/g;function F(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function z(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var V=z("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),q=z("style script xmp iframe noembed noframes plaintext noscript".split(" "));function H(e,t){"template"===e.localName&&(e=e.content);for(var n,r="",i=t?t(e):e.childNodes,o=0,a=i.length;o<a&&(n=i[o]);o++){e:{var s=n,l=e,u=t;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c=s.localName,d="<"+c,h=s.attributes,f=0;l=h[f];f++)d+=" "+l.name+'="'+l.value.replace(j,F)+'"';d+=">",s=V[c]?d:d+H(s,u)+"</"+c+">";break e;case Node.TEXT_NODE:s=s.data,s=l&&q[l.localName]?s:s.replace(R,F);break e;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break e;default:throw window.console.error(s),Error("not implemented")}}r+=s}return r}var X=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),Y=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);function W(e){var t=[];for(X.currentNode=e,e=X.firstChild();e;)t.push(e),e=X.nextSibling();return t}var G={parentNode:function(e){return X.currentNode=e,X.parentNode()},firstChild:function(e){return X.currentNode=e,X.firstChild()},lastChild:function(e){return X.currentNode=e,X.lastChild()},previousSibling:function(e){return X.currentNode=e,X.previousSibling()},nextSibling:function(e){return X.currentNode=e,X.nextSibling()}};G.childNodes=W,G.parentElement=function(e){return Y.currentNode=e,Y.parentNode()},G.firstElementChild=function(e){return Y.currentNode=e,Y.firstChild()},G.lastElementChild=function(e){return Y.currentNode=e,Y.lastChild()},G.previousElementSibling=function(e){return Y.currentNode=e,Y.previousSibling()},G.nextElementSibling=function(e){return Y.currentNode=e,Y.nextSibling()},G.children=function(e){var t=[];for(Y.currentNode=e,e=Y.firstChild();e;)t.push(e),e=Y.nextSibling();return O(t)},G.innerHTML=function(e){return H(e,function(e){return W(e)})},G.textContent=function(e){switch(e.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:e=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);for(var t,n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return e.nodeValue}};var K=v.g,U=[Node.prototype,Element.prototype,HTMLElement.prototype];function Z(e){var t;e:{for(t=0;t<U.length;t++){var n=U[t];if(n.hasOwnProperty(e)){t=n;break e}}t=void 0}if(!t)throw Error("Could not find descriptor for "+e);return Object.getOwnPropertyDescriptor(t,e)}var $=K?{parentNode:Z("parentNode"),firstChild:Z("firstChild"),lastChild:Z("lastChild"),previousSibling:Z("previousSibling"),nextSibling:Z("nextSibling"),childNodes:Z("childNodes"),parentElement:Z("parentElement"),previousElementSibling:Z("previousElementSibling"),nextElementSibling:Z("nextElementSibling"),innerHTML:Z("innerHTML"),textContent:Z("textContent"),firstElementChild:Z("firstElementChild"),lastElementChild:Z("lastElementChild"),children:Z("children")}:{},Q=K?{firstElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"children")}:{},J=K?{firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(Document.prototype,"children")}:{},ee={L:$,ia:Q,da:J,parentNode:function(e){return $.parentNode.get.call(e)},firstChild:function(e){return $.firstChild.get.call(e)},lastChild:function(e){return $.lastChild.get.call(e)},previousSibling:function(e){return $.previousSibling.get.call(e)},nextSibling:function(e){return $.nextSibling.get.call(e)},childNodes:function(e){return Array.prototype.slice.call($.childNodes.get.call(e))},parentElement:function(e){return $.parentElement.get.call(e)},previousElementSibling:function(e){return $.previousElementSibling.get.call(e)},nextElementSibling:function(e){return $.nextElementSibling.get.call(e)},innerHTML:function(e){return $.innerHTML.get.call(e)},textContent:function(e){return $.textContent.get.call(e)},children:function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return Q.children.get.call(e);case Node.DOCUMENT_NODE:return J.children.get.call(e);default:return $.children.get.call(e)}},firstElementChild:function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return Q.firstElementChild.get.call(e);case Node.DOCUMENT_NODE:return J.firstElementChild.get.call(e);default:return $.firstElementChild.get.call(e)}},lastElementChild:function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return Q.lastElementChild.get.call(e);case Node.DOCUMENT_NODE:return J.lastElementChild.get.call(e);default:return $.lastElementChild.get.call(e)}}},te=v.N?ee:G,ne=Element.prototype.insertBefore,re=Element.prototype.replaceChild,ie=Element.prototype.removeChild,oe=Element.prototype.setAttribute,ae=Element.prototype.removeAttribute,se=Element.prototype.cloneNode,le=Document.prototype.importNode,ue=Element.prototype.addEventListener,ce=Element.prototype.removeEventListener,de=Window.prototype.addEventListener,he=Window.prototype.removeEventListener,fe=Element.prototype.dispatchEvent,pe=Node.prototype.contains||HTMLElement.prototype.contains,ve=Document.prototype.getElementById,ge=Element.prototype.querySelector,me=DocumentFragment.prototype.querySelector,ye=Document.prototype.querySelector,be=Element.prototype.querySelectorAll,we=DocumentFragment.prototype.querySelectorAll,xe=Document.prototype.querySelectorAll,Ee={};function Se(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Ee.appendChild=Element.prototype.appendChild,Ee.insertBefore=ne,Ee.replaceChild=re,Ee.removeChild=ie,Ee.setAttribute=oe,Ee.removeAttribute=ae,Ee.cloneNode=se,Ee.importNode=le,Ee.addEventListener=ue,Ee.removeEventListener=ce,Ee.$=de,Ee.aa=he,Ee.dispatchEvent=fe,Ee.contains=pe,Ee.getElementById=ve,Ee.ga=ge,Ee.ja=me,Ee.ea=ye,Ee.querySelector=function(e){switch(this.nodeType){case Node.ELEMENT_NODE:return ge.call(this,e);case Node.DOCUMENT_NODE:return ye.call(this,e);default:return me.call(this,e)}},Ee.ha=be,Ee.ka=we,Ee.fa=xe,Ee.querySelectorAll=function(e){switch(this.nodeType){case Node.ELEMENT_NODE:return be.call(this,e);case Node.DOCUMENT_NODE:return xe.call(this,e);default:return we.call(this,e)}};var Ce=v.g,_e=document.implementation.createHTMLDocument("inert"),Te=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Ne=Te&&Te.get,ke=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),De={parentElement:{get:function(){var e=p(this);return(e=e&&e.parentNode)&&e.nodeType!==Node.ELEMENT_NODE&&(e=null),void 0!==e?e:te.parentElement(this)},configurable:!0},parentNode:{get:function(){var e=p(this);return void 0!==(e=e&&e.parentNode)?e:te.parentNode(this)},configurable:!0},nextSibling:{get:function(){var e=p(this);return void 0!==(e=e&&e.nextSibling)?e:te.nextSibling(this)},configurable:!0},previousSibling:{get:function(){var e=p(this);return void 0!==(e=e&&e.previousSibling)?e:te.previousSibling(this)},configurable:!0},nextElementSibling:{get:function(){var e=p(this);if(e&&void 0!==e.nextSibling){for(e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return te.nextElementSibling(this)},configurable:!0},previousElementSibling:{get:function(){var e=p(this);if(e&&void 0!==e.previousSibling){for(e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return te.previousElementSibling(this)},configurable:!0}},Me={className:{get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)},configurable:!0}},Pe={childNodes:{get:function(){if(b(this)){var e=p(this);if(!e.childNodes){e.childNodes=[];for(var t=this.firstChild;t;t=t.nextSibling)e.childNodes.push(t)}var n=e.childNodes}else n=te.childNodes(this);return n.item=function(e){return n[e]},n},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var e=p(this);return void 0!==(e=e&&e.firstChild)?e:te.firstChild(this)},configurable:!0},lastChild:{get:function(){var e=p(this);return void 0!==(e=e&&e.lastChild)?e:te.lastChild(this)},configurable:!0},textContent:{get:function(){if(b(this)){for(var e,t=[],n=0,r=this.childNodes;e=r[n];n++)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")}return te.textContent(this)},set:function(e){switch(null==e&&(e=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!b(this)&&Ce){var t=this.firstChild;(t!=this.lastChild||t&&t.nodeType!=Node.TEXT_NODE)&&Se(this),ee.L.textContent.set.call(this,e)}else Se(this),(0<e.length||this.nodeType===Node.ELEMENT_NODE)&&this.appendChild(document.createTextNode(e));break;default:this.nodeValue=e}},configurable:!0},firstElementChild:{get:function(){var e=p(this);if(e&&void 0!==e.firstChild){for(e=this.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return te.firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){var e=p(this);if(e&&void 0!==e.lastChild){for(e=this.lastChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return te.lastElementChild(this)},configurable:!0},children:{get:function(){return b(this)?O(Array.prototype.filter.call(this.childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE})):te.children(this)},configurable:!0},innerHTML:{get:function(){return b(this)?H("template"===this.localName?this.content:this):te.innerHTML(this)},set:function(e){var t="template"===this.localName?this.content:this;Se(t);var n=this.localName||"div";for(n=this.namespaceURI&&this.namespaceURI!==_e.namespaceURI?_e.createElementNS(this.namespaceURI,n):_e.createElement(n),Ce?ee.L.innerHTML.set.call(n,e):n.innerHTML=e,e="template"===this.localName?n.content:n;e.firstChild;)t.appendChild(e.firstChild)},configurable:!0}},Oe={shadowRoot:{get:function(){var e=p(this);return e&&e.M||null},configurable:!0}},Ae={activeElement:{get:function(){var e=ke&&ke.get?ke.get.call(document):v.g?void 0:document.activeElement;if(e&&e.nodeType){var t=!!w(this);if(this===document||t&&this.host!==e&&Ee.contains.call(this.host,e)){for(t=x(e);t&&t!==this;)t=x(e=t.host);e=this===document?t?null:e:t===this?e:null}else e=null}else e=null;return e},set:function(){},configurable:!0}};function Le(e,t,n){for(var r in t){var i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable||!i&&n?Object.defineProperty(e,r,t[r]):n&&console.warn("Could not define",r,"on",e)}}function Be(e){Le(e,De),Le(e,Me),Le(e,Pe),Le(e,Ae)}var Ie=v.g?function(){}:function(e){var t=f(e);t.I||(t.I=!0,Le(e,De,!0),Le(e,Me,!0))},je=v.g?function(){}:function(e){f(e).P||(Le(e,Pe,!0),Le(e,Oe,!0))},Re=te.childNodes;function Fe(e,t,n){Ie(e),n=n||null;var r=f(e),i=f(t),o=n?f(n):null;r.previousSibling=n?o.previousSibling:t.lastChild,(o=p(r.previousSibling))&&(o.nextSibling=e),(o=p(r.nextSibling=n))&&(o.previousSibling=e),r.parentNode=t,n?n===i.firstChild&&(i.firstChild=e):(i.lastChild=e,i.firstChild||(i.firstChild=e)),i.childNodes=null}function ze(e,t){var n=f(e);if(void 0===n.firstChild)for(n.childNodes=null,t=t||Re(e),n.firstChild=t[0]||null,n.lastChild=t[t.length-1]||null,je(e),n=0;n<t.length;n++){var r=t[n],i=f(r);i.parentNode=e,i.nextSibling=t[n+1]||null,i.previousSibling=t[n-1]||null,Ie(r)}}var Ve,qe=te.parentNode,He=te.childNodes,Xe={},Ye=v.deferConnectionCallbacks&&"loading"===document.readyState;function We(e){var t=[];do{t.unshift(e)}while(e=e.parentNode);return t}function Ge(e,t,n){if(e!==Xe)throw new TypeError("Illegal constructor");if(this.V="ShadyRoot",this.host=t,this.Y=n&&n.mode,ze(t,e=He(t)),(n=f(t)).root=this,n.M="closed"!==this.Y?this:null,(n=f(this)).firstChild=n.lastChild=n.parentNode=n.nextSibling=n.previousSibling=null,n.childNodes=[],this.K=this.j=!1,this.c=this.b=this.a=null,v.preferPerformance){n=0;for(var r=e.length;n<r;n++)Ee.removeChild.call(t,e[n])}else Ke(this)}function Ke(e){e.j||(e.j=!0,B(function(){return Ue(e)}))}function Ue(e){for(var t;e;){e.j&&(t=e);e:{var n=e;if(w(e=n.host.getRootNode()))for(var r=n.host.childNodes,i=0;i<r.length;i++)if("slot"==(n=r[i]).localName)break e;e=void 0}}t&&t._renderRoot()}function Ze(e,t,n){var r=f(t),i=r.u;r.u=null,n||(n=(e=e.b[t.slot||"__catchall"])&&e[0]),n?(f(n).assignedNodes.push(t),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&(f(r.assignedSlot).A=!0)}function $e(e,t,n){for(var r,i=0;i<n.length&&(r=n[i]);i++)if("slot"==r.localName){var o=p(r).assignedNodes;o&&o.length&&$e(e,t,o)}else t.push(n[i])}function Qe(e,t){Ee.dispatchEvent.call(t,new Event("slotchange")),(t=p(t)).assignedSlot&&Qe(e,t.assignedSlot)}function Je(e){if(e.c&&e.c.length){for(var t,n=e.c,r=0;r<n.length;r++){var i=n[r];ze(i),ze(i.parentNode);var o=et(i);e.b[o]?((t=t||{})[o]=!0,e.b[o].push(i)):e.b[o]=[i],e.a.push(i)}if(t)for(var a in t)e.b[a]=tt(e.b[a]);e.c=[]}}function et(e){var t=e.name||e.getAttribute("name")||"__catchall";return e.T=t}function tt(e){return e.sort(function(e,t){e=We(e);for(var n=We(t),r=0;r<e.length;r++){t=e[r];var i=n[r];if(t!==i)return(e=Array.from(t.parentNode.childNodes)).indexOf(t)-e.indexOf(i)}})}function nt(e){return Je(e),!(!e.a||!e.a.length)}if(Ge.prototype._renderRoot=function(){var e=Ye;if(Ye=!0,this.j=!1,this.a){Je(this);for(var t,n=0;n<this.a.length;n++){var r=p(t=this.a[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.h=[],r.F=i)for(r=0;r<i.length;r++){var o=p(i[r]);o.u=o.assignedSlot,o.assignedSlot===t&&(o.assignedSlot=null)}}for(t=this.host.firstChild;t;t=t.nextSibling)Ze(this,t);for(n=0;n<this.a.length;n++){if(!(i=p(t=this.a[n])).assignedNodes.length)for(r=t.firstChild;r;r=r.nextSibling)Ze(this,r,t);if((r=(r=p(t.parentNode))&&r.root)&&(nt(r)||r.j)&&r._renderRoot(),$e(this,i.h,i.assignedNodes),r=i.F){for(o=0;o<r.length;o++)p(r[o]).u=null;i.F=null,r.length>i.assignedNodes.length&&(i.A=!0)}i.A&&(i.A=!1,Qe(this,t))}for(n=this.a,t=[],i=0;i<n.length;i++)(o=p(r=n[i].parentNode))&&o.root||!(0>t.indexOf(r))||t.push(r);for(n=0;n<t.length;n++){r=(i=t[n])===this?this.host:i,o=[],i=i.childNodes;for(var a=0;a<i.length;a++){var s=i[a];if("slot"==s.localName){s=p(s).h;for(var l=0;l<s.length;l++)o.push(s[l])}else o.push(s)}i=void 0,a=He(r),s=c(o,o.length,a,a.length);for(var u=l=0;l<s.length&&(i=s[l]);l++){for(var d,h=0;h<i.m.length&&(d=i.m[h]);h++)qe(d)===r&&Ee.removeChild.call(r,d),a.splice(i.index+u,1);u-=i.v}for(u=0;u<s.length&&(i=s[u]);u++)for(l=a[i.index],h=i.index;h<i.index+i.v;h++)d=o[h],Ee.insertBefore.call(r,d,l),a.splice(h,0,d)}}if(!v.preferPerformance&&!this.K)for(t=0,n=(d=this.host.childNodes).length;t<n;t++)r=p(i=d[t]),qe(i)!==this.host||"slot"!==i.localName&&r.assignedSlot||Ee.removeChild.call(this.host,i);this.K=!0,Ye=e,Ve&&Ve()},window.customElements&&v.G&&!v.preferPerformance){var rt=new Map;Ve=function(){var e=Array.from(rt);rt.clear();for(var t=(e=l(e)).next();!t.done;t=e.next()){var n=(t=l(t.value)).next().value;t.next().value?n.R():n.S()}},Ye&&document.addEventListener("readystatechange",function(){Ye=!1,Ve()},{once:!0});var it=window.customElements.define;Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:function(e,t){var n=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;it.call(window.customElements,e,function(e,t,n){var r=0,i="__isConnected"+r++;return(t||n)&&(e.prototype.connectedCallback=e.prototype.R=function(){Ye?rt.set(this,!0):this[i]||(this[i]=!0,t&&t.call(this))},e.prototype.disconnectedCallback=e.prototype.S=function(){Ye?this.isConnected||rt.set(this,!1):this[i]&&(this[i]=!1,n&&n.call(this))}),e}(t,n,r)),t.prototype.connectedCallback=n,t.prototype.disconnectedCallback=r}})}var ot=te.parentNode,at=window.document,st=v.la;function lt(e,t,n){if(e.ownerDocument!==at&&t.ownerDocument!==at)return Ee.insertBefore.call(e,t,n);if(t===e)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(n){var r=p(n);if(void 0!==(r=r&&r.parentNode)&&r!==e||void 0===r&&ot(n)!==e)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(n===t)return t;var i,o=[],a=mt,s=x(e);if(i=s?s.host.localName:bt(e),t.parentNode){var u=bt(t);ut(t.parentNode,t,!(!s&&t.getRootNode()instanceof ShadowRoot)),a=function(e,t){vt()&&(yt(e,u),mt(e,t))}}r=!0;var c=!(st&&void 0!==t.__noInsertionPoint||function e(t,n){var r=vt();if(!r)return!0;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=!0;for(var i=0;r&&i<t.childNodes.length;i++)r=r&&e(t.childNodes[i],n);return r}return t.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(t)===n}(t,i));if(s)t.__noInsertionPoint&&!c||wt(t,function(e){"slot"===e.localName&&o.push(e),c&&a(e,i)});else if(c){var d=bt(t);wt(t,function(e){var t=i;vt()&&(yt(e,d),mt(e,t))})}return o.length&&function(e,t){e.c=e.c||[],e.a=e.a||[],e.b=e.b||{},e.c.push.apply(e.c,t instanceof Array?t:function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(l(t)))}(s,o),("slot"===e.localName||o.length)&&s&&Ke(s),b(e)&&(function(e,t,n){je(t);var r=f(t);if(void 0!==r.firstChild&&(r.childNodes=null),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=e.childNodes;for(var i=0;i<r.length;i++)Fe(r[i],t,n);t=void 0!==(e=f(e)).firstChild?null:void 0,e.firstChild=e.lastChild=t,e.childNodes=t}else Fe(e,t,n)}(t,e,n),s=p(e),ct(e)?(Ke(s.root),r=!1):s.root&&(r=!1)),r?(r=w(e)?e.host:e,n?(n=function e(t){var n=t;t&&"slot"===t.localName&&(n=(n=(n=p(t))&&n.h)&&n.length?n[0]:e(t.nextSibling));return n}(n),Ee.insertBefore.call(r,t,n)):Ee.appendChild.call(r,t)):t.ownerDocument!==e.ownerDocument&&e.ownerDocument.adoptNode(t),ht(e,t),t}function ut(e,t,n){if(n=void 0!==n&&n,e.ownerDocument!==at)return Ee.removeChild.call(e,t);if(t.parentNode!==e)throw Error("The node to be removed is not a child of this node: "+t);var r=x(t),i=p(e);if(b(e)&&(function(e,t){var n=f(e);e===(t=f(t)).firstChild&&(t.firstChild=n.nextSibling),e===t.lastChild&&(t.lastChild=n.previousSibling),e=n.previousSibling;var r=n.nextSibling;e&&(f(e).nextSibling=r),r&&(f(r).previousSibling=e),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==t.childNodes&&(t.childNodes=null)}(t,e),ct(e))){Ke(i.root);var o=!0}if(vt()&&!n&&r){var a=bt(t);wt(t,function(e){yt(e,a)})}if(function e(t){var n=p(t);if(n&&void 0!==n.l){n=t.childNodes;for(var r,i=0,o=n.length;i<o&&(r=n[i]);i++)e(r)}(t=p(t))&&(t.l=void 0)}(t),r){var s=e&&"slot"===e.localName;s&&(o=!0),((n=function(e,t){if(e.a){Je(e);var n,r=e.b;for(n in r)for(var i=r[n],o=0;o<i.length;o++){var a=i[o];if(P(t,a)){i.splice(o,1);var s=e.a.indexOf(a);if(0<=s&&e.a.splice(s,1),o--,s=(a=p(a)).h)for(var l=0;l<s.length;l++){var u=s[l],c=qe(u);c&&Ee.removeChild.call(c,u)}a.h=[],a.assignedNodes=[],s=!0}}return s}}(r,t))||s)&&Ke(r)}return o||(o=w(e)?e.host:e,(!i.root&&"slot"!==t.localName||o===ot(t))&&Ee.removeChild.call(o,t)),ht(e,null,t),t}function ct(e){return(e=(e=p(e))&&e.root)&&nt(e)}function dt(e,t){if("slot"===t)ct(e=e.parentNode)&&Ke(p(e).root);else if("slot"===e.localName&&"name"===t&&(t=x(e))){if(t.a){Je(t);var n=e.T,r=et(e);if(r!==n){var i=(n=t.b[n]).indexOf(e);0<=i&&n.splice(i,1),(n=t.b[r]||(t.b[r]=[])).push(e),1<n.length&&(t.b[r]=tt(n))}}Ke(t)}}function ht(e,t,n){(e=(e=p(e))&&e.i)&&(t&&e.addedNodes.push(t),n&&e.removedNodes.push(n),function(e){e.c||(e.c=!0,D(function(){e.flush()}))}(e))}function ft(e,t,n){var r=[];return function e(t,n,r,i){for(var o,a=0,s=t.length;a<s&&(o=t[a]);a++){var l;if(l=o.nodeType===Node.ELEMENT_NODE){var u=n,c=r,d=i,h=u(l=o);h&&d.push(l),c&&c(h)?l=h:(e(l.childNodes,u,c,d),l=void 0)}if(l)break}}(e.childNodes,t,n,r),r}var pt=null;function vt(){return pt||(pt=window.ShadyCSS&&window.ShadyCSS.ScopingShim),pt||null}function gt(e,t,n){if(e.ownerDocument!==at)Ee.setAttribute.call(e,t,n);else{var r=vt();r&&"class"===t?r.setElementClass(e,n):(Ee.setAttribute.call(e,t,n),dt(e,t))}}function mt(e,t){var n=vt();n&&n.scopeNode(e,t)}function yt(e,t){var n=vt();n&&n.unscopeNode(e,t)}function bt(e){if(e.nodeType!==Node.ELEMENT_NODE)return"";var t=vt();return t?t.currentScopeForNode(e):""}function wt(e,t){if(e){e.nodeType===Node.ELEMENT_NODE&&t(e);for(var n,r=0;r<e.childNodes.length;r++)(n=e.childNodes[r]).nodeType===Node.ELEMENT_NODE&&wt(n,t)}}function xt(){this.c=!1,this.addedNodes=[],this.removedNodes=[],this.w=new Set}xt.prototype.flush=function(){if(this.c){this.c=!1;var e=this.takeRecords();e.length&&this.w.forEach(function(t){t(e)})}},xt.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var e=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],e}return[]};var Et="__eventWrappers"+Date.now(),St=function(){var e=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return e?function(t){return e.get.call(t)}:null}(),Ct={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},_t={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Tt(e,t){var n=[],r=e;for(e=e===window?window:e.getRootNode();r;)n.push(r),r=r.assignedSlot?r.assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(t||r!==e)?r.host:r.parentNode;return n[n.length-1]===document&&n.push(window),n}function Nt(e,t){if(!w)return e;e=Tt(e,!0);for(var n,r,i,o,a=0;a<t.length;a++)if((i=(n=t[a])===window?window:n.getRootNode())!==r&&(o=e.indexOf(i),r=i),!w(i)||-1<o)return n}var kt={get composed(){return void 0===this.o&&(St?this.o="focusin"===this.type||"focusout"===this.type||St(this):!1!==this.isTrusted&&(this.o=Ct[this.type])),this.o||!1},composedPath:function(){return this.H||(this.H=Tt(this.__target,this.composed)),this.H},get target(){return Nt(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.C?(this.J||(this.J=Tt(this.C,!0)),Nt(this.currentTarget||this.__previousCurrentTarget,this.J)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.B=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.B=this.O=!0}};function Dt(e){function t(t,n){return(t=new e(t,n)).o=n&&!!n.composed,t}return function(e,t){for(var n in t)e[n]=t[n]}(t,e),t.prototype=e.prototype,t}var Mt={focus:!0,blur:!0};function Pt(e){return e.__target!==e.target||e.C!==e.relatedTarget}function Ot(e,t,n){if(n=t.__handlers&&t.__handlers[e.type]&&t.__handlers[e.type][n])for(var r,i=0;(r=n[i])&&(!Pt(e)||e.target!==e.relatedTarget)&&(r.call(t,e),!e.O);i++);}function At(e){var t,n=e.composedPath();Object.defineProperty(e,"currentTarget",{get:function(){return i},configurable:!0});for(var r=n.length-1;0<=r;r--){var i=n[r];if(Ot(e,i,"capture"),e.B)return}for(Object.defineProperty(e,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var o=p(i=n[r]);if(o=o&&o.root,(0===r||o&&o===t)&&(Ot(e,i,"bubble"),i!==window&&(t=i.getRootNode()),e.B))break}}function Lt(e,t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a],l=s.type,u=s.capture,c=s.once,d=s.passive;if(t===s.node&&n===l&&r===u&&i===c&&o===d)return a}return-1}function Bt(e,t,n){if(t){var r=typeof t;if(("function"===r||"object"===r)&&("object"!==r||t.handleEvent&&"function"==typeof t.handleEvent)){var i=this instanceof Window?Ee.$:Ee.addEventListener;if(_t[e])return i.call(this,e,t,n);if(n&&"object"==typeof n)var o=!!n.capture,a=!!n.once,s=!!n.passive;else o=!!n,s=a=!1;var l=n&&n.D||this,u=t[Et];if(u){if(-1<Lt(u,l,e,o,a,s))return}else t[Et]=[];u=function(i){if(a&&this.removeEventListener(e,t,n),i.__target||jt(i),l!==this){var o=Object.getOwnPropertyDescriptor(i,"currentTarget");Object.defineProperty(i,"currentTarget",{get:function(){return l},configurable:!0})}if(i.__previousCurrentTarget=i.currentTarget,(!w(l)||-1!=i.composedPath().indexOf(l))&&(i.composed||-1<i.composedPath().indexOf(l)))if(Pt(i)&&i.target===i.relatedTarget)i.eventPhase===Event.BUBBLING_PHASE&&i.stopImmediatePropagation();else if(i.eventPhase===Event.CAPTURING_PHASE||i.bubbles||i.target===l||l instanceof Window){var s="function"===r?t.call(l,i):t.handleEvent&&t.handleEvent(i);return l!==this&&(o?(Object.defineProperty(i,"currentTarget",o),o=null):delete i.currentTarget),s}},t[Et].push({node:l,type:e,capture:o,once:a,passive:s,ba:u}),Mt[e]?(this.__handlers=this.__handlers||{},this.__handlers[e]=this.__handlers[e]||{capture:[],bubble:[]},this.__handlers[e][o?"capture":"bubble"].push(u)):i.call(this,e,u,n)}}}function It(e,t,n){if(t){var r=this instanceof Window?Ee.aa:Ee.removeEventListener;if(_t[e])return r.call(this,e,t,n);if(n&&"object"==typeof n)var i=!!n.capture,o=!!n.once,a=!!n.passive;else i=!!n,a=o=!1;var s=n&&n.D||this,l=void 0,u=null;try{u=t[Et]}catch(e){}u&&(-1<(o=Lt(u,s,e,i,o,a))&&(l=u.splice(o,1)[0].ba,u.length||(t[Et]=void 0))),r.call(this,e,l||t,n),l&&Mt[e]&&this.__handlers&&this.__handlers[e]&&(-1<(l=(e=this.__handlers[e][i?"capture":"bubble"]).indexOf(l))&&e.splice(l,1))}}function jt(e){if(e.__target=e.target,e.C=e.relatedTarget,v.g){var t=Object.getPrototypeOf(e);if(!t.hasOwnProperty("__patchProto")){var n=Object.create(t);n.ca=t,C(n,kt),t.__patchProto=n}e.__proto__=t.__patchProto}else C(e,kt)}var Rt=Dt(window.Event),Ft=Dt(window.CustomEvent),zt=Dt(window.MouseEvent);function Vt(e){var t=e.getRootNode();return w(t)&&Ue(t),(e=p(e))&&e.assignedSlot||null}var qt={addEventListener:Bt.bind(window),removeEventListener:It.bind(window)},Ht={addEventListener:Bt,removeEventListener:It,appendChild:function(e){return lt(this,e)},insertBefore:function(e,t){return lt(this,e,t)},removeChild:function(e){return ut(this,e)},replaceChild:function(e,t){return lt(this,e,t),ut(this,t),e},cloneNode:function(e){if("template"==this.localName)var t=Ee.cloneNode.call(this,e);else if(t=Ee.cloneNode.call(this,!1),e&&t.nodeType!==Node.ATTRIBUTE_NODE){e=this.childNodes;for(var n,r=0;r<e.length;r++)n=e[r].cloneNode(!0),t.appendChild(n)}return t},getRootNode:function(){return function e(t){if(t&&t.nodeType){var n=f(t),r=n.l;return void 0===r&&(w(t)?(r=t,n.l=r):(r=(r=t.parentNode)?e(r):t,Ee.contains.call(document.documentElement,t)&&(n.l=r))),r}}(this)},contains:function(e){return P(this,e)},dispatchEvent:function(e){return I(),Ee.dispatchEvent.call(this,e)}};Object.defineProperties(Ht,{isConnected:{get:function(){if(Ne&&Ne.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var e=this.ownerDocument;if(M){if(Ee.contains.call(e,this))return!0}else if(e.documentElement&&Ee.contains.call(e.documentElement,this))return!0;for(e=this;e&&!(e instanceof Document);)e=e.parentNode||(w(e)?e.host:void 0);return!!(e&&e instanceof Document)},configurable:!0}});var Xt={get assignedSlot(){return Vt(this)}},Yt={querySelector:function(e){return ft(this,function(t){return S.call(t,e)},function(e){return!!e})[0]||null},querySelectorAll:function(e,t){if(t){t=Array.prototype.slice.call(Ee.querySelectorAll.call(this,e));var n=this.getRootNode();return t.filter(function(e){return e.getRootNode()==n})}return ft(this,function(t){return S.call(t,e)})}},Wt={},Gt={assignedNodes:function(e){if("slot"===this.localName){var t=this.getRootNode();return w(t)&&Ue(t),(t=p(this))&&(e&&e.flatten?t.h:t.assignedNodes)||[]}}},Kt=_({setAttribute:function(e,t){gt(this,e,t)},removeAttribute:function(e){Ee.removeAttribute.call(this,e),dt(this,e)},attachShadow:function(e){if(!this)throw"Must provide a host.";if(!e)throw"Not enough arguments.";return new Ge(Xe,this,e)},get slot(){return this.getAttribute("slot")},set slot(e){gt(this,"slot",e)},get assignedSlot(){return Vt(this)}},Yt,Gt);Object.defineProperties(Kt,Oe);var Ut={importNode:function(e,t){return function e(t,n){if(t.ownerDocument!==document||"template"===t.localName)return Ee.importNode.call(document,t,n);var r=Ee.importNode.call(document,t,!1);if(n){t=t.childNodes,n=0;for(var i;n<t.length;n++)i=e(t[n],!0),r.appendChild(i)}return r}(e,t)},getElementById:function(e){return ft(this,function(t){return t.id==e},function(e){return!!e})[0]||null}};Object.defineProperties(Ut,{_activeElement:Ae.activeElement});for(var Zt=HTMLElement.prototype.blur,$t={blur:function(){var e=p(this);(e=(e=e&&e.root)&&e.activeElement)?e.blur():Zt.call(this)}},Qt={},Jt=l(Object.getOwnPropertyNames(Document.prototype)),en=Jt.next();!en.done;Qt={f:Qt.f},en=Jt.next())Qt.f=en.value,"on"===Qt.f.substring(0,2)&&Object.defineProperty($t,Qt.f,{set:function(e){return function(t){var n=f(this),r=e.f.substring(2);n.s[e.f]&&this.removeEventListener(r,n.s[e.f]),this.addEventListener(r,t,{}),n.s[e.f]=t}}(Qt),get:function(e){return function(){var t=p(this);return t&&t.s[e.f]}}(Qt),configurable:!0});var tn=_({addEventListener:function(e,t,n){"object"!=typeof n&&(n={capture:!!n}),n.D=this,this.host.addEventListener(e,t,n)},removeEventListener:function(e,t,n){"object"!=typeof n&&(n={capture:!!n}),n.D=this,this.host.removeEventListener(e,t,n)},getElementById:function(e){return ft(this,function(t){return t.id==e},function(e){return!!e})[0]||null}},Yt);function nn(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o.value?e[i]=o.value:Object.defineProperty(e,i,o)}}if(v.preferPerformance||(_(Ut,Yt),_(Wt,Yt)),v.G){window.ShadyDOM={inUse:v.G,patch:function(e){return je(e),Ie(e),e},isShadyRoot:w,enqueue:B,flush:I,settings:v,filterMutations:function(e,t){var n=t.getRootNode();return e.map(function(e){var t=n===e.target.getRootNode();if(t&&e.addedNodes){if((t=Array.from(e.addedNodes).filter(function(e){return n===e.getRootNode()})).length)return e=Object.create(e),Object.defineProperty(e,"addedNodes",{value:t,configurable:!0}),e}else if(t)return e}).filter(function(e){return e})},observeChildren:function(e,t){var n=f(e);n.i||(n.i=new xt),n.i.w.add(t);var r=n.i;return{U:t,X:r,W:e,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(e){var t=e&&e.X;t&&(t.w.delete(e.U),t.w.size||(f(e.W).i=null))},nativeMethods:Ee,nativeTree:te,deferConnectionCallbacks:v.deferConnectionCallbacks,preferPerformance:v.preferPerformance,handlesDynamicScoping:!0},function(){if(window.Event=Rt,window.CustomEvent=Ft,window.MouseEvent=zt,function(){for(var e in Mt)window.addEventListener(e,function(e){e.__target||(jt(e),At(e))},!0)}(),!St&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var e=function(){var e=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(e)};Element.prototype.click?Element.prototype.click=e:HTMLElement.prototype.click&&(HTMLElement.prototype.click=e)}}();var rn=window.customElements&&window.customElements.nativeHTMLElement||HTMLElement;nn(Ge.prototype,tn),nn(window.Node.prototype,Ht),nn(window.Window.prototype,qt),nn(window.Text.prototype,Xt),nn(window.Element.prototype,Kt),nn(window.DocumentFragment.prototype,Wt),nn(window.Document.prototype,Ut),window.HTMLSlotElement&&nn(window.HTMLSlotElement.prototype,Gt),nn(rn.prototype,$t),v.g&&(Be(window.Node.prototype),Be(window.Text.prototype),Be(window.DocumentFragment.prototype),Be(window.Element.prototype),Be(rn.prototype),Be(window.Document.prototype),window.HTMLSlotElement&&Be(window.HTMLSlotElement.prototype)),function(){var e=Ge.prototype;e.__proto__=DocumentFragment.prototype,Le(e,De,!0),Le(e,Pe,!0),Le(e,Ae,!0),Object.defineProperties(e,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(t){Object.defineProperty(e,t,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(t){Object.defineProperty(e,t,{get:function(){return this.host[t]},configurable:!0})})}(),window.ShadowRoot=Ge}}).call(this)}).call(this,n(4))},function(e,t,n){(function(e){(function(){"use strict";var t,n="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function r(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function i(e){var t=o,n=e=e.replace(h,"").replace(f,""),i=new r;i.start=0,i.end=n.length;for(var a=i,s=0,l=n.length;s<l;s++)if("{"===n[s]){a.rules||(a.rules=[]);var u=a,c=u.rules[u.rules.length-1]||null;(a=new r).start=s+1,a.parent=u,a.previous=c,u.rules.push(a)}else"}"===n[s]&&(a.end=s+1,a=a.parent||i);return t(i,e)}function o(e,t){var n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent&&(n=(n=(n=function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,function(e,t){for(t=6-(e=t).length;t--;)e="0"+e;return"\\"+e})}(n=t.substring(e.previous?e.previous.end:e.parent.start,e.start-1))).replace(b," ")).substring(n.lastIndexOf(";")+1),n=e.parsedSelector=e.selector=n.trim(),e.atRule=0===n.indexOf("@"),e.atRule?0===n.indexOf("@media")?e.type=c:n.match(y)&&(e.type=u,e.keyframesName=e.selector.split(b).pop()):e.type=0===n.indexOf("--")?d:l),n=e.rules)for(var r=0,i=n.length,a=void 0;r<i&&(a=n[r]);r++)o(a,t);return e}var a,s,l=1,u=7,c=4,d=1e3,h=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,f=/@import[^;]*;/gim,p=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,v=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,g=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,m=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,y=/^@[^\s]*keyframes/,b=/\s+/g,w=!(window.ShadyDOM&&window.ShadyDOM.inUse);function x(e){a=(!e||!e.shimcssproperties)&&(w||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(s=window.ShadyCSS.cssBuild),window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?a=window.ShadyCSS.nativeCss:window.ShadyCSS?(x(window.ShadyCSS),window.ShadyCSS=void 0):x(window.WebComponents&&window.WebComponents.flags);var E=a,S=s,C=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,_=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,T=/(--[\w-]+)\s*([:,;)]|$)/gi,N=/(animation\s*:)|(animation-name\s*:)/,k=/@media\s(.*)/,D=/\{[^}]*\}/g,M=new Set;function P(e,t){return e?("string"==typeof e&&(e=i(e)),t&&L(e,t),function e(t,n,r){r=void 0===r?"":r;var i="";if(t.cssText||t.rules){var o,a=t.rules;if((o=a)&&(o=!((o=a[0])&&o.selector&&0===o.selector.indexOf("--"))),o){o=0;for(var s=a.length,l=void 0;o<s&&(l=a[o]);o++)i=e(l,n,i)}else n=n?t.cssText:(n=(n=t.cssText).replace(p,"").replace(v,"")).replace(g,"").replace(m,""),(i=n.trim())&&(i="  "+i+"\n")}return i&&(t.selector&&(r+=t.selector+" {\n"),r+=i,t.selector&&(r+="}\n\n")),r}(e,E)):""}function O(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=i(e.textContent)),e.__cssRules||null}function A(e){return!!e.parent&&e.parent.type===u}function L(e,t,n,r){if(e){var i=!1,o=e.type;if(r&&o===c){var a=e.selector.match(k);a&&(window.matchMedia(a[1]).matches||(i=!0))}if(o===l?t(e):n&&o===u?n(e):o===d&&(i=!0),(e=e.rules)&&!i)for(i=0,o=e.length,a=void 0;i<o&&(a=e[i]);i++)L(a,t,n,r)}}function B(e,t,n,r){var i=document.createElement("style");return t&&i.setAttribute("scope",t),i.textContent=e,R(i,n,r),i}var I=null;function j(e){e=document.createComment(" Shady DOM styles for "+e+" ");var t=document.head;return t.insertBefore(e,(I?I.nextSibling:null)||t.firstChild),I=e}function R(e,t,n){(t=t||document.head).insertBefore(e,n&&n.nextSibling||t.firstChild),I?e.compareDocumentPosition(I)===Node.DOCUMENT_POSITION_PRECEDING&&(I=e):I=e}function F(e,t){for(var n=0,r=e.length;t<r;t++)if("("===e[t])n++;else if(")"===e[t]&&0==--n)return t;return-1}function z(e,t){w?e.setAttribute("class",t):window.ShadyDOM.nativeMethods.setAttribute.call(e,"class",t)}var V=window.ShadyDOM&&window.ShadyDOM.wrap||function(e){return e};function q(e){var t=e.localName,n="";return t?-1<t.indexOf("-")||(n=t,t=e.getAttribute&&e.getAttribute("is")||""):(t=e.is,n=e.extends),{is:t,s:n}}function H(e){for(var t=[],n="",r=0;0<=r&&r<e.length;r++)if("("===e[r]){var i=F(e,r);n+=e.slice(r,i+1),r=i}else","===e[r]?(t.push(n),n=""):n+=e[r];return n&&t.push(n),t}function X(e){if(void 0!==S)return S;if(void 0===e.__cssBuild){var t=e.getAttribute("css-build");if(t)e.__cssBuild=t;else{if(""!==(t=(t="template"===e.localName?e.content.firstChild:e.firstChild)instanceof Comment&&"css-build"===(t=t.textContent.trim().split(":"))[0]?t[1]:"")){var n="template"===e.localName?e.content.firstChild:e.firstChild;n.parentNode.removeChild(n)}e.__cssBuild=t}}return e.__cssBuild||""}function Y(e){return!(""===(e=void 0===e?"":e)||!E)&&(w?"shadow"===e:"shady"===e)}function W(){}function G(e,t,n){var r;if(t.nodeType===Node.ELEMENT_NODE&&n(t),r="template"===t.localName?(t.content||t._content||t).childNodes:t.children||t.childNodes)for(t=0;t<r.length;t++)G(e,r[t],n)}function K(e,t,n){if(t)if(e.classList)n?(e.classList.remove("style-scope"),e.classList.remove(t)):(e.classList.add("style-scope"),e.classList.add(t));else if(e.getAttribute){var r=e.getAttribute("class");n?r&&z(e,t=r.replace("style-scope","").replace(t,"")):z(e,(r?r+" ":"")+"style-scope "+t)}}function U(e,t,n){G(de,e,function(e){K(e,t,!0),K(e,n)})}function Z(e,t){G(de,e,function(e){K(e,t||"",!0)})}function $(e,t,n,r,i){var o=de;return""===(i=void 0===i?"":i)&&(w||"shady"===(void 0===r?"":r)?i=P(t,n):i=function(e,t,n,r,i){var o=Q(n,r);return n=n?"."+n:"",P(t,function(t){t.c||(t.selector=t.g=J(e,t,e.b,n,o),t.c=!0),i&&i(t,n,o)})}(o,t,(e=q(e)).is,e.s,n)+"\n\n"),i.trim()}function Q(e,t){return t?"[is="+e+"]":e}function J(e,t,n,r,i){var o=H(t.selector);if(!A(t)){t=0;for(var a=o.length,s=void 0;t<a&&(s=o[t]);t++)o[t]=n.call(e,s,r,i)}return o.filter(function(e){return!!e}).join(",")}function ee(e){return e.replace(re,function(e,t,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+t+"("+n+")"})}function te(e,t){e=e.split(/(\[.+?\])/);for(var n=[],r=0;r<e.length;r++)if(1==r%2)n.push(e[r]);else{var i=e[r];""===i&&r===e.length-1||((i=i.split(":"))[0]+=t,n.push(i.join(":")))}return n.join("")}function ne(e){":root"===e.selector&&(e.selector="html")}W.prototype.b=function(e,t,n){var r=!1;e=e.trim();var i=re.test(e);i&&(e=ee(e=e.replace(re,function(e,t,n){return":"+t+"("+n.replace(/\s/g,"")+")"})));var o=ce.test(e);if(o){var a=function(e){for(var t,n=[];t=e.match(ce);){var r=t.index,i=F(e,r);if(-1===i)throw Error(t.input+" selector missing ')'");t=e.slice(r,i+1),e=e.replace(t,""),n.push(t)}return{A:e,matches:n}}(e);e=a.A,a=a.matches}return e=(e=e.replace(ae,":host $1")).replace(ie,function(e,i,o){return r||(e=function(e,t,n,r){var i=e.indexOf("::slotted");if(0<=e.indexOf(":host")?e=function(e,t){var n=e.match(se);return(n=n&&n[2].trim()||"")?n[0].match(oe)?e.replace(se,function(e,n,r){return t+r}):n.split(oe)[0]===t?n:"should_not_match":e.replace(":host",t)}(e,r):0!==i&&(e=n?te(e,n):e),n=!1,0<=i&&(t="",n=!0),n){var o=!0;n&&(e=e.replace(le,function(e,t){return" > "+t}))}return{value:e=e.replace(ue,function(e,t,n){return'[dir="'+n+'"] '+t+", "+t+'[dir="'+n+'"]'}),G:t,stop:o}}(o,i,t,n),r=r||e.stop,i=e.G,o=e.value),i+o}),o&&(e=function(e,t){var n=e.split("");return t.reduce(function(e,t,r){return e+t+n[r+1]},n[0])}(e,a)),i&&(e=ee(e)),e},W.prototype.c=function(e){return e.match(":host")?"":e.match("::slotted")?this.b(e,":not(.style-scope)"):te(e.trim(),":not(.style-scope)")},n.Object.defineProperties(W.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var re=/:(nth[-\w]+)\(([^)]+)\)/,ie=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,oe=/[[.:#*]/,ae=/^(::slotted)/,se=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,le=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ue=/(.*):dir\((?:(ltr|rtl))\)/,ce=/:(?:matches|any|-(?:webkit|moz)-any)/,de=new W;function he(e,t,n,r,i){this.m=e||null,this.b=t||null,this.w=n||[],this.o=null,this.cssBuild=i||"",this.s=r||"",this.a=this.i=this.l=null}function fe(e){return e?e.__styleInfo:null}function pe(e,t){return e.__styleInfo=t}function ve(e){var t=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return t&&t.call(this,e)}he.prototype.c=function(){return this.m},he.prototype._getStyleRules=he.prototype.c;var ge=navigator.userAgent.match("Trident");function me(){}function ye(e){if(!e.f){var t={},n={};be(e,n)&&(t.j=n,e.rules=null),t.cssText=e.parsedCssText.replace(D,"").replace(C,""),e.f=t}}function be(e,t){var n=e.f;if(!n){n=e.parsedCssText;for(var r;e=C.exec(n);)"inherit"===(r=(e[2]||e[3]).trim())&&"unset"===r||(t[e[1].trim()]=r),r=!0;return r}if(n.j)return Object.assign(t,n.j),!0}function we(e,t,n){return t&&(t=0<=t.indexOf(";")?xe(e,t,n):function e(t,n){var r=t.indexOf("var(");if(-1===r)return n(t,"","","");var i=F(t,r+3),o=t.substring(r+4,i);return r=t.substring(0,r),t=e(t.substring(i+1),n),-1===(i=o.indexOf(","))?n(r,o.trim(),"",t):n(r,o.substring(0,i).trim(),o.substring(i+1).trim(),t)}(t,function(t,r,i,o){return r?((r=we(e,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=we(e,n[i]||i,n)||i,t+(r||"")+o):t+o})),t&&t.trim()||""}function xe(e,t,n){t=t.split(";");for(var r,i,o=0;o<t.length;o++)if(r=t[o]){if(_.lastIndex=0,i=_.exec(r))r=we(e,n[i[1]],n);else if(-1!==(i=r.indexOf(":"))){var a=r.substring(i);a=we(e,a=a.trim(),n)||a,r=r.substring(0,i)+a}t[o]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return t.join(";")}function Ee(e,t,n){var r={},i={};return L(t,function(t){!function(e,t,n,r){if(t.f||ye(t),t.f.j){var i=q(e);e=i.is,i=i.s,i=e?Q(e,i):"html";var o=t.parsedSelector,a=":host > *"===o||"html"===o,s=0===o.indexOf(":host")&&!a;"shady"===n&&(s=!(a=o===i+" > *."+i||-1!==o.indexOf("html"))&&0===o.indexOf(i)),(a||s)&&(n=i,s&&(t.g||(t.g=J(de,t,de.b,e?"."+e:"",i)),n=t.g||i),r({A:n,K:s,S:a}))}}(e,t,n,function(n){ve.call(e._element||e,n.A)&&(n.K?be(t,r):be(t,i))})},null,!0),{L:i,J:r}}function Se(e,t,n,r){var i=q(t),o=Q(i.is,i.s),a=new RegExp("(?:^|[^.#[:])"+(t.extends?"\\"+o.slice(0,-1)+"\\]":o)+"($|[.:[\\s>+~])"),s=fe(t);i=s.m,s=s.cssBuild;var l=function(e,t){e=e.b;var n={};if(!w&&e)for(var r=0,i=e[r];r<e.length;i=e[++r]){var o=i,a=t;o.h=new RegExp("\\b"+o.keyframesName+"(?!\\B|-)","g"),o.a=o.keyframesName+"-"+a,o.g=o.g||o.selector,o.selector=o.g.replace(o.keyframesName,o.a),n[i.keyframesName]=Ce(i)}return n}(i,r);return $(t,i,function(t){var i="";if(t.f||ye(t),t.f.cssText&&(i=xe(e,t.f.cssText,n)),t.cssText=i,!w&&!A(t)&&t.cssText){var s=i=t.cssText;if(null==t.C&&(t.C=N.test(i)),t.C)if(null==t.u)for(var u in t.u=[],l)i!==(s=(s=l[u])(i))&&(i=s,t.u.push(u));else{for(u=0;u<t.u.length;++u)i=(s=l[t.u[u]])(i);s=i}t.cssText=s,t.g=t.g||t.selector,i="."+r,s=0;for(var c=(u=H(t.g)).length,d=void 0;s<c&&(d=u[s]);s++)u[s]=d.match(a)?d.replace(o,i):i+" "+d;t.selector=u.join(",")}},s)}function Ce(e){return function(t){return t.replace(e.h,e.a)}}function _e(e,t){var n=Te,r=O(e);e.textContent=P(r,function(e){var r=e.cssText=e.parsedCssText;e.f&&e.f.cssText&&(r=r.replace(p,"").replace(v,""),e.cssText=xe(n,r,t))})}n.Object.defineProperties(me.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Te=new me,Ne={},ke=window.customElements;if(ke&&!w){var De=ke.define;ke.define=function(e,t,n){Ne[e]||(Ne[e]=j(e)),De.call(ke,e,t,n)}}function Me(){this.cache={}}function Pe(){}Me.prototype.store=function(e,t,n,r){var i=this.cache[e]||[];i.push({j:t,styleElement:n,i:r}),100<i.length&&i.shift(),this.cache[e]=i};var Oe=new RegExp(de.a+"\\s*([^\\s]*)");function Ae(e){return(e=(e.classList&&e.classList.value?e.classList.value:e.getAttribute("class")||"").match(Oe))?e[1]:""}function Le(e){var t=V(e).getRootNode();return t===e||t===e.ownerDocument?"":(e=t.host)?q(e).is:""}function Be(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var o=i.getRootNode(),a=Ae(i);if(a&&o===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===X(i)))Z(i,a);else if(o instanceof ShadowRoot)for((o=Le(i))!==a&&U(i,a,o),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+de.a+")"),a=0;a<i.length;a++){var s=Le(o=i[a]);s&&K(o,s)}}}}}if(!(w||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Ie=new MutationObserver(Be),je=function(e){Ie.observe(e,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)je(document);else{var Re=function(){je(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Re):requestAnimationFrame(function(){if("loading"===document.readyState){var e=function(){Re(),document.removeEventListener("readystatechange",e)};document.addEventListener("readystatechange",e)}else Re()})}Pe=function(){Be(Ie.takeRecords())}}var Fe=Pe,ze={},Ve=Promise.resolve();function qe(e){(e=ze[e])&&(e._applyShimCurrentVersion=e._applyShimCurrentVersion||0,e._applyShimValidatingVersion=e._applyShimValidatingVersion||0,e._applyShimNextVersion=(e._applyShimNextVersion||0)+1)}function He(e){return e._applyShimCurrentVersion===e._applyShimNextVersion}var Xe=new Me;function Ye(){this.B={},this.c=document.documentElement;var e=new r;e.rules=[],this.h=pe(this.c,new he(e)),this.v=!1,this.b=this.a=null}function We(e){var t=q(e),n=t.is;t=t.s;var r=Ne[n]||null,i=ze[n];if(i)return pe(e,t=new he(n=i._styleAst,r,i.a,t,i=X(i))),t}function Ge(e){!e.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(e.a=window.ShadyCSS.ApplyShim,e.a.invalidCallback=qe),function(e){!e.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.b=window.ShadyCSS.CustomStyleInterface,e.b.transformCallback=function(t){e.D(t)},e.b.validateCallback=function(){requestAnimationFrame(function(){(e.b.enqueued||e.v)&&e.flushCustomStyles()})})}(e)}function Ke(e,t){return(t=V(t).getRootNode().host)?fe(t)||We(t)?t:Ke(e,t):e.c}function Ue(e,t,n){var r=Ke(e,t),i=fe(r),o=i.l;for(var a in r===e.c||o||(Ue(e,r,i),o=i.l),e=Object.create(o||null),r=Ee(t,n.m,n.cssBuild),t=function(e,t){var n={},r=[];return L(e,function(e){e.f||ye(e);var i=e.g||e.parsedSelector;t&&e.f.j&&i&&ve.call(t,i)&&(be(e,n),e=e.index,i=parseInt(e/32,10),r[i]=(r[i]||0)|1<<e%32)},null,!0),{j:n,key:r}}(i.m,t).j,Object.assign(e,r.J,t,r.L),t=n.o)((i=t[a])||0===i)&&(e[a]=i);for(a=Te,t=Object.getOwnPropertyNames(e),i=0;i<t.length;i++)e[r=t[i]]=we(a,e[r],e);n.l=e}(t=Ye.prototype).flush=function(){Fe()},t.I=function(e){return O(e)},t.P=function(e){return P(e)},t.prepareTemplate=function(e,t,n){this.prepareTemplateDom(e,t),this.prepareTemplateStyles(e,t,n)},t.prepareTemplateStyles=function(e,t,n){if(!e._prepared){w||Ne[t]||(Ne[t]=j(t)),e._prepared=!0,e.name=t,e.extends=n,ze[t]=e;var r=X(e),o=Y(r);n={is:t,extends:n};for(var a=[],s=e.content.querySelectorAll("style"),l=0;l<s.length;l++){var u=s[l];if(u.hasAttribute("shady-unscoped")){if(!w){var c=u.textContent;M.has(c)||(M.add(c),c=u.cloneNode(!0),document.head.appendChild(c)),u.parentNode.removeChild(u)}}else a.push(u.textContent),u.parentNode.removeChild(u)}a=a.join("").trim(),Ge(this),o||((s=!r)&&(s=_.test(a)||C.test(a),_.lastIndex=0,C.lastIndex=0),l=i(a),s&&E&&this.a&&this.a.transformRules(l,t),e._styleAst=l),s=[],E||(s=function(e){var t={},n=[],r=0;for(var i in L(e,function(e){ye(e),e.index=r++,e=e.f.cssText;for(var n;n=T.exec(e);){var i=n[1];":"!==n[2]&&(t[i]=!0)}},function(e){n.push(e)}),e.b=n,e=[],t)e.push(i);return e}(e._styleAst)),s.length&&!E||(l=w?e.content:null,t=Ne[t]||null,r=(r=$(n,e._styleAst,null,r,o?a:"")).length?B(r,n.is,l,t):null,e._style=r),e.a=s}},t.prepareTemplateDom=function(e,t){var n=X(e);w||"shady"===n||e._domPrepared||(e._domPrepared=!0,function(e,t){G(de,e,function(e){K(e,t||"")})}(e.content,t))},t.flushCustomStyles=function(){if(Ge(this),this.b){var e=this.b.processStyles();if(this.b.enqueued&&!Y(this.h.cssBuild)){if(E){if(!this.h.cssBuild)for(var t=0;t<e.length;t++){var n=this.b.getStyleForCustomStyle(e[t]);if(n&&E&&this.a){var r=O(n);Ge(this),this.a.transformRules(r),n.textContent=P(r)}}}else{for(Ue(this,this.c,this.h),t=0;t<e.length;t++)(n=this.b.getStyleForCustomStyle(e[t]))&&_e(n,this.h.l);this.v&&this.styleDocument()}this.b.enqueued=!1}}},t.styleElement=function(e,t){var n=fe(e)||We(e);if(n)if(e!==this.c&&(this.v=!0),t&&(n.o=n.o||{},Object.assign(n.o,t)),E){if(t=q(e).is,n.o){var r,i=n.o;for(r in i)null===r?e.style.removeProperty(r):e.style.setProperty(r,i[r])}!(r=ze[t])&&e!==this.c||r&&""!==X(r)||!r||!r._style||He(r)||((He(r)||r._applyShimValidatingVersion!==r._applyShimNextVersion)&&(Ge(this),this.a&&this.a.transformRules(r._styleAst,t),r._style.textContent=$(e,n.m),function(e){e._applyShimValidatingVersion=e._applyShimNextVersion,e._validating||(e._validating=!0,Ve.then(function(){e._applyShimCurrentVersion=e._applyShimNextVersion,e._validating=!1}))}(r)),w&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=$(e,n.m)),n.m=r._styleAst)}else if(this.flush(),Ue(this,e,n),n.w&&n.w.length){t=q(e).is;e:{if(r=Xe.cache[t])for(i=r.length-1;0<=i;i--){var o=r[i];t:{for(var a=n.w,s=0;s<a.length;s++){var l=a[s];if(o.j[l]!==n.l[l]){a=!1;break t}}a=!0}if(a){r=o;break e}}r=void 0}a=r?r.styleElement:null,i=n.i,(o=r&&r.i)||(o=t+"-"+(o=this.B[t]=(this.B[t]||0)+1)),n.i=o,o=n.i,s=Te,s=a?a.textContent||"":Se(s,e,n.l,o);var u=(l=fe(e)).a;u&&!w&&u!==a&&(u._useCount--,0>=u._useCount&&u.parentNode&&u.parentNode.removeChild(u)),w?l.a?(l.a.textContent=s,a=l.a):s&&(a=B(s,o,e.shadowRoot,l.b)):a?a.parentNode||(ge&&-1<s.indexOf("@media")&&(a.textContent=s),R(a,null,l.b)):s&&(a=B(s,o,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),o=a,w||(a=n.i,l=s=e.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&z(e,l)),r||Xe.store(t,n.l,o,n.i)}},t.styleDocument=function(e){this.styleSubtree(this.c,e)},t.styleSubtree=function(e,t){var n=e.shadowRoot;if((n||e===this.c)&&this.styleElement(e,t),t=n&&(n.children||n.childNodes))for(e=0;e<t.length;e++)this.styleSubtree(t[e]);else if(e=e.children||e.childNodes)for(t=0;t<e.length;t++)this.styleSubtree(e[t])},t.D=function(e){var t=this,n=X(e);if(n!==this.h.cssBuild&&(this.h.cssBuild=n),!Y(n)){var r=O(e);L(r,function(e){if(w)ne(e);else{var r=de;e.selector=e.parsedSelector,ne(e),e.selector=e.g=J(r,e,r.c,void 0,void 0)}E&&""===n&&(Ge(t),t.a&&t.a.transformRule(e))}),E?e.textContent=P(r):this.h.m.rules.push(r)}},t.getComputedStyleValue=function(e,t){var n;return E||(n=(fe(e)||fe(Ke(this,e))).l[t]),(n=n||window.getComputedStyle(e).getPropertyValue(t))?n.trim():""},t.O=function(e,t){var n=V(e).getRootNode();if(t=t?t.split(/\s/):[],!(n=n.host&&n.host.localName)){var r=e.getAttribute("class");if(r){r=r.split(/\s/);for(var i=0;i<r.length;i++)if(r[i]===de.a){n=r[i+1];break}}}n&&t.push(de.a,n),E||(n=fe(e))&&n.i&&t.push(Te.a,n.i),z(e,t.join(" "))},t.F=function(e){return fe(e)},t.N=function(e,t){K(e,t)},t.R=function(e,t){K(e,t,!0)},t.M=function(e){return Le(e)},t.H=function(e){return Ae(e)},Ye.prototype.flush=Ye.prototype.flush,Ye.prototype.prepareTemplate=Ye.prototype.prepareTemplate,Ye.prototype.styleElement=Ye.prototype.styleElement,Ye.prototype.styleDocument=Ye.prototype.styleDocument,Ye.prototype.styleSubtree=Ye.prototype.styleSubtree,Ye.prototype.getComputedStyleValue=Ye.prototype.getComputedStyleValue,Ye.prototype.setElementClass=Ye.prototype.O,Ye.prototype._styleInfoForNode=Ye.prototype.F,Ye.prototype.transformCustomStyleForDocument=Ye.prototype.D,Ye.prototype.getStyleAst=Ye.prototype.I,Ye.prototype.styleAstToString=Ye.prototype.P,Ye.prototype.flushCustomStyles=Ye.prototype.flushCustomStyles,Ye.prototype.scopeNode=Ye.prototype.N,Ye.prototype.unscopeNode=Ye.prototype.R,Ye.prototype.scopeForNode=Ye.prototype.M,Ye.prototype.currentScopeForNode=Ye.prototype.H,Object.defineProperties(Ye.prototype,{nativeShadow:{get:function(){return w}},nativeCss:{get:function(){return E}}});var Ze,$e,Qe=new Ye;window.ShadyCSS&&(Ze=window.ShadyCSS.ApplyShim,$e=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Qe,prepareTemplate:function(e,t,n){Qe.flushCustomStyles(),Qe.prepareTemplate(e,t,n)},prepareTemplateDom:function(e,t){Qe.prepareTemplateDom(e,t)},prepareTemplateStyles:function(e,t,n){Qe.flushCustomStyles(),Qe.prepareTemplateStyles(e,t,n)},styleSubtree:function(e,t){Qe.flushCustomStyles(),Qe.styleSubtree(e,t)},styleElement:function(e){Qe.flushCustomStyles(),Qe.styleElement(e)},styleDocument:function(e){Qe.flushCustomStyles(),Qe.styleDocument(e)},flushCustomStyles:function(){Qe.flushCustomStyles()},getComputedStyleValue:function(e,t){return Qe.getComputedStyleValue(e,t)},nativeCss:E,nativeShadow:w,cssBuild:S},Ze&&(window.ShadyCSS.ApplyShim=Ze),$e&&(window.ShadyCSS.CustomStyleInterface=$e)}).call(this)}).call(this,n(4))},function(e,t){(function(){"use strict";var e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function t(t){var n=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!n&&t}function n(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function r(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function i(e,t,n){n=void 0===n?new Set:n;for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var a=o;t(a);var s=a.localName;if("link"===s&&"import"===a.getAttribute("rel")){if((o=a.import)instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)i(o,t,n);o=r(e,a);continue}if("template"===s){o=r(e,a);continue}if(a=a.__CE_shadowRoot)for(a=a.firstChild;a;a=a.nextSibling)i(a,t,n)}o=o.firstChild?o.firstChild:r(e,o)}}function o(e,t,n){e[t]=n}function a(){this.a=new Map,this.f=new Map,this.c=[],this.b=!1}function s(e,t){e.b=!0,e.c.push(t)}function l(e,t){e.b&&i(t,function(t){return u(e,t)})}function u(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.c.length;n++)e.c[n](t)}}function c(e,t){var n=[];for(i(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):f(e,r)}}function d(e,t){var n=[];for(i(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function h(e,t,n){var r=(n=void 0===n?{}:n).u||new Set,o=n.h||function(t){return f(e,t)},a=[];if(i(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set(r);i.delete(n),h(e,n,{u:i,h:o})}})}else a.push(t)},r),e.b)for(t=0;t<a.length;t++)u(e,a[t]);for(t=0;t<a.length;t++)o(a[t])}function f(e,t){if(void 0===t.__CE_state){var r=t.ownerDocument;if((r.defaultView||r.__CE_isImportDocument&&r.__CE_hasRegistry)&&(r=e.a.get(t.localName))){r.constructionStack.push(t);var i=r.constructorFunction;try{try{if(new i!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{r.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=r,r.attributeChangedCallback)for(r=r.observedAttributes,i=0;i<r.length;i++){var o=r[i],a=t.getAttribute(o);null!==a&&e.attributeChangedCallback(t,o,null,a,null)}n(t)&&e.connectedCallback(t)}}}function p(e){var t=document;this.c=e,this.a=t,this.b=void 0,h(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function v(e){e.b&&e.b.disconnect()}function g(){var e=this;this.b=this.a=void 0,this.c=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function m(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function y(e){this.c=!1,this.a=e,this.j=new Map,this.f=function(e){return e()},this.b=!1,this.i=[],this.o=new p(e)}a.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},a.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},a.prototype.attributeChangedCallback=function(e,t,n,r,i){var o=e.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(t)&&o.attributeChangedCallback.call(e,t,n,r,i)},p.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||v(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)h(this.c,n[r])},y.prototype.l=function(e,n){var r=this;if(!(n instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!t(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.a.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var i=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=i("connectedCallback"),s=i("disconnectedCallback"),l=i("adoptedCallback"),u=i("attributeChangedCallback"),c=n.observedAttributes||[]}catch(e){return}finally{this.c=!1}n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:u,observedAttributes:c,constructionStack:[]},function(e,t,n){e.a.set(t,n),e.f.set(n.constructorFunction,n)}(this.a,e,n),this.i.push(n),this.b||(this.b=!0,this.f(function(){return function(e){if(!1!==e.b){e.b=!1;for(var t=e.i,n=[],r=new Map,i=0;i<t.length;i++)r.set(t[i].localName,[]);for(h(e.a,document,{h:function(t){if(void 0===t.__CE_state){var i=t.localName,o=r.get(i);o?o.push(t):e.a.a.get(i)&&n.push(t)}}}),i=0;i<n.length;i++)f(e.a,n[i]);for(;0<t.length;){var o=t.shift();i=o.localName,o=r.get(o.localName);for(var a=0;a<o.length;a++)f(e.a,o[a]);(i=e.j.get(i))&&m(i)}}}(r)}))},y.prototype.h=function(e){h(this.a,e)},y.prototype.get=function(e){if(e=this.a.a.get(e))return e.constructorFunction},y.prototype.m=function(e){if(!t(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var n=this.j.get(e);return n?n.c:(n=new g,this.j.set(e,n),this.a.a.get(e)&&!this.i.some(function(t){return t.localName===e})&&m(n),n.c)},y.prototype.s=function(e){v(this.o);var t=this.f;this.f=function(n){return e(function(){return t(n)})}},window.CustomElementRegistry=y,y.prototype.define=y.prototype.l,y.prototype.upgrade=y.prototype.h,y.prototype.get=y.prototype.get,y.prototype.whenDefined=y.prototype.m,y.prototype.polyfillWrapFlushCallback=y.prototype.s;var b=window.Document.prototype.createElement,w=window.Document.prototype.createElementNS,x=window.Document.prototype.importNode,E=window.Document.prototype.prepend,S=window.Document.prototype.append,C=window.DocumentFragment.prototype.prepend,_=window.DocumentFragment.prototype.append,T=window.Node.prototype.cloneNode,N=window.Node.prototype.appendChild,k=window.Node.prototype.insertBefore,D=window.Node.prototype.removeChild,M=window.Node.prototype.replaceChild,P=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),O=window.Element.prototype.attachShadow,A=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),L=window.Element.prototype.getAttribute,B=window.Element.prototype.setAttribute,I=window.Element.prototype.removeAttribute,j=window.Element.prototype.getAttributeNS,R=window.Element.prototype.setAttributeNS,F=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,V=window.Element.prototype.insertAdjacentHTML,q=window.Element.prototype.prepend,H=window.Element.prototype.append,X=window.Element.prototype.before,Y=window.Element.prototype.after,W=window.Element.prototype.replaceWith,G=window.Element.prototype.remove,K=window.HTMLElement,U=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Z=window.HTMLElement.prototype.insertAdjacentElement,$=window.HTMLElement.prototype.insertAdjacentHTML,Q=new function(){};function J(e,t,r){function i(t){return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var a=[],s=0;s<i.length;s++){var l=i[s];if(l instanceof Element&&n(l)&&a.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(t.apply(this,i),i=0;i<a.length;i++)d(e,a[i]);if(n(this))for(i=0;i<o.length;i++)(a=o[i])instanceof Element&&c(e,a)}}void 0!==r.g&&(t.prepend=i(r.g)),void 0!==r.append&&(t.append=i(r.append))}var ee,te=window.customElements;if(!te||te.forcePolyfill||"function"!=typeof te.define||"function"!=typeof te.get){var ne=new a;ee=ne,window.HTMLElement=function(){function e(){var e=this.constructor,t=ee.f.get(e);if(!t)throw Error("The custom element being constructed was not registered with `customElements`.");var n=t.constructionStack;if(0===n.length)return n=b.call(document,t.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=t,u(ee,n),n;var r=n[t=n.length-1];if(r===Q)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[t]=Q,Object.setPrototypeOf(r,e.prototype),u(ee,r),r}return e.prototype=K.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}(),function(){var e=ne;o(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var n=e.a.get(t);if(n)return new n.constructorFunction}return t=b.call(this,t),u(e,t),t}),o(Document.prototype,"importNode",function(t,n){return t=x.call(this,t,!!n),this.__CE_hasRegistry?h(e,t):l(e,t),t}),o(Document.prototype,"createElementNS",function(t,n){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var r=e.a.get(n);if(r)return new r.constructorFunction}return t=w.call(this,t,n),u(e,t),t}),J(e,Document.prototype,{g:E,append:S})}(),J(ne,DocumentFragment.prototype,{g:C,append:_}),function(){function e(e,r){Object.defineProperty(e,"textContent",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)r.set.call(this,e);else{var i=void 0;if(this.firstChild){var o=this.childNodes,a=o.length;if(0<a&&n(this)){i=Array(a);for(var s=0;s<a;s++)i[s]=o[s]}}if(r.set.call(this,e),i)for(e=0;e<i.length;e++)d(t,i[e])}}})}var t=ne;o(Node.prototype,"insertBefore",function(e,r){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=k.call(this,e,r),n(this))for(r=0;r<i.length;r++)c(t,i[r]);return e}return i=n(e),r=k.call(this,e,r),i&&d(t,e),n(this)&&c(t,e),r}),o(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=N.call(this,e),n(this))for(var i=0;i<r.length;i++)c(t,r[i]);return e}return r=n(e),i=N.call(this,e),r&&d(t,e),n(this)&&c(t,e),i}),o(Node.prototype,"cloneNode",function(e){return e=T.call(this,!!e),this.ownerDocument.__CE_hasRegistry?h(t,e):l(t,e),e}),o(Node.prototype,"removeChild",function(e){var r=n(e),i=D.call(this,e);return r&&d(t,e),i}),o(Node.prototype,"replaceChild",function(e,r){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=M.call(this,e,r),n(this))for(d(t,r),r=0;r<i.length;r++)c(t,i[r]);return e}i=n(e);var o=M.call(this,e,r),a=n(this);return a&&d(t,r),i&&d(t,e),a&&c(t,e),o}),P&&P.get?e(Node.prototype,P):s(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)D.call(this,this.firstChild);N.call(this,document.createTextNode(e))}})})}(),function(){function e(e,t){Object.defineProperty(e,"innerHTML",{enumerable:t.enumerable,configurable:!0,get:t.get,set:function(e){var r=this,o=void 0;if(n(this)&&(o=[],i(this,function(e){e!==r&&o.push(e)})),t.set.call(this,e),o)for(var s=0;s<o.length;s++){var u=o[s];1===u.__CE_state&&a.disconnectedCallback(u)}return this.ownerDocument.__CE_hasRegistry?h(a,this):l(a,this),e}})}function t(e,t){o(e,"insertAdjacentElement",function(e,r){var i=n(r);return e=t.call(this,e,r),i&&d(a,r),n(e)&&c(a,r),e})}function r(e,t){function n(e,t){for(var n=[];e!==t;e=e.nextSibling)n.push(e);for(t=0;t<n.length;t++)h(a,n[t])}o(e,"insertAdjacentHTML",function(e,r){if("beforebegin"===(e=e.toLowerCase())){var i=this.previousSibling;t.call(this,e,r),n(i||this.parentNode.firstChild,this)}else if("afterbegin"===e)i=this.firstChild,t.call(this,e,r),n(this.firstChild,i);else if("beforeend"===e)i=this.lastChild,t.call(this,e,r),n(i||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,t.call(this,e,r),n(this.nextSibling,i)}})}var a=ne;O&&o(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=O.call(this,e)}),A&&A.get?e(Element.prototype,A):U&&U.get?e(HTMLElement.prototype,U):s(a,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return T.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,n=t?this.content:this,r=w.call(document,this.namespaceURI,this.localName);for(r.innerHTML=e;0<n.childNodes.length;)D.call(n,n.childNodes[0]);for(e=t?r.content:r;0<e.childNodes.length;)N.call(n,e.childNodes[0])}})}),o(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return B.call(this,e,t);var n=L.call(this,e);B.call(this,e,t),t=L.call(this,e),a.attributeChangedCallback(this,e,n,t,null)}),o(Element.prototype,"setAttributeNS",function(e,t,n){if(1!==this.__CE_state)return R.call(this,e,t,n);var r=j.call(this,e,t);R.call(this,e,t,n),n=j.call(this,e,t),a.attributeChangedCallback(this,t,r,n,e)}),o(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return I.call(this,e);var t=L.call(this,e);I.call(this,e),null!==t&&a.attributeChangedCallback(this,e,t,null,null)}),o(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return F.call(this,e,t);var n=j.call(this,e,t);F.call(this,e,t);var r=j.call(this,e,t);n!==r&&a.attributeChangedCallback(this,t,n,r,e)}),Z?t(HTMLElement.prototype,Z):z?t(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),$?r(HTMLElement.prototype,$):V?r(Element.prototype,V):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),J(a,Element.prototype,{g:q,append:H}),function(e){function t(t){return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var a=[],s=0;s<i.length;s++){var l=i[s];if(l instanceof Element&&n(l)&&a.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l);else o.push(l)}for(t.apply(this,i),i=0;i<a.length;i++)d(e,a[i]);if(n(this))for(i=0;i<o.length;i++)(a=o[i])instanceof Element&&c(e,a)}}var r=Element.prototype;void 0!==X&&(r.before=t(X)),void 0!==X&&(r.after=t(Y)),void 0!==W&&o(r,"replaceWith",function(t){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&n(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(a=n(this),W.apply(this,r),r=0;r<o.length;r++)d(e,o[r]);if(a)for(d(e,this),r=0;r<i.length;r++)(o=i[r])instanceof Element&&c(e,o)}),void 0!==G&&o(r,"remove",function(){var t=n(this);G.call(this),t&&d(e,this)})}(a)}(),document.__CE_hasRegistry=!0;var re=new y(ne);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:re})}}).call(self)},function(e,t,n){var r=n(89),i=(n(40),n(27)),o=n(42),a=n(96),s=n(97),l=n(98),u=n(101)(),c=n(102).Promise,d=n(103);function h(){throw new initError("badServiceUrl")}e.exports=function(e){var t,n=i.extend({},e),f=l(),p=500;function v(e,n){var r=n||"noQueryData";t.init(o.user[r]),console.error(o.dev[e])}return new c(function(e,l){if(function(){if(!n.parentElem){var e=document.getElementById("cymine");if(!e)return console.error(o.dev.noParent.noDefault),!1;n.parentElem=e,console.info(o.dev.noParent.usingDefault)}return!0}()){(t=new d(n)).init();var c=function(){try{if(n.service){var e=new imjs.Service({token:n.service.token,root:n.service.root,errorHandler:h});return e}throw new v("noServiceUrl")}catch(e){console.error("'sbroke'",e)}}();(function(){if(n.queryOn)return i.extend(a.where[0],n.queryOn),n.query=a,n.nodeType===o.CONST.PROTEIN&&(n.query.where[0].path=o.CONST.LOOKUP_PROTEIN,"="===n.query.where[0].op&&(n.query.where[0].path+=".id"),n.query.where.length<=1&&n.query.where.push(s)),!0;throw new v("noQueryData")})()&&c&&c.records(a).then(function(i){var a=i.length,s=a?i[0].interactions.length:0,l=i.length>0&&s<=p,c=s>p;if(l){n.rawData=i,n.data=new r(i),n.cy=t.attachResults();try{f.init(n)}catch(e){console.error(e)}try{u.init(n)}catch(e){console.error(e)}console.debug("response:",i,"graphdata:",n),e(n)}else c?t.attachResults(o.user.tooManyResults):t.attachResults(o.user.noResults)}).catch(function(e){console.error("Communication error: ",e),t.attachResults(o.user.pleaseClearCache),l()})}else l("bad query")})}},function(e,t,n){var r=n(27),i=function(e,t){return e.data.label+"_"+t};e.exports=function(e){this.records=e;var t=function(e,t){var n,r;return(n=e&&e.data.symbol&&t.participant2.symbol)&&(r=t.participant2.symbol===e.data.symbol),n&&r},n=function(e,t){var n,r,i;return n=e.participant2?e.participant2:e,r=a(e),i=l(e),{classes:o(r),data:{title:n.class+" "+i,"interaction details":s(e.details,i,t),label:i,class:n.class,interactionTypes:r,symbol:n.symbol,id:n.primaryIdentifier}}},o=function(e){var t=r.uniq(e);return t.length>1&&t.push("both"),t.join(" ")},a=function(e){var t=[];if(e.details)for(var n=0;n<e.details.length;n++)t.indexOf(e.details[n].type)<0&&t.push(e.details[n].type);else t.push("master");return t},s=function(e,t,n){var r={};if(e)for(var i in e)e.hasOwnProperty(i)&&(r[e[i].name]=e[i],"unspecified"!==e[i].role1?(e[i].roles={},e[i].roles[e[i].role2]=t,e[i].roles[e[i].role1]=n.data.label):e[i].roles="unspecified");return r||{}},l=function(e){return e.participant2&&e.participant2.symbol?e.participant2.symbol:e.participant2&&e.participant2.primaryIdentifier?e.participant2.primaryIdentifier:e.symbol?e.symbol:e.details?e.details[0].name:e.primaryIdentifier?e.primaryIdentifier:"NAME MISSING"},u=function(e,t){for(var n=t.data.interactionTypes,r=[],o=0;o<n.length;o++)r.push({classes:n[o],data:{id:i(t,n[o])+"",title:"Interaction between "+e.data.label+" and "+t.data.label,source:e.data.id,target:t.data.id,interactionType:n[o]}});return r};return function e(i,o){var a,s={nodes:[],edges:[]};for(var l in i){var c,d=i[l];a=t(o,d),c=n(d,o),d.interactions?s=r.extend(s,e(d.interactions,c)):s.edges=s.edges.concat(u(o,c)),a||s.nodes.push(c)}return s}(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(92),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},h.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(41))},function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,h=c||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,v=Math.min,g=function(){return h.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return r;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var i,o,a,s,l,u,c=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function w(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-c>=a}function x(){var e=g();if(w(e))return E(e);l=setTimeout(x,function(e){var n=t-(e-u);return h?v(n,a-(e-c)):n}(e))}function E(e){return l=void 0,f&&i?b(e):(i=o=void 0,s)}function S(){var e=g(),n=w(e);if(i=arguments,o=this,u=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(x,t),d?b(e):s}(u);if(h)return l=setTimeout(x,t),b(u)}return void 0===l&&(l=setTimeout(x,t)),s}return t=y(t)||0,m(r)&&(d=!!r.leading,a=(h="maxWait"in r)?p(y(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),S.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=u=o=l=void 0},S.flush=function(){return void 0===l?s:E(g())},S}}).call(this,n(4))},function(e,t,n){e.exports=n(95)},function(e,t,n){var r,i,o;(function(){var n,a,s,l,u,c,d,h,f,p,v,g,m,y,b;s=Math.floor,p=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},f=function(e,t,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[o=s((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},c=function(e,t,n){return null==n&&(n=a),e.push(t),y(e,0,e.length-1,n)},u=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},h=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},d=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},l=function(e,t){var n,r,i,o,l,u;for(null==t&&(t=a),l=[],r=0,i=(o=function(){u=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;r<i;r++)n=o[r],l.push(b(e,n,t));return l},m=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return y(e,0,r,n),b(e,r,n)},v=function(e,t,n){var r,i,o,s,u;if(null==n&&(n=a),!(i=e.slice(0,t)).length)return i;for(l(i,n),o=0,s=(u=e.slice(t)).length;o<s;o++)r=u[o],d(i,r,n);return i.sort(n).reverse()},g=function(e,t,n){var r,i,o,s,c,d,h,v,g;if(null==n&&(n=a),10*t<=e.length){if(!(o=e.slice(0,t).sort(n)).length)return o;for(i=o[o.length-1],s=0,d=(h=e.slice(t)).length;s<d;s++)n(r=h[s],i)<0&&(f(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(l(e,n),g=[],c=0,v=p(t,e.length);0<=v?c<v:c>v;0<=v?++c:--c)g.push(u(e,n));return g},y=function(e,t,n,r){var i,o,s;for(null==r&&(r=a),i=e[n];n>t&&r(i,o=e[s=n-1>>1])<0;)e[n]=o,n=s;return e[n]=i},b=function(e,t,n){var r,i,o,s,l;for(null==n&&(n=a),i=e.length,l=t,o=e[t],r=2*t+1;r<i;)(s=r+1)<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=o,y(e,l,t,n)},n=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=c,e.pop=u,e.replace=h,e.pushpop=d,e.heapify=l,e.updateItem=m,e.nlargest=v,e.nsmallest=g,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return m(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),i=[],void 0===(o="function"==typeof(r=function(){return n})?r.apply(t,i):r)||(e.exports=o)}).call(this)},function(e){e.exports={name:"Gene_Interactions",title:"Gene --\x3e Interactions",description:"Show all interactions for a given gene.",constraintLogic:"A and B",from:"Gene",select:["primaryIdentifier","symbol","interactions.participant2.symbol","interactions.participant2.primaryIdentifier","interactions.details.name","interactions.details.role1","interactions.details.role2","interactions.details.type","interactions.details.dataSets.name"],orderBy:[{path:"symbol",direction:"ASC"}],where:[{path:"Gene",op:"LOOKUP",code:"A",editable:!0,switched:"LOCKED",switchable:!1}]}},function(e){e.exports={path:"interactions.details.type",op:"=",value:"physical",code:"B"}},function(e,t,n){var r=n(15),i=n(99)();e.exports=function(){var e,t,n={},o=function(){var o=n;o.exportElem=o.parentElem.querySelector(".export"),o.formatChooser=o.exportElem.querySelector("select"),o.exportButton=o.exportElem.querySelector("button");var s={jpg:function(){i.download(t.jpg(),"network.jpg")},png:function(){i.download(t.png(),"network.png")},csv:function(){i.sv("csv",e)},tsv:function(){i.sv("tsv",e)}};o.exportElem.addEventListener("click",function(){r.addClass(o.exportElem,"active")}),o.exportButton.addEventListener("click",function(){var e=a();try{s[e]()}catch(t){console.error("Invalid file format: '"+e+"'. ",t)}r.removeClass(o.exportElem,"active")})},a=function(){return n.formatChooser.value};return{init:function(r){n.parentElem=r.parentElem,e=r.rawData,t=r.cy,o()}}}},function(e,t,n){n(15);var r=n(100)();e.exports=function(){var e=function(e,t,n){var r;return e?(r="data:"+t+",",r+=encodeURIComponent(n)):r=n,r},t=function(t,n,r,i){var o=document.createElement("a"),a=e(i,r,t);if(r=r||"application/octet-stream",navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([t],{type:r}),n);if("download"in o)return o.href+=a,o.setAttribute("download",n),document.body.appendChild(o),setTimeout(function(){o.click(),document.body.removeChild(o)},66),!0;var s=document.createElement("iframe");return document.body.appendChild(s),s.src=a,setTimeout(function(){document.body.removeChild(s)},333),!0};return{sv:function(e,n){var i=r.format(e,n);t(i,"results-table."+e,"text/"+e,!0)},download:t,prepDownloadString:e}}},function(e,t){e.exports=function(){var e=function(e,n){for(var r,i=[],o=0;o<n.length;o++)detail=n[o],(r=e.slice(0)).splice(2,0,detail.type),i=i.concat(t(r,detail.dataSets));return i},t=function(e,t){for(var n,r=[],i=0;i<t.length;i++)ds=t[i],(n=e.slice(0)).push(ds.name),r.push(n);return r};return{format:function(t,n){var r={csv:",",tsv:"\t"},i=function(e,t){return["Gene > Symbol","Gene > DB identifier","Gene > Interactions > Details > Type","Gene > Interactions > Gene 2 . Symbol","Gene > Interactions > Gene 2 > DB identifier","Gene > Interactions > Details > Data Sets > Data Source > Name"].join(e)}(r[t])+"\n";return function(t){var n,r,i=[];t=t[0];for(var o=0;o<t.interactions.length;o++)r=t.interactions[o],n=[t.symbol,t.primaryIdentifier,r.participant2.symbol,r.participant2.primaryIdentifier],i=i.concat(e(n,r.details));return i}(n).forEach(function(e,n){dataString=e.join(r[t]),i+=dataString+"\n"}),i}}}},function(e,t,n){var r=n(15),i=n(42).showTable;e.exports=function(){var e,t={},n=function(){t.showTable=e.parentElem.querySelector(".showTable"),r.addClass(t.showTable,"enabled"),t.showTable.innerHTML=i.showInTableFormat,a()},o=function(){t.theTable=e.parentElem.querySelector(".tableView"),t.showTable.innerHTML=i.hideTableFormat,r.removeClass(t.theTable,"disabled"),r.hasClass(t.theTable,"firstRun")&&(imtables.loadTable(t.theTable,{start:0,size:25},{query:e.query,service:{root:e.service.root}}).then(function(e){console.log("Table loaded",e)},function(e){console.error("Could not load table",e)}),r.removeClass(t.theTable,"firstRun"))},a=function(){t.showTable.addEventListener("click",function(){!t.theTable||r.hasClass(t.theTable,"disabled")?o():(r.addClass(t.theTable,"disabled"),t.showTable.innerHTML=i.showInTableFormat)})};return{showTable:o,init:function(t){setTimeout(function(){"undefined"!=typeof imtables&&(e=t,n(),e.query,e.service.root)},500)}}}},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(a?a(v):w())},l="undefined"!=typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(v,1)}}var p=new Array(1e3);function v(){for(var e=0;e<i;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}i=0}var g,m,y,b,w=void 0;function x(e,t){var n=this,r=new this.constructor(C);void 0===r[S]&&F(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return j(i,r,o,n._result)})}else B(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(C);return P(t,e),t}d?w=function(){return t.nextTick(v)}:c?(m=0,y=new c(v),b=document.createTextNode(""),y.observe(b,{characterData:!0}),w=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=v,w=function(){return g.port2.postMessage(0)}):w=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(v)}:f()}catch(e){return f()}}():f();var S=Math.random().toString(36).substring(2);function C(){}var _=void 0,T=1,N=2,k={error:null};function D(e){try{return e.then}catch(e){return k.error=e,k}}function M(t,n,r){n.constructor===t.constructor&&r===x&&n.constructor.resolve===E?function(e,t){t._state===T?A(e,t._result):t._state===N?L(e,t._result):B(t,void 0,function(t){return P(e,t)},function(t){return L(e,t)})}(t,n):r===k?(L(t,k.error),k.error=null):void 0===r?A(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?P(e,n):A(e,n))},function(t){r||(r=!0,L(e,t))},e._label);!r&&i&&(r=!0,L(e,i))},e)}(t,n,r):A(t,n)}function P(e,t){var n,r;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?A(e,t):M(e,t,D(t)))}function O(e){e._onerror&&e._onerror(e._result),I(e)}function A(e,t){e._state===_&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(I,e))}function L(e,t){e._state===_&&(e._state=N,e._result=t,s(O,e))}function B(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+T]=n,i[o+N]=r,0===o&&e._state&&s(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?j(n,r,i,o):i(o);e._subscribers.length=0}}function j(t,n,r,i){var o=e(r),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return k.error=e,k}}(r,i))===k?(u=!0,s=a.error,a.error=null):l=!0,n===a)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==_||(o&&l?P(n,a):u?L(n,s):t===T?A(n,a):t===N&&L(n,a))}var R=0;function F(e){e[S]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var z=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(C),this.promise[S]||F(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&A(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=D(e);if(i===x&&e._state!==_)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===V){var o=new n(C);M(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===_&&(this._remaining--,e===N?L(r,n):this._result[t]=n),0===this._remaining&&A(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;B(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(N,t,e)})},e}(),V=function(){function t(e){this[S]=R++,this._result=this._state=void 0,this._subscribers=[],C!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){P(e,t)},function(t){L(e,t)})}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return V.prototype.then=x,V.all=function(e){return new z(this,e).promise},V.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},V.resolve=E,V.reject=function(e){var t=new this(C);return L(t,e),t},V._setScheduler=function(e){a=e},V._setAsap=function(e){s=e},V._asap=s,V.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V,V},e.exports=r()}).call(this,n(41),n(4))},function(e,t,n){var r=n(104),i=n(15),o=n(27),a=n(40),s=n(105);e.exports=function(e){o.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},this.graph=e;var t,l={name:"cose"},u={cymineHtml:{html:n(106),type:"html"},InteractionDetail:{html:n(107),type:"_"}},c=function(t){targetElem=e.parentElem.querySelector("nodeDetails"),d(t),h(t)},d=function(t){e.parentElem.querySelector(".nodeTitle").innerHTML=t.title},h=function(t){try{var n=p(t),r=e.parentElem.querySelector(".nodeInfo");n.setAttribute("class","nodeInfo"),r.parentElement.replaceChild(n,r)}catch(e){console.error("Whoopsie",e)}},f=function(e){var t=u[e];return"html"===t.type?t.html:"_"===t.type?o.template(t.html):void 0},p=function(e){var t,n,o,a=document.createElement("dl");for(var s in e)r.indexOf(s)<0&&((t=document.createElement("dt")).appendChild(document.createTextNode(s)),n=document.createElement("dd"),i.addClass(n,"cym-"+s),"object"==typeof e[s]?e[s]&&(o=e[s].class,u[o])?n.appendChild(v(e[s])):(i.addClass(n,"child"),n.appendChild(p(e[s]))):n.appendChild(document.createTextNode(e[s])),g([t,n],a));return a},v=function(e){var t=o.clone(e),n=f(e.class);return u[e.class].additionalFunction&&(t=u[e.class].additionalFunction(t)),temp=document.createElement("div"),temp.innerHTML=n(t),temp},g=function(e,t){for(var n=t.firstChild,r=0;r<e.length;r++)t.insertBefore(e[r],n)},m=function(){var n,r=function(){return e.parentElem.querySelector(".interactionFilter")},o=function(e){var r=e.target;if(r!==e.currentTarget&&"button"===r.nodeName.toLowerCase()){s();var o=r.className;i.addClass(r,"selected"),n&&n.restore(),n=t.elements().filterFn(function(e){return"default"===o?!e:!e.hasClass(o)&&!e.hasClass("both")&&!e.hasClass("master")}).remove()}},a=function(){t.makeLayout(l).run(),r().querySelector(".default").click()},s=function(){for(var e=r().querySelectorAll("button"),t=0;t<e.length;t++)i.removeClass(e[t]," selected"),i.removeClass(e[t],"selected")};return{listen:function(){r().addEventListener("click",o,!1),e.parentElem.querySelector(".reset").addEventListener("click",a,!1)}}},y=function(){try{m().listen(),t=a({container:e.targetElem,layout:l,elements:e.data,style:s,ready:function(){e.statusBar.remove()}})}catch(e){console.error(e)}t.on("tap","node",function(){c(this.data())}),t.on("tap","edge",function(){c(this.data())})},b=function(t){e.compact&&i.addClass(e.parentElem,"compact"),e.statusBar.className="status no-results",e.statusBar.innerHTML=t};return{init:function(){e.parentElem.innerHTML=f("cymineHtml"),i.addClass(e.parentElem,"cymine"),e.statusBar=e.parentElem.querySelector(".status"),e.targetElem=e.parentElem.querySelector(".cy"),e.targetElem.style.width=e.parentElem.querySelector(".graph").clientWidth+"px",console.log("%cgraph.compact","color:seagreen;font-weight:bold;",e.compact,e)},attachResults:function(e){return e?b(e):y(),t},noResults:b}}},function(e,t){e.exports=["label","objectId","title","interactionTypes","class","role1","role2"]},function(e){e.exports=[{selector:"node",style:{content:"data(label)","border-width":"2px","background-color":"#dedede","border-style":"solid","border-color":"#999"}},{selector:":selected",style:{"text-outline-color":"black","background-color":"gold","border-color":"gold","border-width":"5px","border-style":"solid"}},{selector:"edge",style:{width:"2px"}},{selector:'edge[interactionType@^="genetic"]',style:{"line-color":"#2c79be"}},{selector:'edge[interactionType@^="physical"]',style:{"line-color":"#c00"}},{selector:".genetic",style:{"border-color":"#225f95"}},{selector:".physical",style:{"border-color":"#c00"}},{selector:".both",style:{"border-color":"#77304B"}}]},function(e,t){e.exports='<body>\n  <div class="graph">\n    <div class="cy">\n      <div class="status loader"></div>\n    </div>\n    <div class="controls">\n      <div class="interactionFilter">\n        <div>Show the following interaction types:</div>\n        <div>\n          <button class="genetic">Genetic</button><button class="default selected">All</button><button class="physical">Physical</button>\n        </div>\n      </div>\n      <div class="secondaryControls">\n        <div class="reset">Reset&nbsp;view</div>\n        <div class="showTable">Show in table format</div>\n        <div class="export">Export&nbsp;graph\n          <div class="exportValues">\n            <select>\n              <option value="png">PNG</option>\n              <option value="jpg">JPG</option>\n              <option value="tsv">TSV</option>\n              <option value="csv" selected>CSV</option>\n            </select>\n            <button>Go!</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="nodeDetails">\n    <h2 class="nodeTitle"></h2>\n    <dl class="nodeInfo intro">\n      <dt class="intro">Click on a gene to get more info about it.</dt>\n    </dl>\n  </div>\n  <div class="tableView firstRun disabled"></div>\n</body>\n'},function(e,t){e.exports='<dl class="child">\n  <dt>Type</dt>\n  <dd class="cym-type">{{=type}}</dd>\n  {{if (typeof roles !== "string") { }}\n    <dt>Roles</dt>\n    <dd class="roles">\n      <dl>\n        {{for (role in roles) { }}\n        <dt> {{= role}}</dt>\n        <dd> {{= roles[role] }} </dd>\n        {{ } }}\n      </dl>\n    </dd>\n  {{ } else { }}\n    <dt>Role</dt> <dd> {{=role1}} </dd>\n  {{ } }}\n  {{ if(dataSets.length == 1) { }}\n    <dt>Data set</dt>\n    <dd class="dataSets child">{{=dataSets[0].name}}</dd>\n  {{ } else if (dataSets.length > 1) { }}\n    <dt>Data sets</dt>\n    <dd>\n      <ul class="dataSets">\n        {{for (var i=0; i <dataSets.length; i++) { }}\n          <li> {{= dataSets[i].name }} </li>\n        {{ } }}\n      </ul>\n    </dd>\n  {{ } }}\n</dl>\n'},function(e,t,n){(t=e.exports=n(43)(!1)).i(n(109),""),t.push([e.i,"\n",""])},function(e,t,n){(e.exports=n(43)(!1)).push([e.i,'.cymine .controls .interactionFilter,.cymine .status,.cymine dt.intro,.cymine dt:after{text-align:center}.loader,.loader:after,.loader:before{background:#333;-webkit-animation:load1 1s infinite ease-in-out;animation:load1 1s infinite ease-in-out;width:1em;height:4em}.loader:after,.loader:before{position:absolute;top:0;content:\'\'}.loader:before{left:-1.5em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader{text-indent:-9999em;margin:88px auto;position:relative;font-size:11px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.loader:after{left:1.5em}@-webkit-keyframes load1{0%,100%,80%{box-shadow:0 0 #333;height:4em}40%{box-shadow:0 -2em #333;height:5em}}@keyframes load1{0%,100%,80%{box-shadow:0 0 #333;height:4em}40%{box-shadow:0 -2em #333;height:5em}}.cf:after,.cf:before{content:" ";display:table}.cf:after{clear:both}.secondaryControl{min-height:2.2em;line-height:2.2em;flex-grow:1;padding:0 1em;box-sizing:border-box;color:#666;margin:0 .5em}.secondaryControl:hover{color:#333;background-color:#eee}.secondaryControl:last-of-type{margin-right:0}.secondaryControl:first-of-type{margin-left:0}body{font-family:arial,sans-serif}.cymine{display:flex;background-color:#f0f0f0;flex-wrap:wrap;border:1px solid #eee}.cymine .graph,.cymine .module,.cymine .nodeDetails{background-color:#fff;margin:1em;flex-grow:1;box-sizing:border-box;min-width:350px;min-height:350px}.cymine .module{border:1px solid #eee;border-radius:4px;flex-direction:column;justify-content:center;align-items:center}.cymine .graph,.cymine .nodeDetails{border:1px solid #eee;border-radius:4px;flex-direction:column;justify-content:center;align-items:center;font-size:.9em}.cymine .tableView{width:100%}.cymine .tableView.disabled{display:none}.cymine .nodeTitle{margin:.2em}.cymine .cy{width:350px;height:350px;margin:auto}.cymine dd,.cymine dt{float:left;margin-left:.5em;margin-top:.1em;text-transform:capitalize}.cymine dd.details,.cymine dt.details{width:97%;margin-left:0}.cymine dl{margin:0;clear:left;width:100%;float:left}.cymine dl.intro{border:0}.cymine .details>dl>dt,.cymine .details>dl>dt+dd{width:100%;border-left:solid 1px #c8c8c8;border-right:solid 1px #c8c8c8;box-sizing:border-box}.cymine dl:after,.cymine dl:before{content:" ";display:table}.cymine dl:after{clear:both}.cymine dt{font-weight:700;float:left;clear:left}.cymine dt:after{content:": "}.cymine .controls button:after,.cymine .controls button:before,.cymine dt.intro:after{content:""}.cymine dt.intro{text-transform:none;box-sizing:border-box;font-weight:400;color:#666;line-height:350px;width:100%}.cymine .dataSets{padding-left:.4em}.cymine .details>dl>dt{background-color:#eee;padding:.3em;border-top:solid 1px #c8c8c8;float:left;margin-bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}.cymine .details>dl>dt+dd{margin-top:0;clear:both;border-bottom:solid 1px #c8c8c8;border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding-bottom:.2em}.cymine .details>dl>dt+dd.child>dl .child{border-left:solid 3px #ddd}.cymine .roles,.cymine dd.child{clear:left}.cymine .status.no-results{border:1px solid #eee;min-width:350px;min-height:350px;margin:1em;border-radius:4px;flex-grow:1;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;background-color:#fff;line-height:350px}.cymine .controls{padding:0;margin:auto}.cymine .controls button{background-color:#eee;border:0;border-bottom:solid 3px #fff;padding:.5em 1.5em;color:#000;margin:0;transition:border 1s ease;position:relative}.cymine .controls button:before{width:15px;height:15px;margin-right:.5em;display:block;float:left;opacity:.4;border-radius:30px;border:2px solid #eee}.cymine .controls button.selected:before{opacity:1}.cymine .controls button.genetic:before{border-color:#225f95}.cymine .controls button.default:before{border-color:#77304B}.cymine .controls button.physical:before{border-color:#c00}.cymine .controls button:after{display:block;position:absolute;left:0;bottom:-3px;width:0;height:3px;background-color:#ec971f;transition:width .2s}.cymine .controls button:hover:after{width:100%}.cymine .controls button.selected{transition:border 1s ease;border-bottom:solid 3px #2c79be}.cymine .controls button:first-child{-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:4px;border-top-left-radius:4px;border-bottom-left-radius:4px;border-right:solid 1px #d5d5d5;margin:0}.cymine .controls button:last-child{margin:0;border-left:solid 1px #d5d5d5;-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:4px;border-top-right-radius:4px;border-bottom-right-radius:4px}@keyframes fadeIn{from{opacity:0;width:0}to{opacity:1;width:90%}}.cymine .secondaryControls{border:1px solid #eee;margin:.5em 0 0;display:flex;padding:0;flex-direction:row;align-items:flex-start}.cymine .export,.cymine .reset,.cymine .showTable{min-height:2.2em;line-height:2.2em;padding:0 1em;box-sizing:border-box}.cymine .reset,.cymine .showTable{flex-grow:1;color:#666;margin:0 .5em}.cymine .reset:hover,.cymine .showTable:hover{color:#333;background-color:#eee}.cymine .reset:last-of-type,.cymine .showTable:last-of-type{margin-right:0}.cymine .reset:first-of-type,.cymine .showTable:first-of-type{margin-left:0}.cymine .showTable{text-align:center;display:none}.cymine .showTable.enabled{transition:flex ease-in-out 2s;display:block}.cymine .export .exportValues button:after,.cymine .export .exportValues button:before,.cymine .export .exportValues button:hover:after{display:none}.cymine .export{flex-grow:1;color:#666;margin:0 .5em;text-align:right;transition:all 2s hover .5s;align-self:flex-end}.cymine .export:hover{color:#333;background-color:#eee}.cymine .export:last-of-type{margin-right:0}.cymine .export:first-of-type{margin-left:0}.cymine .export .exportValues{display:none;background-color:#fff;border-radius:2px}.cymine .export .exportValues button{background-color:#2c79be;color:#eee;border:0;border-radius:4px}.cymine .export .exportValues button:hover{border:0;background-color:#1e5180}.cymine .export.active{flex-grow:2;transition:1s}.cymine .export.active:hover{color:#666;background-color:transparent}.cymine .export.active .exportValues{display:inline;animation:fadeIn 2s}.cymine.compact.cymine{border:0;padding:0}.cymine.compact.cymine .cy,.cymine.compact.cymine .status.no-results{line-height:1.5em;height:1.5em;min-height:1.5em}.cymine.compact.cymine .graph{margin:0;padding:0;border:0;height:1.5em;min-height:1.5em}.cymine.compact.cymine .controls,.cymine.compact.cymine .nodeDetails,.cymine.compact.cymine .nodeInfo{display:none}',""])},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.dispatchEvent(new CustomEvent(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}({bubbles:!1},n)))}function a(e,t){var n=window.ShadyCSS;return n&&!n.nativeShadow?e(n):t}function s(e){var t=String(e.tagName).toLowerCase();return"<".concat(t,">")}n.r(t);var l="ActiveXObject"in window;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){return e},d=function(e){if("object"!==u(e))throw TypeError("[property] Argument is not an object: ".concat("undefined"==typeof v?"undefined":u(v)));return e&&Object.freeze(e)};function h(e,t){var n=u(e),r=c;switch(n){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"function":e=(r=e)();break;case"object":e&&Object.freeze(e),r=d}return{get:function(t){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:e},set:function(e,t,n){return r(t,n)},connect:"object"!==n&&"undefined"!==n?function(n,r,o){if(n[r]===e){var a=i(r);if(n.hasAttribute(a)){var s=n.getAttribute(a);n[r]=""===s||s}}return t&&t(n,r,o)}:t}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=new WeakMap,m=new WeakMap,y=1e3/60,b=[];function w(e){var t=e.composedPath()[0];t===e.currentTarget&&(b[0]||requestAnimationFrame(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n&&performance.now()-n>y)requestAnimationFrame(function(){return e(t)});else{var r=b[t],i=performance.now();if(r){if(g.has(r)){var o=g.get(r),s=m.get(r);try{var l=r[o];l!==s&&(m.set(r,l),l(),s||a(function(e){return e.styleElement(r)}))}catch(n){throw e(t+1,i),n}}e(t+1,i)}else a(function(e){return b.forEach(function(t){return e.styleSubtree(t)})}),b=[]}}()}),-1===b.indexOf(t)&&b.push(t))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e)throw TypeError("[render] The first argument must be a function: ".concat(p(e)));var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({shadowRoot:!0},t);return{get:function(t){var r=e(t);return function(){return r(t,n.shadowRoot?t.shadowRoot:t)}},connect:function(e,t){if(g.has(e))throw Error("[render] Render factory already used in '".concat(g.get(e),"' key"));if(n.shadowRoot&&!e.shadowRoot){var r={mode:"open"};"object"===p(n.shadowRoot)&&Object.assign(r,n.shadowRoot),e.attachShadow(r)}return e.addEventListener("@invalidate",w),g.set(e,t),function(){e.removeEventListener("@invalidate",w),g.delete(e)}}}}var E=new WeakMap;function S(e,t){var n=E.get(e);n||(n=new Map,E.set(e,n));var r=n.get(t);return r||(r={target:e,key:t,value:void 0,deps:new Set,state:1,checksum:0},n.set(t,r)),r}function C(e){var t=e.state,n=e.deps,r=t;return n.forEach(function(e){e.target[e.key],r+=e.state}),r}var _=null;function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){var t="function"==typeof Map?new Map:void 0;return(k=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return D(e,arguments,P(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),M(r,e)})(e)}function D(e,t,n){return(D=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&M(i,n.prototype),i}).apply(null,arguments)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){o(e,"@invalidate",{bubbles:!0,composed:!0})}var L=function(e,t){return t};function B(e,t){e.hybrids=t,e.connects=[],Object.keys(t).forEach(function(n){var r=t[n],i=O(r);"function"===i?r="render"===n?x(r):{get:r}:null!==r&&"object"===i&&("object"!==i||r.get||r.set)||(r=h(r)),r.get=r.get||L,Object.defineProperty(e.prototype,n,{get:function(){return function(e,t,n){var r=S(e,t);if(_===r)throw _=null,Error("[cache] Circular '".concat(t,"' get invocation in '").concat(s(e),"'"));_&&_.deps.add(r);var i=_;if(_=r,r.checksum&&r.checksum===C(r))return _=i,r.value;r.deps.clear();try{var o=n(e,r.value);o!==r.value&&(r.state+=1,r.value=o),r.checksum=C(r),_=i}catch(e){throw _=null,e}return r.value}(this,n,r.get)},set:r.set&&function(e){var t=this;!function(e,t,n,r,i){if(_)throw _=null,Error("[cache] Try to set '".concat(t,"' of '").concat(s(e),"' in get call"));var o=S(e,t),a=n(e,r,o.value);a!==o.value&&(o.state+=1,o.value=a,i())}(this,n,r.set,e,function(){return A(t)})},enumerable:!0,configurable:!1}),r.connect&&e.connects.push(function(e){return r.connect(e,n,function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&function(e,t,n){if(_)throw _=null,Error("[cache] Try to invalidate '".concat(t,"' in '").concat(s(e),"' get call"));var r=S(e,t);r.checksum=0,n&&(r.value=void 0)}(e,n),A(e)})})})}var I=new WeakMap;function j(e,t){var n=O(t);if("object"!==n&&"function"!==n)throw TypeError("[define] Invalid second argument. It must be an object or a function");var r=window.customElements.get(e);if("function"===n)return r!==t?window.customElements.define(e,t):r;if(r){if(r.hybrids===t)return r;throw Error("[define] Element '".concat(e,"' already defined"))}var i=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),N(this,P(n).apply(this,arguments))}var r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(n,k(HTMLElement)),r=n,o=[{key:"name",get:function(){return e}}],(i=[{key:"connectedCallback",value:function(){var e=this,t=this.constructor.connects.reduce(function(t,n){var r=n(e);return r&&t.add(r),t},new Set);I.set(this,t),A(this)}},{key:"disconnectedCallback",value:function(){I.get(this).forEach(function(e){return e()})}}])&&T(r.prototype,i),o&&T(r,o),n}();return B(i,t),customElements.define(e,i),i}function R(e){return Object.keys(e).reduce(function(t,n){var r,o=i(r=(r=n)[0].toLowerCase()+r.slice(1));return t[n]=j(o,e[n]),t},{})}function F(){return"object"===O(arguments.length<=0?void 0:arguments[0])?R(arguments.length<=0?void 0:arguments[0]):j.apply(void 0,arguments)}var z=new WeakMap;function V(e){var t="function"==typeof e?e:function(t){return t===e};return{get:function(e){return function(e,t){for(var n=e.parentElement||e.parentNode.host;n;){var r=n.constructor.hybrids;if(r&&t(r))return n;n=n.parentElement||n.parentNode&&n.parentNode.host}return n||null}(e,t)},connect:function(e,t,n){var r=e[t];if(r){var i=z.get(r);return i||(i=new Set,z.set(r,i)),i.add(n),function(){i.delete(n),n()}}return!1}}}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deep:!1,nested:!1},n="function"==typeof e?e:function(t){return t===e};return{get:function(e){return function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Array.from(t.children).forEach(function(t){var o=t.constructor.hybrids;o&&n(o)?(i.push(t),r.deep&&r.nested&&e(t,n,r,i)):r.deep&&e(t,n,r,i)}),i}(e,n,t)},connect:function(e,n,r){var i=new MutationObserver(r),o=new Set,a=function(t){var i=t.target;o.size||Promise.resolve().then(function(){for(var t=e[n],i=0;i<t.length;i+=1)if(o.has(t[i])){r(!1);break}o.clear()}),o.add(i)};return i.observe(e,{childList:!0,subtree:!!t.deep}),e.addEventListener("@invalidate",a),function(){i.disconnect(),e.removeEventListener("@invalidate",a)}}}}document.addEventListener("@invalidate",function(e){var t=z.get(e.composedPath()[0]);t&&t.forEach(function(e){return e()})});var H=new WeakMap,X={get:function(e,t){return H.has(e)?H.get(e):(void 0!==t&&H.set(e,t),t)},set:function(e,t){return H.set(e,t),t}};function Y(e){for(var t;e&&(t=X.get(e))&&t.endNode;)e=t.endNode;return e}function W(e){var t=X.get(e),n=t.startNode;if(n)for(var r=n,i=Y(t.endNode).nextSibling;r;){var o=r.nextSibling;r.parentNode.removeChild(r),r=o!==i&&o}}var G=new WeakMap;function K(e,t,n){var r=G.get(t),i=n.map(function(e,t){return{id:Object.prototype.hasOwnProperty.call(e,"id")?e.id:t,value:e,placeholder:null,available:!0}});if(G.set(t,i),r){var o=new Set;i.forEach(function(e){return o.add(e.id)}),r=r.filter(function(e){return!!o.has(e.id)||(W(e.placeholder),e.placeholder.parentNode.removeChild(e.placeholder),!1)})}var a=t,s=n.length-1,l=X.get(t);i.forEach(function(t,n){var i,o=r&&r.find(function(e){return e.available&&e.id===t.id});o?(o.available=!1,(i=o.placeholder).previousSibling!==a&&function(e,t){var n=X.get(e),r=n.startNode,i=Y(n.endNode);t.parentNode.insertBefore(e,t.nextSibling);for(var o=e,a=r;a;){var s=a.nextSibling;o.parentNode.insertBefore(a,o.nextSibling),o=a,a=s!==i.nextSibling&&s}}(i,a),o.value!==t.value&&Z(e,i,t.value)):(i=document.createTextNode(""),a.parentNode.insertBefore(i,a.nextSibling),Z(e,i,t.value)),a=Y(X.get(i).endNode||i),0===n&&(l.startNode=i),n===s&&(l.endNode=a),t.placeholder=i}),r&&r.forEach(function(e){e.available&&(W(e.placeholder),e.placeholder.parentNode.removeChild(e.placeholder))})}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,n){var r=Array.isArray(n)?"array":U(n),i=X.get(t,{});switch(i.type!==r&&(W(t),i=X.set(t,{type:r}),""!==t.textContent&&(t.textContent="")),r){case"function":n(e,t);break;case"array":K(e,t,n);break;default:t.textContent="number"===r||n?n:""}}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q=new WeakMap;function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee=new WeakMap;function te(e,t,n){var r=ee.get(t)||new Set,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return Array.isArray(e)?e.forEach(function(e){return t.add(e)}):null!==e&&"object"===J(e)?Object.keys(e).forEach(function(n){return e[n]&&t.add(n)}):t.add(e),t}(n);ee.set(t,i),i.forEach(function(e){t.classList.add(e),r.delete(e)}),r.forEach(function(e){t.classList.remove(e)})}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var re=new WeakMap;function ie(e,t,n){if(null===n||"object"!==ne(n))throw TypeError("Style value must be an object instance in ".concat(s(t),":"),n);var r=re.get(t)||new Map,o=Object.keys(n).reduce(function(e,o){var a=i(o),s=n[o];return s||0===s?t.style.setProperty(a,s):t.style.removeProperty(a),e.set(a,s),r.delete(a),e},new Map);r.forEach(function(e,n){t.style[n]=""}),re.set(t,o)}function oe(e,t,n){if("on"===t.substr(0,2))return function(e){return function(t,n,r,i){if(i&&n.removeEventListener(e,Q.get(i),void 0!==i.options&&i.options),r){if("function"!=typeof r)throw Error("Event listener must be a function: ".concat($(r)));Q.set(r,r.bind(null,t)),n.addEventListener(e,Q.get(r),void 0!==r.options&&r.options)}}}(t.substr(2));switch(e){case"class":return te;case"style":return ie;default:return function(r,i,o){if(n||i instanceof SVGElement||!(t in i))if(!1===o||null==o)i.removeAttribute(e);else{var a=!0===o?"":String(o);i.setAttribute(e,a)}else i[t]!==o&&(i[t]=o)}}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var le=Date.now(),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"{{h-".concat(le,"-").concat(e,"}}")},ce=ue("(\\d+)"),de=new RegExp("^".concat(ce,"$")),he=new RegExp(ce,"g"),fe="--".concat(le,"--"),pe=new RegExp(fe,"g"),ve=new WeakMap;var ge="object"===se(window.ShadyDOM)&&window.ShadyDOM.inUse?function(e){var t;return{get currentNode(){return t},nextNode:function(){return!!(t=void 0===t?e.childNodes[0]:t.childNodes.length?t.childNodes[0]:t.nextSibling?t.nextSibling:t.parentNode.nextSibling)}}}:function(e){return document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1)},me=document.createElement("div");function ye(e,t){var n=document.createElement("template"),r=[],i=function(e){var t=e.reduce(function(t,n,r){return 0===r?n:e.slice(r).join("").match(/\s*<\/\s*(table|tr|thead|tbody|tfoot|colgroup)>/)?"".concat(t,"\x3c!--").concat(ue(r-1),"--\x3e").concat(n):t+ue(r-1)+n},"");return l?t.replace(/style\s*=\s*(["][^"]+["]|['][^']+[']|[^\s"'<>\/]+)/g,function(e){return"".concat(fe).concat(e)}):t}(e);if(t&&(i="<svg>".concat(i,"</svg>")),l?n.innerHTML=i:(me.innerHTML="<template>".concat(i,"</template>"),n.content.appendChild(me.children[0].content)),t){var o=n.content.firstChild;n.content.removeChild(o),Array.from(o.childNodes).forEach(function(e){return n.content.appendChild(e)})}!function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!1);t=n.nextNode();)de.test(t.textContent)&&(t.parentNode.insertBefore(document.createTextNode(t.textContent),t),t.parentNode.removeChild(t))}(n.content);for(var s=ge(n.content),u=0,c=function(){var n=s.currentNode;if(n.nodeType===Node.TEXT_NODE){var i=n.textContent;if(!i.match(de)){var o=i.match(he);if(o){var a=n;o.reduce(function(e,t){var n=ae(e.pop().split(t),2),r=n[0],i=n[1];return r&&e.push(r),e.push(t),i&&e.push(i),e},[i]).forEach(function(e,t){0===t?a.textContent=e:a=a.parentNode.insertBefore(document.createTextNode(e),a.nextSibling)})}}var c=n.textContent.match(de);c&&(l||(n.textContent=""),r[c[1]]=[u,Z])}else n.nodeType===Node.ELEMENT_NODE&&Array.from(n.attributes).forEach(function(i){var o=i.value.trim(),a=l?i.name.replace(fe,""):i.name,s=o.match(de);if(s){var c=e[s[1]].replace(/\s*=\s*['"]*$/g,"").split(" ").pop();r[s[1]]=[u,oe(a,c,t)],n.removeAttribute(i.name)}else{var d=o.match(he);if(d){var h="attr__".concat(a);d.forEach(function(e,t){var n=ae(e.match(de),2)[1];r[n]=[u,function(n,r,i){var s=X.get(r,{});s[h]=(s[h]||o).replace(e,null==i?"":i),1!==d.length&&t+1!==d.length||(r.setAttribute(a,s[h]),s[h]=void 0)}]}),i.value="",l&&a!==i.name&&(n.removeAttribute(i.name),n.setAttribute(a,""))}}});u+=1};s.nextNode();)c();return function(e,t,i){var o=X.get(t,{type:"function"});if(n!==o.template){o.template&&W(t);var s=document.importNode(function(e,t){return t?a(function(n){var r=ve.get(e);r||(r=new Map,ve.set(e,r));var i=r.get(t);if(!i){(i=document.createElement("template")).content.appendChild(e.content.cloneNode(!0)),r.set(t,i);var o=i.content.querySelectorAll("style");Array.from(o).forEach(function(e){for(var t=e.childNodes.length+1,n=0;n<t;n+=1)e.parentNode.insertBefore(document.createTextNode(ue()),e)}),n.prepareTemplate(i,t.toLowerCase())}return i},e):e}(n,e.tagName).content,!0),u=ge(s),c=r.slice(0),d=0,h=c.shift(),f=[];for(Object.assign(o,{template:n,markers:f});u.nextNode();){var p=u.currentNode;for(p.nodeType===Node.TEXT_NODE&&(de.test(p.textContent)?p.textContent="":l&&(p.textContent=p.textContent.replace(pe,"")));h&&h[0]===d;)f.push([p,h[1]]),h=c.shift();d+=1}var v=Array.from(s.childNodes);if(o.startNode=v[0],o.endNode=v[v.length-1],t.nodeType===Node.TEXT_NODE){var g=t;v.forEach(function(e){t.parentNode.insertBefore(e,g.nextSibling),g=e})}else t.appendChild(s)}o.markers.forEach(function(t,n){var r=ae(t,2),a=r[0],s=r[1];o.lastArgs&&o.lastArgs[n]===i[n]||s(e,a,i[n],o.lastArgs?o.lastArgs[n]:void 0)}),o.lastArgs=i}}var be=new WeakMap;function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return function(r,i){var o;t&&(o=setTimeout(function(){o=void 0,requestAnimationFrame(function(){t(r,i)})},n)),be.set(i,e),e.then(function(t){o&&clearTimeout(o),be.get(i)===e&&(t(r,i),be.set(i,null))})}}function xe(e){return F(e),this}function Ee(e){return this.id=e,this}var Se=new Map;function Ce(e,t,n){return Object.assign(function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=function(e,t){return"".concat(t?"svg:":"").concat(e.join(ue()))}(e,n),a=Se.get(o);a||(a=ye(e,n),Se.set(o,a)),a(r,i,t)},{define:xe,key:Ee})}function _e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ce(e,n)}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ce(e,n,!0)}Object.assign(_e,{resolve:we}),Object.assign(Te,{resolve:we}),n.d(t,"define",function(){return F}),n.d(t,"property",function(){return h}),n.d(t,"parent",function(){return V}),n.d(t,"children",function(){return q}),n.d(t,"render",function(){return x}),n.d(t,"dispatch",function(){return o}),n.d(t,"html",function(){return _e}),n.d(t,"svg",function(){return Te})}]);